{"version":3,"sources":["component/Login/Login.module.css","store/reducers/search.js","store/actions.js","store/reducers/hotel.js","store/reducers/hotelId.js","store/reducers/login.js","component/Login/Facebook.js","component/Login/Instagram.js","component/Login/Login.js","component/Search/Search.js","component/User.js","component/MessageBox/MessageBox.js","component/MessageBox/Chatroom.js","component/Login/AuthenticatedComponent.js","component/GoogleMap/GoogleMap.js","component/Navbar/Navbar.js","component/Footer/FooterStyles.js","component/Footer/Footer.js","component/TextSlideshow/TextSlideshow.js","component/Homepage/RatingBar-non-edit.js","component/Homepage/Homepage.js","component/PhotoUpload/PhotoUpload.js","component/EditPage/RoomModal.js","component/EditPage/WarningModal.js","component/EditPage/ConfirmationModal.js","component/EditPage/EditPage.js","component/Booking/Booking.js","component/Booking/Confirmation.js","component/Booking/MyBooking.js","component/Filter/Filter.js","component/Sorter/Sorter.js","component/SearchResult/RatingBar-non-edit.js","component/SearchResult/SearchResult.js","component/Hotel/RatingBar-non-edit.js","component/ImageShow/ImageShow.js","component/Hotel/Hotel.js","component/NoMatch.js","component/HostManagement/OrderModal.js","component/HostManagement/HostMangement.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Login","TextBox","Submit","loginFailed","Signup","Facebook","Wechat","initialState","startDate","moment","Date","format","endDate","district","petType","sortPeference","searchResult","haveSearch","reducer","state","arguments","length","undefined","action","type","console","log","Object","objectSpread","history","date","resultStore","keys","result","map","i","sort","bookingStartDate","bookingEndDate","hotelChosenForBooking","expiryTime","bookingID","hotelName","hotelIcon","roomType","roomTypeID","roomPrice","vaccineRequirement","ownerName","ownerPhone","petName","petWeight","service","totalPrice","payload","hotelID","petTyle","hotelId","token","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","facebookClicked","setState","isClicked","responseFacebook","response","axios","post","name","password","email","then","data","concat","localStorage","setItem","redirectToIndex","catch","err","status","isLoggedIn","fbContent","react_default","a","createElement","facebook_login_with_button_default","appId","process","autoLoad","fields","onClick","callback","cssClass","React","Component","Instagram","responseInstagram","accessToken","igContent","instagram_login_default","clientId","buttonText","onSuccess","onFailure","isHotel","signupFailed","signupHotelFailed","errorMessage","hotelClass","customerClass","handleSubmit","e","preventDefault","login","push","handleSignup","body","handleInputChange","value","target","checked","defineProperty","chooseCustomer","chooseHotel","className","classes","style","display","padding","onChange","Login_Facebook","Login_Instagram","connect","dispatch","withRouter","library","add","faMapMarkedAlt","faPaw","faCalendarAlt","Search","districts","handleSearch","search","afterSearch","onSearch","error","dateChange","_callee","picker","regenerator_default","wrap","_context","prev","next","_d","changeDate","stop","districtChange","_callee2","_context2","changeDistrict","petTypeChange","_callee3","_context3","changePetType","serachDistricts","defaultValue","required","disabled","hidden","index","key","today","toISOString","split","threeMonthLater","setDate","getDate","react_fontawesome_index_es","icon","color","marginLeft","bundle_default","minDate","maxDate","onApply","marginRight","User","children","_this2","jwt","getItem","get","headers","Authorization","res","username","MessageBox","componentWillUpdate","nextProps","nextState","chatlist","renderChatlist","who","each","time","lastMessageTime","toTimeString","slice","conversationID","click","src","alt","lastMessage","id","pathname","Promise","resolve","reject","user","JSON","parse","window","atob","b","marginBottom","justifyContent","marginTop","alignItems","faMapMarkerAlt","faUser","faPhone","faEnvelope","require","Chatroom","socketListener","socket","on","location","newArr","text","dateString","created_at","position","authorID","author","chat","emit","newArray","toConsumableArray","activeBooking","renderActive","renderChat","scrollToBottom","dd","mm","getMonth","yyyy","getFullYear","main","lockable","toBottomHeight","dataSource","fontSize","textAlign","el","scrollIntoView","block","inline","input","send","refs","clear","socketData","room","renderBox","address","telephone","socketIOClient","_this3","fontWeight","ref","placeholder","multiline","rightButtons","AuthenticatedComponent","userid","removeItem","GoogleMap","addMarker","marker","markerObj","google","maps","Marker","coords","content","infoWindow","InfoWindow","addListener","open","zoom","height","width","googleMapsPromise","resolveGoogleMapsPromise","script","document","async","appendChild","getGoogleMaps","Map","getElementById","center","markerArray","Navigationbar","handleLogout","isLoggedInNavbar","userNavbar","hotelNavbar","guestNavbar","href","data-toggle","data-target","styles","footerStyle","backgroundColor","left","bottom","childrenStyle","flexWrap","fontFamily","borderTop","Footer","TextSlideshow","data-ride","role","fontStyle","data-slide","aria-hidden","RatingBar","Number","rating","build_default","widgetDimensions","widgetSpacings","Widget","widgetRatedColor","faQuoteRight","Homepage","redirectToSearchResult","hotelInfo","hotelListItems","Axios","_hotelInfo","listItems","toString","path","onClickHotelInfo","RatingBar_non_edit","averageRating","t0","parentElement","replace","_hotelId","changeHotelId","component_Search_Search","component_TextSlideshow_TextSlideshow","faPlus","faEdit","PhotoUpload","handleClick","isEdit","handleEditRoomTypeIconPhoto","handleAddRoomTypePhoto","faTimes","RoomModal","roomPhoto","roomIconPhoto","firstIcon","editRoomTypeContent","photos","roomE","isDelete","photoID","handleDeleteRoomTypePhoto","component_PhotoUpload_PhotoUpload","tabIndex","aria-labelledby","data-dismiss","aria-label","htmlFor","description","handleRoomDescription","WarningModal","handleConfirmDeleteRoomType","ConfirmationModal","data-backdrop","countDownSecond","faPlusSquare","EditPage","arrayIndex","newRoomType","editRoomTypeID","handleChangeCheckbox","storedVaccine","find","element","newVaccineRequirement","filter","handleRoomChange","newSingleRoomType","handleAddRoomType","constructEditPage","newAddedButNotUpdatedRoomType","addedButNotUpdatedRoomType","handleEditRoomDetial","tagName","chosenRoom","handleDeleteRoomType","put","handleChangeDistrict","hotelDistrict","_ref","asyncToGenerator","mark","URL","createObjectURL","files","newPhotoID","userName","_x","apply","targetID","currentTarget","_ref2","_i","_x2","handleEditBigIconPhoto","hotelIconFile","submitVac","vaccine","deletePhotoArray","j","addPhotosArray","photoName","promiseSubmit","hotelTel","hotelAddress","hotelDescription","deletePhotos","addPhotos","promiseArray","_loop","price","_loop2","formData","FormData","append","all","_ref3","_i5","isSaved","minusOne","getElementsByTagName","classList","remove","_x3","handleCancel","handleWindowBeforeClose","event","returnValue","isHost","rooms","options","vaccines","allVaccine","allDistricts","addEventListener","removeEventListener","setTimeout","_ref4","_callee4","resVaccines","newResVaccines","processedRoomType","_loop3","_context5","_context4","res2","t1","done","delegateYield","_x4","_this4","quantity","vaccineI","districtI","onSubmit","colSpan","component_EditPage_RoomModal","component_EditPage_WarningModal","component_EditPage_ConfirmationModal","faWeight","faDog","faSyringe","faBath","Booking","timer","now","getTime","distance","Math","floor","handleChange","handleVaccineChange","vaccineCheck","handleServiceChange","newService","promise","servicePrice","newTotalPrice","clearInterval","timerID","vaccineError","vaccineClass","checkPhone","checkWeight","isNaN","orderDate","alert","renderVaccine","paddingTop","paddingBottom","hotel","duration","hotelPrice","loading","timeID","setInterval","dd2","mm2","yyyy2","default","hotelChosenforBooking","faPrint","faCheckCircle","faReceipt","Confirmation","print","join","_arr","entries","slicedToArray","dd3","mm3","yyyy3","faHotel","faThumbsUp","faComments","getReview","reviewArray","pastBooking","renderPast","upcomingBooking","renderUpcoming","handleToggle","modal","renderModal","contactHotel","modalBody","isReviewed","changeRating","newRating","set","widgetRatedColors","widgetHoverColor","rows","review","writeReview","submitReview","comment","array","hotelIconPath","Filter","SearchResult","selected","faAngleDown","faAngleUp","faDollarSign","faStar","Sorter","onSort","sortCriteria","SortToReducer","nameButton","priceButton","ratingButton","SearchAuthenticate","searchResultArray","searchArray","convert","toArray","arr","comp","uniqueArray","final","indexOf","nameA","toUpperCase","nameB","photo","SearchResult_RatingBar_non_edit","component_Filter_Filter","component_Sorter_Sorter","RatingBarNonEdit","ImageShow","react_image_show_build_default","images","urlArray","imagesWidth","imagesHeight","imagesHeightMobile","thumbnailsWidth","thumbnailsHeight","indicators","thumbnails","fixedImagesHeight","faPhoneSquare","Hotel","onLoadDateChange","handleBookingRoomType","_roomTypeId","_roomType","_roomPrice","HotelID","hotelAverageRating","hotelEmail","hotelPhone","hotelLatitude","hotelLongitude","roomTypeArr","reviewArr","gallery","_hotelInfoArrayData","_hotelReviewArrayData","_hotelReviewArray","_gallaryArr","hotelPhoto","_fillterGallaryArr","latitude","longitude","scrollTo","vaccineListItem","roomTypeListItem","searchResultArr","_bookingButton","reviewListItem","Hotel_RatingBar_non_edit","hotelBody","chosenHotel","component_GoogleMap_GoogleMap","lat","lng","component_ImageShow_ImageShow","choose_hotel_to_book","NoMatch","home","flexDirection","borderRadius","faSortDown","OrderModal","dateObj","orderList","orderBookingContent","detailStyle","eServiceKey","eVac","vaccineRequirementJSX","totalPriceJSX","petJSX","serviceJSX","reference","openOrder","convertYMD","orderRoomType","orderRoomDate","HostManagement","handleDateChange","newStartDate","findfirstDOW","startDOW","findLastDOW","searchBookingRecord","handleBookingDateChange","handleRoomType","bookingRoomType","newRoomTypeID","booking","bookingReference","isUpdateSuccessful","bind","assertThisInitialized","handleAccidentalSubmit","handleReset","handleEditDetail","handleChartClick","elems","_chart","titleBlock","convertYMDFromDM","_model","label","textOrderRoomType","newData","newOrderBookingContent","newBooking","newBookingIndex","findIndex","addDay","isDataReceived","updateSuccess","noOfDay","setTime","DMObj","getDay","newResData","_x5","dowArr","convertDM","chartOptions","tooltips","mode","intersect","responsive","scales","yAxes","stacked","xAxes","title","availableArr","confirmedArr","outsideArr","pastArr","targetDate","dateArr","eDate","availability","available","confirmed","outside","chartData","labels","datasets","react_chartjs_2_es","onElementsClick","roomTypeI","singleDatePicker","class","component_HostManagement_OrderModal","TestHome","App","Navbar_Navbar","BrowserRouter","Switch","Route","exact","component","MyBooking","Login_AuthenticatedComponent","Footer_Footer","Boolean","hostname","match","rootReducer","combineReducers","searchReducer","hotelReducer","hotelIdReducer","loginReducer","store","createStore","applyMiddleware","logger","ReactDOM","render","es","src_App_0","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.854c66ac.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Login\":\"Login_Login__23K8l\",\"TextBox\":\"Login_TextBox__Z-8tQ\",\"Submit\":\"Login_Submit__2OZlo\",\"loginFailed\":\"Login_loginFailed__3pYqs\",\"Signup\":\"Login_Signup__3IGvf\",\"Facebook\":\"Login_Facebook__2p_PA\",\"Wechat\":\"Login_Wechat__16xOL\"};","import * as actionTypes from '../actions';\r\nimport moment from 'moment'\r\n\r\n\r\nconst initialState = {\r\n    startDate: moment(new Date()).format(\"YYYY-MM-DD\"),\r\n    endDate: moment(new Date()).format(\"YYYY-MM-DD\"),\r\n    district: 'all',\r\n    petType: 'all',\r\n    sortPeference: \"NameAscending\",\r\n    searchResult: '',\r\n    haveSearch: false\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    // eslint-disable-next-line default-case\r\n    switch (action.type) {\r\n        case actionTypes.SEARCHHOTEL:\r\n        console.log('search hotel')\r\n            return {\r\n                ...state,\r\n                startDate: action.history.startDate,\r\n                endDate: action.history.endDate,\r\n                district: action.history.district,\r\n                petType: action.history.petType,\r\n                haveSearch: true\r\n            }\r\n\r\n        case actionTypes.CHANGEDATE:\r\n        return {\r\n            ...state,\r\n            startDate: action.date.startDate,\r\n            endDate: action.date.endDate,\r\n        }\r\n\r\n        \r\n        case actionTypes.CHANGEDISTRICT:\r\n        console.log(action)\r\n        return {\r\n            ...state,\r\n            district: action.district.district,\r\n        }\r\n\r\n        case actionTypes.CHANGEPETTYPE:\r\n        return {\r\n            ...state,\r\n            petType: action.petType.petType,\r\n        }\r\n\r\n        case actionTypes.SEARCHRESULT:\r\n            let resultStore = Object.keys(action.result).map(i => action.result[i])\r\n            return {\r\n                ...state,\r\n                searchResult: resultStore,\r\n                haveSearch: true\r\n            }\r\n\r\n        case actionTypes.SORTRESULT:\r\n            return {\r\n                ...state,\r\n                sortPeference: action.sort\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n};\r\n\r\nexport default reducer;","export const SEARCHHOTEL = 'SEARCHHOTEL';\nexport const SEARCHRESULT = 'SEARCHRESULT';\nexport const SORTRESULT = 'SORTRESULT';\nexport const CHANGEDATE = 'CHANGEDATE';\nexport const CHANGEDISTRICT = 'CHANGEDISTRICT';\nexport const CHANGEPETTYPE = 'CHANGEPETTYPE';\nexport const CHANGEHOTELID = 'CHANGEHOTELID';\n\n\n\n//hotel\n\nexport const choose_hotel_to_book = (data) => {\n    return {\n        type: \"CHOOSE_HOTEL_TO_BOOK\",\n        payload: data\n    }\n  \n}\n\nexport const redirect_to_confirmation = (data) => {\n    return {\n        type: \"REDIRECT_TO_CONFIRMATION\",\n        payload: data\n    }\n}\n\n//login\nexport const login = (data) => {\n    return {\n        type: \"LOGIN\",\n        payload: data\n    }\n  \n}\n\n// export const change_hotel_id = (data) =>{\n//     return \n// }","\n\nconst initialState = {\n    bookingStartDate: '',\n    bookingEndDate: '',\n    hotelChosenForBooking:null,\n    expiryTime:null,\n    bookingID:null,\n    hotelName:null,\n    hotelIcon: null,\n    roomType:null,\n    roomTypeID:null,\n    roomPrice:null,\n    vaccineRequirement:null,\n    ownerName:null,\n    ownerPhone:null,\n    petName: null,\n    petType: null,\n    petWeight: null,\n    service: null,\n    totalPrice: null,\n};\n\nconst reducer = ( state = initialState, action ) => {\n    // eslint-disable-next-line default-case\n    switch ( action.type ) {\n        case 'CHOOSE_HOTEL_TO_BOOK':\n            return {\n                ...state,\n                bookingStartDate: action.payload.bookingStartDate,\n                bookingEndDate: action.payload.bookingEndDate,\n                hotelChosenForBooking: action.payload.hotelID,\n                expiryTime: action.payload.expiryTime,\n                bookingID:action.payload.bookingID,\n                hotelName:action.payload.hotelName,\n                hotelIcon:action.payload.hotelIcon,\n                roomType: action.payload.roomType,\n                roomTypeID: action.payload.roomTypeID,\n                roomPrice: action.payload.roomPrice,\n                vaccineRequirement: action.payload.vaccineRequirement\n            }\n        case 'REDIRECT_TO_CONFIRMATION':\n            return{\n                ...state,\n                ownerName:action.payload.ownerName,\n                ownerPhone:action.payload.ownerPhone,\n                petName: action.payload.petName,\n                petType: action.payload.petTyle,\n                petWeight: action.payload.petWeight,\n                service: action.payload.service,\n                totalPrice: action.payload.totalPrice,\n            }\n        default:\n            return state;\n    }\n    \n};\n\nexport default reducer;","import * as actionTypes from '../actions';\r\n\r\nconst initialState = {\r\n    hotelId : 0,\r\n}\r\n\r\nconst reducer  = (state = initialState, action) => {\r\n    // eslint-disable-next-line default-case\r\n    switch (action.type) {\r\n        case actionTypes.CHANGEHOTELID:\r\n            console.log('change hotel id')\r\n            return {\r\n                ...state,\r\n                hotelId: action.hotelId,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n};\r\n\r\nexport default reducer;","const initialState = {\n   token:null\n};\n\nconst reducer = ( state = initialState, action ) => {\n    // eslint-disable-next-line default-case\n    switch ( action.type ) {\n        case 'LOGIN':\n        console.log('login11111111',action.payload)\n            return {\n                ...state,\n               token:action.payload\n            }\n        \n        default:\n            return state;\n    }\n    \n};\n\nexport default reducer;","import React from 'react';\r\nimport FacebookLogin from 'react-facebook-login';\r\nimport axios from 'axios';\r\n\r\nclass Facebook extends React.Component {\r\n    constructor (props) {\r\n        super(props);\r\n        this.state = {\r\n            isLoggedIn: false,\r\n            isClicked: false\r\n        }\r\n    }\r\n\r\n    facebookClicked = () => {\r\n        this.setState({isClicked: true})\r\n    }\r\n\r\n    responseFacebook = (response) => {\r\n\r\n        if (this.state.isClicked) {\r\n            axios.post(`https://petvago.site/auth/facebook`,\r\n                {\r\n                    name: response.name,\r\n                    password: response.name,\r\n                    email: response.email\r\n                })\r\n                .then(response => {\r\n                    if (response.data === null) {\r\n                        console.log('Login failed')\r\n                    } else if (!response.data.token) {\r\n                        console.log('Login failed')\r\n                    } else {\r\n                        console.log('Login succeeded, setting token');\r\n                        console.log(`Setting tokent to localstorage: ${'petvago-token'}`);\r\n                        console.log(`Token: ${response.data.token}`);\r\n                        localStorage.setItem('petvago-token', response.data.token);\r\n                        this.props.redirectToIndex()\r\n                    }\r\n                })\r\n                .catch((err)=>{ \r\n                    if (err.response === undefined) {\r\n                        console.log(err);\r\n                    } else if (err.response.status === undefined) {\r\n                        console.log('Login failed')\r\n                    } else if (err.response.status === 401) {\r\n                        console.log('Login failed')\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n    render () {\r\n        let fbContent;\r\n\r\n        if (this.state.isLoggedIn) {\r\n            fbContent = null;\r\n        } else {\r\n            fbContent = (\r\n                <FacebookLogin\r\n                    appId={process.env.REACT_APP_FACEBOOK_APP_ID || ''}\r\n                    autoLoad={false}\r\n                    fields=\"name,email,picture\"\r\n                    onClick={this.facebookClicked}\r\n                    callback={this.responseFacebook}\r\n                    cssClass='facebook-login btn' />\r\n            )\r\n        }\r\n\r\n        return <div>\r\n            {fbContent}\r\n        </div>;\r\n    }\r\n}\r\n\r\nexport default Facebook;","import React from 'react';\r\nimport InstagramLogin from 'react-instagram-login';\r\nimport axios from 'axios';\r\n\r\nclass Instagram extends React.Component {\r\n    constructor (props) {\r\n        super(props);\r\n        this.state = {\r\n            isLoggedIn: false    \r\n        }\r\n    }\r\n\r\n    responseInstagram = (response) => {\r\n        console.log(response);\r\n\r\n        axios.post(`https://petvago.site/auth/instagram`,\r\n            {\r\n                accessToken: response,\r\n            })\r\n            .then(response => {\r\n                if (response.data === null) {\r\n                    console.log('Login failed')\r\n                } else if (!response.data.token) {\r\n                    console.log('Login failed')\r\n                } else {\r\n                    console.log('Login succeeded, setting token');\r\n                    console.log(`Setting tokent to localstorage: ${'petvago-token'}`);\r\n                    console.log(`Token: ${response.data.token}`);\r\n                    localStorage.setItem('petvago-token', response.data.token);\r\n                    this.props.redirectToIndex()\r\n                }\r\n            })\r\n            .catch((err)=>{ \r\n                if (err.response === undefined) {\r\n                    console.log(err);\r\n                } else if (err.response.status === undefined) {\r\n                    console.log('Login failed')\r\n                } else if (err.response.status === 401) {\r\n                    console.log('Login failed')\r\n                }\r\n            })\r\n    }\r\n\r\n    render () {\r\n        let igContent;\r\n\r\n        if (this.state.isLoggedIn) {\r\n            igContent = null;\r\n        } else {\r\n            igContent = (\r\n                <InstagramLogin\r\n                    clientId={process.env.REACT_APP_INSTAGRAM_CLIENT_ID || ''}\r\n                    buttonText=\"Login with Instagram\"\r\n                    onSuccess={this.responseInstagram}\r\n                    onFailure={this.responseInstagram} \r\n                    cssClass='instagram-login btn'/>\r\n            )\r\n        }\r\n\r\n        return <div>\r\n            {igContent}\r\n        </div>;\r\n    }\r\n}\r\n\r\nexport default Instagram;","import React from 'react';\r\nimport classes from './Login.module.css'\r\nimport axios from 'axios'\r\nimport { withRouter } from 'react-router-dom';\r\nimport Facebook from './Facebook';\r\nimport Instagram from './Instagram';\r\nimport { connect } from 'react-redux';\r\nimport {login} from '../../store/actions';\r\nimport './facebook.css'\r\n\r\n\r\nclass Login extends React.Component {\r\n    state = {\r\n        name: '',\r\n        password: '',\r\n        isHotel: false,\r\n        loginFailed: false,\r\n        signupFailed: false,\r\n        signupHotelFailed: false,\r\n        errorMessage: '',\r\n        hotelClass:'login-not-chosen',\r\n        customerClass:'login-chosen'\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        axios.post(`https://petvago.site/auth/jwt`,\r\n            {\r\n                name: this.state.name,\r\n                password: this.state.password,\r\n                isHotel: this.state.isHotel\r\n            })\r\n            .then(response => {\r\n                if (response.data === null) {\r\n                    this.loginFailed();\r\n                } else if (!response.data.token) {\r\n                    this.loginFailed();\r\n                } else {\r\n                    console.log('Login succeeded, setting token');\r\n                    console.log(`Setting tokent to localstorage: ${'petvago-token'}`);\r\n                    console.log(`Token: ${response.data.token}`);\r\n                    localStorage.setItem('petvago-token', response.data.token);\r\n                    this.props.login(response.data.token)\r\n                    this.props.history.push('/')\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                if (err.response.status === undefined) {\r\n                    this.loginFailed()\r\n                } else if (err.response.status === 401) {\r\n                    this.loginFailed()\r\n                }\r\n            })\r\n    }\r\n\r\n    handleSignup = () => {\r\n        if (this.state.isHotel) {\r\n            this.setState({ name: '', password: '', signupHotelFailed: true })\r\n        } else {\r\n            axios.post(`https://petvago.site/auth/signupjwt`,\r\n            {\r\n                name: this.state.name,\r\n                password: this.state.password\r\n            })\r\n            .then(response => {\r\n                if (response.data === null) {\r\n                    this.signupFailed();\r\n                } else if (response.data.token === undefined) {\r\n                    this.setState({ errorMessage: response.body })\r\n                } else {\r\n                    console.log('Signup succeeded, setting token');\r\n                    console.log(`Setting tokent to localstorage: ${'petvago-token'}`);\r\n                    console.log(`Token: ${response.data.token}`);\r\n                    localStorage.setItem('petvago-token', response.data.token);\r\n                    this.props.login(response.data.token)\r\n                    this.props.history.push('/')\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                this.signupFailed();\r\n            })\r\n        }\r\n    }\r\n\r\n    loginFailed() {\r\n        console.log('Login failed')\r\n        this.setState({ name: '', password: '', loginFailed: true })\r\n    }\r\n\r\n    signupFailed() {\r\n        console.log('Signup failed')\r\n        this.setState({ name: '', password: '', signupFailed: true })\r\n    }\r\n\r\n    // handleChangeName = (e) => {\r\n    //     this.setState({ name: e.currentTarget.value })\r\n    // }\r\n    // handleChangePassword = (e) => {\r\n    //     this.setState({ password: e.currentTarget.value })\r\n    // }\r\n\r\n    handleInputChange = (e) => {\r\n        const value = e.target.type === 'checkbox' ? e.target.checked : e.target.value;\r\n        this.setState({\r\n            [e.target.name]: value\r\n        });\r\n    }\r\n\r\n    redirectToIndex = () => {\r\n        this.props.history.push('/')\r\n    }\r\n\r\n    chooseCustomer =()=>{\r\n        this.setState({\r\n            hotelClass:'login-not-chosen',\r\n            customerClass:'login-chosen',\r\n            isHotel:false\r\n        })\r\n    }\r\n\r\n    chooseHotel=()=>{\r\n        this.setState({\r\n            hotelClass:'login-chosen',\r\n            customerClass:'login-not-chosen',\r\n            isHotel:true\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={classes.Login}>\r\n                <section>\r\n                    <h1>Login</h1>\r\n                    <div >\r\n                    <div style={{display:'flex'}}>\r\n                        <button className={this.state.customerClass} onClick={this.chooseCustomer}>Customer</button>\r\n                        <button className={this.state.hotelClass} onClick={this.chooseHotel}>Hotel</button>\r\n                    </div>\r\n                    <div className=\"login-form\" style={{padding:'10px'}}>\r\n                    <form >\r\n                        <h6>Name: </h6>\r\n                        <input type='text' name='name' className={classes.TextBox} onChange={this.handleInputChange} value={this.state.name}></input>\r\n                        <h6>Password: </h6>\r\n                        <input type='password' name='password' className={classes.TextBox} onChange={this.handleInputChange} value={this.state.password}></input>\r\n                        {this.state.loginFailed ? <h6 className={classes.loginFailed}>Incorrect username or password</h6> : null}\r\n                        {this.state.signupFailed ? <h6 className={classes.loginFailed}>Signup failed</h6> : null}\r\n                        {this.state.signupHotelFailed ? <h6 className={classes.loginFailed}>You cannot signup as hotel</h6> : null}\r\n                        <h6>{this.state.errorMessage}</h6>\r\n                        <input  type='submit' value='Submit' className={classes.Submit} onClick={this.handleSubmit}></input>\r\n                    </form>\r\n                    {this.state.isHotel===false?<button className={classes.Signup} onClick={this.handleSignup}>Signup</button>:null}\r\n                    \r\n                    {this.state.isHotel===false?<Facebook redirectToIndex={this.redirectToIndex} />:null}\r\n                    {this.state.isHotel===false? <Instagram redirectToIndex={this.redirectToIndex} />:null}\r\n                    </div>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        login: (data) => { dispatch(login(data)) },\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    }\r\n};\r\n\r\nexport default connect( mapStateToProps, mapDispatchToProps)(withRouter(Login));","import React from 'react';\r\nimport axios from 'axios';\r\nimport {withRouter} from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\nimport * as actionTypes from '../../store/actions';\r\nimport \"./Search.css\";\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faMapMarkedAlt,faPaw, faCalendarAlt } from '@fortawesome/free-solid-svg-icons'\r\n\r\n\r\n//daterangepicker\r\nimport DateRangePicker from 'react-bootstrap-daterangepicker';\r\nimport 'bootstrap-daterangepicker/daterangepicker.css';\r\nimport moment from 'moment'\r\n\r\nlibrary.add(faMapMarkedAlt)\r\nlibrary.add(faPaw)\r\nlibrary.add(faCalendarAlt)\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        search: state.search,\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        onSearch: (history) => dispatch({ type: actionTypes.SEARCHHOTEL, history: history }),\r\n        changeDate: (date) => dispatch({ type: actionTypes.CHANGEDATE, date: date }),\r\n        changeDistrict: (district) => dispatch({ type: actionTypes.CHANGEDISTRICT, district: district }),\r\n        changePetType: (petType) => dispatch({ type: actionTypes.CHANGEPETTYPE, petType: petType }),\r\n        afterSearch: (result) => dispatch({ type: actionTypes.SEARCHRESULT, result: result })\r\n    }\r\n};\r\n\r\nclass Search extends React.Component {\r\n    districts = ['Central and Western', 'Eastern', 'Islands', 'Kowloon City', 'Kwai Tsing', 'Kwun Tong', 'North', 'Sai Kung', 'Sha Tin', 'Sham Shui Po', 'Southern', 'Tai Po', 'Tsuen Wan', 'Tuen Mun', 'Wan Chai', 'Wong Tai Sin', 'Yau Tsim Mong', 'Yuen Long']\r\n\r\n\r\n    handleSearch = (e) => {\r\n        e.preventDefault();\r\n        axios.post(`https://petvago.site/api/search/`,\r\n            {\r\n                startDate: this.props.search.startDate || moment(new Date()).format(\"YYYY-MM-DD\"),\r\n                endDate: this.props.search.endDate || moment(new Date()).format(\"YYYY-MM-DD\"),\r\n                district: this.props.search.district || \"all\",\r\n                petType: this.props.search.petType || \"all\",\r\n            })\r\n            .then(response => {\r\n                if (response === null) {\r\n                    console.log('you are living failure')\r\n                } else {\r\n                    console.log(response.data)\r\n                    this.props.afterSearch(response.data)\r\n                    this.props.history.push('./search_result');\r\n                }\r\n            this.props.onSearch(this.props.search);\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n            })\r\n    }\r\n\r\n    dateChange = async (e, picker) =>{\r\n        e.preventDefault();\r\n        console.log('dateChange')\r\n        await this.setState({ \r\n            startDate: moment(new Date(picker.startDate._d|| this.props.search.startDate)).format(\"YYYY-MM-DD\") ,\r\n            endDate: moment(new Date(picker.endDate._d || this.props.search.endDate)).format(\"YYYY-MM-DD\")  })\r\n        this.props.changeDate(this.state);\r\n    }\r\n\r\n    districtChange = async (e) => {\r\n        e.preventDefault();\r\n        await this.setState({district: e.target.value},)\r\n        this.props.changeDistrict(this.state);\r\n    }\r\n\r\n    petTypeChange = async (e) => {\r\n        e.preventDefault();\r\n        await this.setState({ petType: e.target.value })\r\n        this.props.changePetType(this.state);\r\n    }\r\n\r\n\r\n    render() {\r\n        const serachDistricts = (\r\n            \r\n            <select name=\"district\" defaultValue={this.props.search.district || \"all\"} onChange={this.districtChange} required>\r\n                <option value=\"all\" disabled hidden>District</option>\r\n                <option value=\"all\">All District</option>\r\n                {this.districts.map((district, index) => {\r\n                    return <option value={district} key={index}>{district}</option>\r\n                })}\r\n            </select>\r\n        )\r\n\r\n        let today = new Date().toISOString().split('T')[0];\r\n        \r\n        //find 12 weeks later\r\n        let threeMonthLater = new Date();\r\n        threeMonthLater.setDate(threeMonthLater.getDate()+84);\r\n        threeMonthLater = threeMonthLater.toISOString().split('T')[0];\r\n               \r\n        return (\r\n            <div className=\"search-outer\">\r\n                <h1>Book a pet hotel in Hong Kong</h1>\r\n            <div className=\"search\">\r\n            \r\n            <div className=\"search-inner\">\r\n                <div className=\"search-date-box\">\r\n                <FontAwesomeIcon icon=\"calendar-alt\" style={{color:'#50b5a9', marginLeft:'10px'}}/>\r\n\r\n                <DateRangePicker\r\n                    minDate={moment(new Date(today))}\r\n                    maxDate={moment(new Date(threeMonthLater))}\r\n                    startDate={moment(new Date(this.props.search.startDate || today))}\r\n                    endDate={moment(new Date(this.props.search.endDate || today))}\r\n                    onApply={this.dateChange}\r\n                    props={this.props}>\r\n                    <button className=\"searchDate\">Date {moment(this.props.search.startDate).format('l') || 'Check-in'} - {moment(this.props.search.endDate).format('l')|| today} </button>\r\n                </DateRangePicker>\r\n                </div>\r\n                <div className=\"search-input-box\">\r\n                    <FontAwesomeIcon icon=\"map-marker-alt\" style={{color:'#50b5a9', marginLeft:'10px',marginRight:'5px'}}/>\r\n                        {serachDistricts}\r\n                </div>\r\n\r\n                <div className=\"search-input-box\">\r\n                    <FontAwesomeIcon icon=\"paw\" style={{color:'#50b5a9',marginLeft:'10px',marginRight:'5px'}}/>\r\n\r\n                    <select name=\"petType\" defaultValue={this.props.search.petType || \"all\"} onChange={this.petTypeChange} required>\r\n                        <option value=\"all\" disabled hidden>Type of Pet</option>\r\n                        <option value=\"all\">All PetType</option>\r\n                        <option value='dog'>Dog</option>\r\n                        <option value='cat'>Cat</option>\r\n                    </select>\r\n                </div>\r\n                <div className=\"search-input-button\">\r\n                    <button className=\"searchSubmit\" type=\"submit\" value=\"Submit\" onClick={this.handleSearch}>Search</button>                    \r\n                    </div>\r\n                </div>\r\n            </div>\r\n           </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Search))","import React from 'react';\nimport axios from 'axios';\nimport { withRouter } from 'react-router-dom';\n\nclass User extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            response:null\n        }\n        this.children = null\n    }\n\n    componentDidMount() {\n        const jwt = localStorage.getItem('petvago-token');\n        if (!jwt) {\n            this.props.history.push('/login')\n        }\n\n        axios.get(`https://petvago.site/api/userprofile`,{ headers: { Authorization: `Bearer ${jwt}` } }).then(res=>{\n            this.setState({response:res.data[0]})\n            console.log('userprofile',this.state.response)\n        }).catch(err => {\n            console.log(err)\n        })\n\n       \n    }\n\n  \n\n    render() {\n        if (!this.state.response) {\n            return (\n                <div>Loading ... </div>\n            )\n        }else{\n            return (\n                <div>\n                Welcome back, {this.state.response.username}\n                </div>\n            )\n\n        }\n\n        \n    }\n}\n\nexport default withRouter(User);","import React from 'react';\nimport axios from 'axios';\nimport './message.css'\nimport { withRouter } from 'react-router-dom';\n\nclass MessageBox extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            who:null,\n            chatlist:null\n        }\n        this.children = null\n    }\n\n    componentDidMount() {\n        const jwt = localStorage.getItem('petvago-token');\n        if (!jwt) {\n            this.props.history.push('/login')\n        }\n\n        let promise=new Promise((resolve,reject)=>{\n            let user=JSON.parse(window.atob(localStorage.getItem('petvago-token').split('.')[1]));\n            this.setState({\n                who: user.isHotel===false? 'users':'hotel'\n            })\n            resolve()\n        })\n\n        promise.then(()=>{\n            if(this.state.who==='users'){\n                axios.get(`https://petvago.site/api/chatroom/chatlist/user`,{ headers: { Authorization: `Bearer ${jwt}` } }).then(res=>{\n                    res.data=res.data.sort(function(a,b){\n                        return new Date(b.lastMessageTime) - new Date(a.lastMessageTime);\n                      });\n                    this.setState({chatlist:res.data})\n                    console.log(res.data)\n        \n                }).catch(err => {\n                    console.log(err)\n                })\n            }else{\n                axios.get(`https://petvago.site/api/chatroom/chatlist/hotel`,{ headers: { Authorization: `Bearer ${jwt}` } }).then(res=>{\n                    this.setState({chatlist:res.data})\n                    console.log(res.data)\n        \n                }).catch(err => {\n                    console.log(err)\n                })\n            }\n\n        })\n\n       \n\n\n    }\n\n    componentWillUpdate=(nextProps, nextState) =>{\n        if (nextState.chatlist !== this.state.chatlist ) {\n          this.renderChatlist()\n        }\n        \n      }\n\n    renderChatlist=()=>{\n        if(this.state.chatlist){\n            if(this.state.who==='users'){\n            return(\n                this.state.chatlist.map((each)=>{\n                    let time=''\n                    if(each.lastMessageTime){\n                        time=new Date(each.lastMessageTime)\n                        time= time.toTimeString();\n                        time=time.split(' ')[0];\n                        time=time.slice(0,5);\n                    }\n                    return(\n                        <div key={each.conversationID}>\n                        <div className='messageBox-conersation row' onClick={()=>this.click(each.conversationID)}>\n                        <div className=\"col-2\">\n                            <img className='messageBox-icon' src={each.icon} alt=\"icon\"/>\n                        </div>\n                        <div className=\"col-3\">\n                            {each.name}\n                        </div>\n                        <div className=\"col-5\">\n                            {each.lastMessage}\n                        </div>\n                        <div className=\"col-2\">\n                            {time}\n                        </div>\n\n                        \n\n                        </div>\n                        <div className=\"booking-line\"></div> \n                        </div>\n                    )\n\n                })\n            )\n            }else{\n                return(\n                    this.state.chatlist.map((each)=>{\n                        let time=''\n                        if(each.lastMessageTime){\n                            time=new Date(each.lastMessageTime)\n                            time= time.toTimeString();\n                            time=time.split(' ')[0];\n                            time=time.slice(0,5);\n                        }\n                        return(\n                            <div key={each.conversationID}>\n                            <div className='messageBox-conersation row' onClick={()=>this.click(each.conversationID)}>\n                            <div className=\"col-3\">\n                                {each.name}\n                            </div>\n                            <div className=\"col-7\">\n                                {each.lastMessage}\n                            </div>\n                            <div className=\"col-2\">\n                                {time}\n                            </div>\n    \n                            \n    \n                            </div>\n                            <div className=\"booking-line\"></div> \n                            </div>\n                        )\n    \n                    })\n                )\n            }\n        }\n    }\n    \n    click=(id)=>{\n        this.props.history.push({pathname:'/chatroom',state:{conversationID:id}})\n    }\n\n    render() {\n        if (!this.state.chatlist) {\n            return (\n                <div style={{display:'flex',justifyContent:'center',marginTop:'40vh', alignItems:'center'}}><img src=\"./image/run.gif\" alt='loading'/>\n                <p style={{marginLeft:'20px'}}>Loading...</p></div>\n            )\n        }else{\n            return (\n                <div className=\"messageBox\">\n                    <h1 style={{marginBottom:\"20px\"}}> All message</h1>\n                    <div className=\"booking-line\"></div> \n\n                    {this.renderChatlist()}\n\n                </div>\n            )\n\n        }\n\n        \n    }\n}\n\nexport default withRouter(MessageBox);","import React from 'react';\nimport axios from 'axios';\nimport './message.css'\nimport { withRouter } from 'react-router-dom';\nimport socketIOClient from 'socket.io-client';\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faMapMarkerAlt , faUser ,faPhone, faEnvelope} from '@fortawesome/free-solid-svg-icons';\nimport { Input , Button , MessageList } from 'react-chat-elements';\nimport 'react-chat-elements/dist/main.css';\nlibrary.add(faMapMarkerAlt)\nlibrary.add(faUser)\nlibrary.add(faPhone)\nlibrary.add(faEnvelope)\nvar moment = require('moment');\n \n\nclass Chatroom extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            activeBooking:null,\n            chat:null,\n            author:null,\n            body:null,\n            conversationID:null,\n        };\n        this.socket = socketIOClient();\n        // this.socket = socketIOClient(window.location.origin,{\n        //     transports: [ 'websocket' ]\n        // });\n    }\n\n\n\n    componentDidMount() {\n        const jwt = localStorage.getItem('petvago-token');\n        if (!jwt) {\n            this.props.history.push('/login')\n        }\n\n        this.socketListener()\n\n\n        let promise=new Promise((resolve,reject)=>{\n            let user=JSON.parse(window.atob(localStorage.getItem('petvago-token').split('.')[1]));\n            this.setState({\n                author: user.isHotel===false? 'users':'hotel'\n            })\n            resolve()\n        })\n\n        promise.then(()=>{\n            axios.get(`https://petvago.site/api/chatroom/message/${this.props.location.state.conversationID}`,{ headers: { Authorization: `Bearer ${jwt}` } }).then(res=>{\n            let newArr=res.data.map((each)=>{\n                each.text=each.body;\n                each.dateString=moment(new Date(each.created_at)).format('HH:mm');               \n                each.position=Object.keys(each.authorID)[0]===this.state.author? 'right':'left';\n                return each\n            })\n            this.setState({\n                chat:newArr\n            })\n        }).catch(err => {\n            console.log(err)\n        })\n\n            if(this.state.author==='users'){\n                axios.get(`https://petvago.site/api/chatroom/activebooking/${this.props.location.state.conversationID}`,{ headers: { Authorization: `Bearer ${jwt}` } }).then(res=>{\n                    this.setState({\n                        activeBooking:res.data[0],\n                        conversationID:this.props.location.state.conversationID\n                    })\n                }).catch(err => {\n                    console.log(err)\n                })\n            }else{\n                axios.get(`https://petvago.site/api/chatroom/userinfo/${this.props.location.state.conversationID}`,{ headers: { Authorization: `Bearer ${jwt}` } }).then(res=>{\n                    this.setState({\n                        activeBooking:res.data[0],\n                        conversationID:this.props.location.state.conversationID\n                    })\n                }).catch(err => {\n                    console.log(err)\n                })\n            }\n        })     \n\n    }\n\n    socketListener=()=>{\n        const jwt = localStorage.getItem('petvago-token');\n\n        this.socket.on('connect',() => {\n            axios.get(`https://petvago.site/api/chatroom/message/${this.props.location.state.conversationID}`,{ headers: { Authorization: `Bearer ${jwt}` } }).then(res=>{\n            let newArr=res.data.map((each)=>{\n                each.text=each.body;\n                each.dateString=moment(new Date(each.created_at)).format('HH:mm');\n                each.position=Object.keys(each.authorID)[0]===this.state.author? 'right':'left';\n                return each\n            })\n            this.setState({\n                chat:newArr\n            })\n        }).catch(err => {\n            console.log(err)\n        })\n            this.socket.emit('enter conversation', this.props.location.state.conversationID);\n        });\n\n        this.socket.on('refresh messages', data => {\n            let chat=this.state.chat;\n            let dateString=moment(new Date()).format('HH:mm');\n            if(data.author!==this.state.author){\n                let newArray=[...chat,{text:data.body,type:data.type,position:'left',dateString} ]\n                this.setState({chat:newArray})\n            }\n        });\n    }\n\n    componentWillUpdate=(nextProps, nextState) =>{\n        if (nextState.activeBooking !== this.state.activeBooking ) {\n          this.renderActive()\n        }\n\n        if (nextState.chat !== this.state.chat ) {\n            return new Promise((resolve,reject)=>{\n                this.renderChat()\n                resolve(111)\n            }).then((data)=>{\n                this.scrollToBottom()\n            })\n          }\n      }\n\n\n    renderActive=()=>{\n        if(this.state.activeBooking){\n            return(\n                this.state.activeBooking.activeBooking.map((each)=>{\n                    //format date\n                    let startDate=new Date(each.startDate)\n                    var dd = startDate.getDate();\n                    var mm = startDate.getMonth() + 1; \n                    var yyyy = startDate.getFullYear();\n                    startDate = dd + '/' + mm + '/' + yyyy;\n\n                    if(!each.startDate){\n                        return <div><p>No active booking.</p></div>\n                    }\n                    return(<div key={each.bookingID}>\n                        <p>{each.roomType} - {startDate}</p>\n                        </div>)\n                })\n            )\n        }\n    }\n\n    renderChat=()=>{\n        if(this.state.chat && this.state.chat.length>0){\n            return(\n                <MessageList\n                            className='message-list'\n                            lockable={true}\n                            toBottomHeight={'100%'}\n                            dataSource={this.state.chat} />\n            )\n        }else{\n            return(\n                <p style={{color:'#ccc', fontSize:'18px', marginTop:'30px', textAlign:'center'}}>Send a message!</p>\n            )\n        }\n        \n    }\n\n    scrollToBottom = () => {\n        if(this.state.activeBooking){\n            this.el.scrollIntoView({block: \"end\", inline: \"nearest\"});\n        }\n        \n    }\n\n    input=(e)=>{\n        this.setState({\n            body:e.target.value\n        })\n    }\n\n    send=()=>{\n        this.refs.input.clear();\n        let data={\n            body:this.state.body,\n            type:'text'\n        }\n        let dateString=moment(new Date()).format('HH:mm');\n        let chat=this.state.chat;\n\n        \n        //socket\n        let socketData={\n            body:this.state.body,\n            type:'text',\n            author:this.state.author\n        }\n\n        this.socket.emit('send messages', {data:socketData, room:this.props.location.state.conversationID});\n\n\n        //database\n        const jwt = localStorage.getItem('petvago-token');\n\n        axios.post(`https://petvago.site/api/chatroom/sendmessage/${this.state.conversationID}`,data,{ headers: { Authorization: `Bearer ${jwt}` } }).then(res=>{\n            let newArray=[...chat,{text:data.body,type:data.type,position:'right',dateString} ]\n            this.setState({chat:newArray})\n           \n        }).catch(err => {\n            console.log(err)\n        })\n    }\n\n    renderBox=()=>{\n        if (this.state.activeBooking && this.state.author===\"users\"){\n            return(<div className=\"chatroom-render-box\">\n            <img className='chatRoom-icon' src={this.state.activeBooking.icon} alt=\"icon\"/>\n            <div>\n            <p style={{ marginTop:'20px',textAlign:'center'}}>{this.state.activeBooking.hotelName}</p>\n            <p style={{fontSize:'16px', marginTop:'20px', textAlign:'center'}}><FontAwesomeIcon icon=\"map-marker-alt\" style={{marginRight:'10px', color:'#50b5a9'}}/>\n            {this.state.activeBooking.address}</p>\n            </div>\n            </div>)\n        }else if(this.state.activeBooking && this.state.author===\"hotel\"){\n            return(<div>\n                <p style={{ fontSize:'18px',marginTop:'18px', textAlign:'left'}}><FontAwesomeIcon icon=\"user\" style={{marginRight:'10px', color:'#50b5a9'}}/>{this.state.activeBooking.username}</p>\n                <p style={{fontSize:'18px', marginTop:'20px', textAlign:'left'}}><FontAwesomeIcon icon=\"phone\" style={{marginRight:'10px', color:'#50b5a9'}}/>{this.state.activeBooking.telephone}</p>\n                <p style={{ fontSize:'18px', marginTop:'20px', textAlign:'left'}}><FontAwesomeIcon icon=\"envelope\" style={{marginRight:'10px', color:'#50b5a9'}}/>{this.state.activeBooking.email}</p>\n\n        \n            </div>)\n        }\n    }\n\n\n    render() {\n        if (!this.state.activeBooking) {\n            return (\n                <div style={{display:'flex',justifyContent:'center',marginTop:'40vh',alignItems:'center'}}><img src=\"./image/run.gif\" alt='loading'/>\n                <p style={{marginLeft:'20px'}}>Loading...</p>\n                </div>\n                \n            )\n        }else{\n            return (\n               \n                <div className=\"chatroomBox row\">\n                \n                    <div className=\"activeChat-box col-md-4 col-12 d-flex flex-column align-items-center\">\n                        {this.renderBox()}\n                    <div className='activeBooking'>\n                        <p style={{fontWeight:'bold'}}>Active booking:</p>\n                        {this.renderActive()}\n                    </div>\n                        \n                    \n                    </div>\n                    <div className=\"activeChat col-md-8 col-12\">\n                        <div className=\"chatroom-message-list\">\n                            {this.renderChat()}\n                            <div ref={el => { this.el = el; }} />\n                        </div>\n                   \n                    \n                    \n                   \n                    <Input\n                        placeholder=\"Type here...\"\n                        ref='input'\n                        onChange={this.input}\n                        multiline={true}\n                        rightButtons={\n                            <Button\n                                color='white'\n                                onClick={this.send}\n                                text='Send'/>\n                                \n                        }/>\n\n                     \n                    \n                    \n                    </div>\n                    \n                </div>\n            )\n\n        }\n\n        \n    }\n}\n\nexport default withRouter(Chatroom);","import React from 'react';\r\nimport axios from 'axios';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass AuthenticatedComponent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userid: undefined,\r\n            username: undefined\r\n        }\r\n        this.children = null\r\n    }\r\n\r\n    componentDidMount() {\r\n        const jwt = localStorage.getItem('petvago-token');\r\n        if (!jwt) {\r\n            this.props.history.push('/login')\r\n        }\r\n\r\n        axios.get(`https://petvago.site/auth/verifyjwt`, { headers: { Authorization: `Bearer ${jwt}` } })\r\n            .then(res => {\r\n                this.setState({ userid: res.data.id, username: res.data.username })\r\n            })\r\n            .catch(err => {\r\n                // experimental error handling mechanism\r\n                // error may be caused by server but not wrong user input, need to handle specifically\r\n                console.log(`Cannot verify JWT: ${err}`);\r\n                localStorage.removeItem('petvago-token')\r\n                this.props.history.push('/login')\r\n            })\r\n    }\r\n\r\n    render() {\r\n        if (this.state.username === undefined) {\r\n            return (\r\n                <div>Loading ... </div>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div id='AuthenticatedComponent'>\r\n                {this.props.children}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(AuthenticatedComponent);","import React from 'react';\r\n/* global google */\r\n\r\n// GoogleMap component standard example\r\n// Default props: \r\n    // 1. zoom: 12\r\n    // 2. height: 300\r\n    // 3. width: 400\r\n    \r\n/* <GoogleMap \r\n    markerArray={[\r\n        {\r\n        coords:{lat:22.320188,lng:114.175812},\r\n        content:'<h1>Dogotel & Spa</h1>'\r\n        }\r\n    ]} \r\n    zoom={13} height={300} width={400}\r\n/> */\r\n\r\nclass GoogleMap extends React.Component {\r\n    constructor (props) {\r\n        super(props);\r\n        if (!this.props.zoom) { \r\n            this.zoom = 12 \r\n        } else {\r\n            this.zoom = this.props.zoom\r\n        }\r\n\r\n        if (!this.props.height) { \r\n            this.height = 300\r\n        } else {\r\n            this.height = this.props.height\r\n        }\r\n\r\n        if (!this.props.width) { \r\n            this.width = 400\r\n        } else {\r\n            this.width = this.props.width\r\n        }\r\n    }\r\n\r\n    getGoogleMaps() {\r\n        // If we haven't already defined the promise, define it\r\n        if (!this.googleMapsPromise) {\r\n            this.googleMapsPromise = new Promise((resolve) => {\r\n                // Add a global handler for when the API finishes loading\r\n                window.resolveGoogleMapsPromise = () => {\r\n                    // Resolve the promise\r\n                    resolve(google);\r\n\r\n                    // Tidy up\r\n                    delete window.resolveGoogleMapsPromise;\r\n                };\r\n\r\n                // Load the Google Maps API\r\n                const script = document.createElement(\"script\");\r\n                script.src = `https://maps.googleapis.com/maps/api/js?key=${process.env.REACT_APP_GOOGLE_MAP_API_KEY}&callback=resolveGoogleMapsPromise`;\r\n                script.async = true;\r\n                document.body.appendChild(script);\r\n            });\r\n        }\r\n\r\n        // Return a promise for the Google Maps API\r\n        return this.googleMapsPromise;\r\n    }\r\n\r\n    componentWillMount() {\r\n        // Start Google Maps API loading since we know we'll soon need it\r\n        this.getGoogleMaps();\r\n    }\r\n\r\n    componentDidMount() {\r\n        // Once the Google Maps API has finished loading, initialize the map\r\n        this.getGoogleMaps().then((google) => {\r\n            const map = new google.maps.Map(document.getElementById('GoogleMap'), {\r\n                zoom: this.zoom,\r\n                center: this.props.markerArray[0].coords\r\n            });\r\n\r\n            for (let marker in this.props.markerArray) {\r\n                this.addMarker(this.props.markerArray[marker], map);\r\n            }\r\n        });\r\n    }\r\n\r\n    addMarker = (marker, map) => {\r\n        let markerObj = new google.maps.Marker({\r\n            position: marker.coords,\r\n            map: map,\r\n        });\r\n    \r\n        if (marker.content) {\r\n            var infoWindow = new google.maps.InfoWindow({\r\n                content: marker.content\r\n            });\r\n    \r\n            markerObj.addListener('click', function () {\r\n                infoWindow.open(map, markerObj);\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id='GoogleMap' style={{width: this.width, height: this.height}}></div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default GoogleMap;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport \"./Navbar.css\"\r\n\r\nclass Navigationbar extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            token:this.props.token\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.isLoggedInNavbar();\r\n    }\r\n\r\n    \r\n    componentWillUpdate=(nextProps, nextState) =>{\r\n        if (nextState.token !== this.state.token ) {\r\n            console.log('22222')\r\n        }\r\n        \r\n      }\r\n\r\n    isLoggedInNavbar() {\r\n        \r\n        if (!localStorage.getItem('petvago-token')) {\r\n            return this.guestNavbar();\r\n        } else {\r\n            let user=JSON.parse(window.atob(localStorage.getItem('petvago-token').split('.')[1]));\r\n            if(user.isHotel===false){\r\n                return this.userNavbar();\r\n            }else{\r\n                return this.hotelNavbar();\r\n            }\r\n        }\r\n    }\r\n\r\n    handleLogout = () => {\r\n        localStorage.removeItem('petvago-token');\r\n    }\r\n\r\n    guestNavbar() {\r\n        return (\r\n            <div className=\"navbar-container\">\r\n                <nav className=\"navbar navbar-expand-lg navbar-dark bg-info fixed-top\">\r\n                    <div className=\"d-flex flex-grow-1 responsive-nav\">\r\n                        {/* <span className=\"w-100 d-lg-none d-block\"></span> */}\r\n                        <a className=\"navbar-brand d-none d-lg-inline-block\" href=\"/\"> </a>\r\n                        <a className=\"navbar-brand-two mx-auto d-lg-none d-inline-block\" href=\"/\"> </a>\r\n                        <div className=\"w-100 text-right\">\r\n                            <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#myNavbar\">\r\n                                <span className=\"navbar-toggler-icon\">\r\n                                \r\n                                </span>\r\n                            </button>\r\n\r\n                        </div>\r\n                    </div>\r\n                        \r\n                    <div className=\"collapse navbar-collapse flex-grow-1 text-right\" id=\"myNavbar\">\r\n                        <ul className=\"navbar-nav ml-auto flex-nowrap\">\r\n                            <li className=\"nav-item\">\r\n                                <a href=\"/becomehost\" className=\"nav-link m-2 menu-item nav-active\">Become a host </a>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <a href=\"/login\" className=\"nav-link m-2 menu-item\">Login</a>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <a href=\"/login\" className=\"nav-link m-2 menu-item\"> Sign up</a>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n\r\n                </nav>\r\n            </div>\r\n        );    \r\n        \r\n    }\r\n\r\n    userNavbar() {\r\n        return (\r\n            <div className=\"navbar-container\">\r\n                <nav className=\"navbar navbar-expand-lg navbar-dark bg-info fixed-top\">\r\n                    <div className=\"d-flex flex-grow-1 responsive-nav\">\r\n                        {/* <span className=\"w-100 d-lg-none d-block\"></span> */}\r\n                        <a className=\"navbar-brand d-none d-lg-inline-block\" href=\"/\"> </a>\r\n                        <a className=\"navbar-brand-two mx-auto d-lg-none d-inline-block\" href=\"/\"> </a>\r\n                        <div className=\"w-100 text-right\">\r\n                            <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#myNavbar\">\r\n                                <span className=\"navbar-toggler-icon\">\r\n                                \r\n                                </span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"collapse navbar-collapse flex-grow-1 text-right\" id=\"myNavbar\">\r\n                        <ul className=\"navbar-nav ml-auto flex-nowrap\">\r\n                            <li className=\"nav-item\">\r\n                                <a href=\"/message\" className=\"nav-link m-2 menu-item nav-active\">Message</a>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <a href=\"/mybooking\" className=\"nav-link m-2 menu-item\">Booking</a>\r\n                            </li>\r\n                            <li className=\"nav-item\" onClick={this.handleLogout}>\r\n                                <a href=\"/\" className=\"nav-link m-2 menu-item\">Logout</a>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n\r\n                </nav>\r\n            </div>\r\n\r\n        );\r\n    }\r\n\r\n    hotelNavbar() {\r\n        return (\r\n            <div className=\"navbar-container\">\r\n                <nav className=\"navbar navbar-expand-lg navbar-dark bg-info fixed-top\">\r\n                    <div className=\"d-flex flex-grow-1 responsive-nav\">\r\n                        {/* <span className=\"w-100 d-lg-none d-block\"></span> */}\r\n                        <a className=\"navbar-brand d-none d-lg-inline-block\" href=\"/\"> </a>\r\n                        <a className=\"navbar-brand-two mx-auto d-lg-none d-inline-block\" href=\"/\"> </a>\r\n                        <div className=\"w-100 text-right\">\r\n                            <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#myNavbar\">\r\n                                <span className=\"navbar-toggler-icon\">\r\n                                \r\n                                </span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"collapse navbar-collapse flex-grow-1 text-right\" id=\"myNavbar\">\r\n                        <ul className=\"navbar-nav ml-auto flex-nowrap\">\r\n                            <li className=\"nav-item\">\r\n                                <a href=\"/message\" className=\"nav-link m-2 menu-item nav-active\">Message</a>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <a href=\"/host-management\" className=\"nav-link m-2 menu-item\">Host Management</a>\r\n                            </li>\r\n                            <li className=\"nav-item\" onClick={this.handleLogout}>\r\n                                <a href=\"/\" className=\"nav-link m-2 menu-item\">Logout</a>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n\r\n                </nav>\r\n            </div>\r\n\r\n        );\r\n    }\r\n\r\n\r\n    \r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            this.isLoggedInNavbar()\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        token:state.login.token\r\n    }\r\n};\r\n\r\nexport default connect( mapStateToProps)(Navigationbar);","\r\nconst styles = {\r\n    footerStyle: {\r\n        backgroundColor: \"#4c6189\",\r\n        fontSize: \"1rem\",\r\n        color: \"white\",\r\n        textAlign: \"center\",\r\n        left: \"0\",\r\n        bottom: \"0\",\r\n        clear: \"both\",\r\n        position: \"absolute\" \r\n    },\r\n   \r\n    childrenStyle:{\r\n        backgroundColor: \"#4c6189\",\r\n        color: \"white\",\r\n        display: \"flex\",\r\n        flexWrap:\"wrap\",\r\n        justifyContent: \"space-around\",\r\n        height: \"30vh\",\r\n        width: \"100%\",\r\n        fontSize: \"1rem\",\r\n        fontFamily: \"Sarabun\",\r\n        padding: \"1rem\",\r\n        borderTop: \"1px solid #E7E7E7\",\r\n    }\r\n          \r\n};\r\n\r\nexport default styles;\r\n\r\n","import React from \"react\";\r\nimport styles from \"./FooterStyles\";\r\nimport \"./FooterStyles.css\"\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            \r\n                {/* <div style={styles.footerStyle}> */}\r\n                    <div className=\"footer-box\" style={styles.childrenStyle}>\r\n                    <div className=\"footer-container\">\r\n                        <div className=\"footer-items\">\r\n                            <a href=\"/about\">About us</a>\r\n                            <a href=\"/helpcenter\">Help center</a>\r\n                            <a href=\"/term\">Terms and conditions</a>\r\n                            <a href=\"/prviacy\">Privacy policy</a>\r\n                        </div>\r\n\r\n                        <div className=\"footer-items\">\r\n                            <a href=\"/becomehost\">Become a host</a>\r\n                            <a href=\"/term\">Hosting</a>\r\n\r\n                        </div>\r\n\r\n\r\n                    </div>\r\n                    <p className=\"copyright\">Petvago 2019</p>\r\n                      \r\n                        \r\n                        \r\n                      \r\n                    </div>\r\n                    \r\n                {/* </div> */}\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer\r\n","import React from 'react';\r\nimport \"./TextSlideshow.css\";\r\n\r\nfunction TextSlideshow () {\r\n    return (\r\n        <div className=\"carouselContainer\">\r\n            <div id=\"carouselContent\" className=\"carousel slide\" data-ride=\"carousel\">\r\n                <div className=\"carousel-inner\" role=\"listbox\">\r\n                    <div className=\"carousel-item active text-center p-4\" >\r\n                        <div className=\"testamonial-box\">\r\n                        <img className=\"testamonial-icon\" src=\"./image/testamonial1.jpg\" alt=\"test1\"/>\r\n                        <div style={{fontSize:'17px',marginBottom:'10px', marginLeft:'20px'}}>\r\n                            <span style={{fontStyle: 'italic'}}>\"Jasmine booked with us and was an excellent guest. She was really friendly and easy-going. Would most certainly let her stay - anytime, she is a lovely guest!\"</span>\r\n                            <span style={{display:'block', marginTop:'20px',fontSize:'15px',color:'gray'}}>Jasmine</span>\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                <div className=\"carousel-item text-center p-4\">\r\n                    <div className=\"testamonial-box\">\r\n                        <img className=\"testamonial-icon\" src=\"./image/testamonial2.jpg\" alt=\"test2\"/>\r\n                        <div style={{fontSize:'17px',marginBottom:'10px',marginLeft:'20px' }}>\r\n                                <span style={{fontStyle: 'italic'}}>\"It was great hosting Kit. They always kept in touch before and during their stay. He was super nice. \"</span>\r\n                                <span style={{display:'block', marginTop:'20px',fontSize:'15px',color:'gray'}}>Kit-kit</span>\r\n                        </div>\r\n                    </div>\r\n                \r\n                </div>\r\n                <div className=\"carousel-item text-center p-4\">\r\n                    <div className=\"testamonial-box\">\r\n                        <img className=\"testamonial-icon\" src=\"./image/testamonial3.jpg\" alt='test3'/>\r\n                        <div style={{fontSize:'17px',marginBottom:'10px',marginLeft:'20px'  }}>\r\n                                <span style={{fontStyle: 'italic'}}>\"By default jobs only have one attempt, that is when they fail, they are marked as a failure, and remain that way until you intervene.\"</span>\r\n                                <span style={{display:'block', marginTop:'20px',fontSize:'15px',color:'gray'}}>Pooh</span>\r\n                        </div>\r\n                    </div>\r\n            \r\n                </div>\r\n            </div>\r\n          \r\n       \r\n\r\n                <a className=\"carousel-control-prev\" href=\"#carouselContent\" role=\"button\" data-slide=\"prev\">\r\n                    <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n                    <span className=\"sr-only\">Previous</span>\r\n                </a>\r\n                <a className=\"carousel-control-next\" href=\"#carouselContent\" role=\"button\" data-slide=\"next\">\r\n                    <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n                    <span className=\"sr-only\">Next</span>\r\n                </a>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TextSlideshow;","import React from 'react';\r\nimport Ratings from 'react-ratings-declarative';\r\n\r\nclass RatingBar extends React.Component{\r\n    render(){\r\n\r\n        console.log(\r\n            typeof(Number(this.props.rating))\r\n            +\r\n            this.props.rating);\r\n\r\n        return(\r\n            <Ratings\r\n            rating={(Number(this.props.rating))}\r\n            widgetDimensions=\"20px\"\r\n            widgetSpacings=\"2px\"\r\n          >\r\n            <Ratings.Widget widgetRatedColor=\"rgb(252, 184, 40)\" />\r\n            <Ratings.Widget widgetRatedColor=\"rgb(252, 184, 40)\" />\r\n            <Ratings.Widget widgetRatedColor=\"rgb(252, 184, 40)\" />\r\n            <Ratings.Widget widgetRatedColor=\"rgb(252, 184, 40)\" />\r\n            <Ratings.Widget widgetRatedColor=\"rgb(252, 184, 40)\" />\r\n          </Ratings>\r\n        )\r\n    }\r\n}\r\n\r\nexport default  RatingBar;\r\n","import React from 'react';\r\nimport Axios from 'axios';\r\nimport \"./TextSlide.css\";\r\nimport \"./Homepage.css\";\r\nimport TextSlideshow from \"../TextSlideshow/TextSlideshow\";\r\nimport RatingBar from \"./RatingBar-non-edit\";\r\nimport Search from '../Search/Search';\r\nimport * as actionTypes from '../../store/actions';\r\nimport {withRouter} from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faQuoteRight } from '@fortawesome/free-solid-svg-icons';\r\nlibrary.add(faQuoteRight);\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        changeHotelId:(hotelId) =>dispatch({type:actionTypes.CHANGEHOTELID, hotelId :hotelId})\r\n    }\r\n};\r\n\r\nclass Homepage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            hotelInfo: null,\r\n            hotelListItems: null,\r\n        }\r\n    }\r\n    async componentDidMount() {\r\n        //    call hotel info api from backend,then set state\r\n        try {\r\n            const _hotelInfo = await Axios.get(`https://petvago.site/api/hotel`);\r\n            this.setState({ hotelInfo: _hotelInfo.data });\r\n            const listItems = this.state.hotelInfo.map(\r\n                (e) => <div key={e.id.toString()} id={`hotel-id-${e.id}`} className=\"hotel-info\"  >\r\n                    <img className=\"hotel-icon \" src={e.path}  onClick={(e)=>{this.onClickHotelInfo(e)}} alt=\"hotelIcon\"></img>\r\n                    <div className=\"hotel-detail\">\r\n                        <div className=\"hotel-name\">{e.name}</div>\r\n                        <div className=\"hotel-rate\">\r\n                            <RatingBar rating={e.averageRating}/>\r\n                            <p className=\"hotel-rate-number\">{e.averageRating}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n            this.setState({ hotelListItems: listItems });\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    onClickHotelInfo(e){\r\n        console.log(Number(e.target.parentElement.id.replace('hotel-id-','')));\r\n        const _hotelId = Number(e.target.parentElement.id.replace('hotel-id-',''));\r\n        this.props.changeHotelId(_hotelId);\r\n        this.props.history.push('./hotel/');\r\n    }\r\n\r\n    redirectToSearchResult = ()=>{\r\n        this.props.history.push('../search_result');\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"home-body\" >\r\n                <div className=\"background\" >\r\n                 <Search history={this.redirectToSearchResult}/>\r\n                </div>\r\n                <div className='hotel-container-container'>\r\n                    <div className=\"split text-left\">Recommended Hotel:</div>\r\n                    <div className=\"hotel-container\">\r\n                        {this.state.hotelListItems}\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className=\"home-testamonial\">\r\n                <h2>What pet lovers say about us <FontAwesomeIcon icon=\"quote-right\" style={{marginLeft:'10px', color:'#50b5a9'}}/></h2>\r\n                <TextSlideshow/>\r\n                </div>\r\n               \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default  withRouter(connect(null,mapDispatchToProps)(Homepage));","import React from 'react';\r\nimport './PhotoUpload.css'\r\n\r\n// Setting up Fontawesome\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faPlus, faEdit } from '@fortawesome/free-solid-svg-icons'\r\nlibrary.add(faPlus)\r\nlibrary.add(faEdit)\r\n\r\nclass PhotoUpload extends React.Component {\r\n    handleClick = () => {\r\n        // document.getElementById('PhotoUploadInput').click();\r\n    }\r\n\r\n    render() {\r\n        if (this.props.isEdit === true) {\r\n            return (\r\n                <div id='PhotoUpload' className='edit-photo' onClick={this.handleClick}>\r\n                    <input type=\"file\" name=\"\" id=\"PhotoUploadInput\" onChange={this.props.handleEditRoomTypeIconPhoto} />\r\n                    <FontAwesomeIcon icon=\"edit\" />\r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <div id='PhotoUpload' className='add-photo'>\r\n                    <input type=\"file\" name=\"\" id=\"PhotoUploadInput\" onChange={this.props.handleAddRoomTypePhoto} />\r\n                    <FontAwesomeIcon icon=\"plus\" />\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default PhotoUpload;","import React from 'react';\r\nimport './RoomModal.css'\r\nimport PhotoUpload from '../PhotoUpload/PhotoUpload'\r\n\r\n// Setting up Fontawesome\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faEdit, faTimes } from '@fortawesome/free-solid-svg-icons'\r\nlibrary.add(faEdit)\r\nlibrary.add(faTimes)\r\n\r\nclass RoomModal extends React.Component {\r\n    constructor (props) {\r\n        super(props);\r\n        this.roomPhoto = null;\r\n        this.roomIconPhoto = null;\r\n        this.firstIcon = true\r\n    }\r\n\r\n    componentWillUpdate () {\r\n        this.roomPhoto = null;\r\n        this.roomIconPhoto = null;\r\n        this.firstIcon = true\r\n    }\r\n\r\n    render () {\r\n        if (this.props.editRoomTypeContent.photos !== [] && this.props.editRoomTypeContent !== undefined && this.props.editRoomTypeContent.photos !== undefined) {\r\n            this.roomPhoto = this.props.editRoomTypeContent.photos.map((e) => {\r\n                if (e.icon) {\r\n                    return null\r\n                } else if (e.isDelete === undefined) {\r\n                    return (\r\n                        <div className='other-photo' key={e.photoID} id={`other-photo-${e.photoID}`}>\r\n                            <img src={e.path} alt={`This room type: ${this.props.editRoomTypeContent.roomType}`}></img>\r\n                            <FontAwesomeIcon icon=\"times\" onClick={this.props.handleDeleteRoomTypePhoto}/>\r\n                        </div>\r\n                    )\r\n                } else {\r\n                    return null\r\n                }\r\n            })\r\n\r\n            let roomE;\r\n            for (let i in this.props.editRoomTypeContent.photos) {\r\n                roomE = this.props.editRoomTypeContent.photos[i]\r\n                if (this.firstIcon) {\r\n                    if (roomE.icon) {\r\n                        this.firstIcon = false;\r\n                        this.roomIconPhoto = (\r\n                            <div className='other-photo' key={roomE.photoID} id={`icon-photo-${roomE.photoID}`}>\r\n                                <img src={roomE.path} alt={`This room type: ${this.props.editRoomTypeContent.roomType}`}></img>\r\n                                <PhotoUpload isEdit={true} handleEditRoomTypeIconPhoto={this.props.handleEditRoomTypeIconPhoto}></PhotoUpload>\r\n                            </div>\r\n                        )\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (this.roomIconPhoto === null) {\r\n                this.roomIconPhoto = (\r\n                    <div className='other-photo'>\r\n                        <img src='./image/empty-photo.png' alt={`No uploaded here yet`}></img>\r\n                        <PhotoUpload isEdit={true} handleEditRoomTypeIconPhoto={this.props.handleEditRoomTypeIconPhoto}></PhotoUpload>\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n\r\n        return (   \r\n            <div className=\"modal fade\" id=\"RoomModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"RoomModalLabel\" aria-hidden=\"true\">\r\n            <div className=\"modal-dialog\" role=\"document\">\r\n                <div className=\"modal-content\">\r\n                <div className=\"modal-header\">\r\n                    <h5 className=\"modal-title\" id=\"RoomModalLabel\">Room Types: {this.props.editRoomTypeContent.roomType}</h5>\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                    <form>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"recipient-name\" className=\"col-form-label\">Room Description: </label>\r\n                        <textarea type=\"text\" className=\"form-control\" id=\"recipient-name\" value={this.props.editRoomTypeContent.description} onChange={this.props.handleRoomDescription}></textarea>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"message-text\" className=\"col-form-label\">Room Icon Photo:</label>\r\n                        <div className='other-photo-group'>\r\n                            {this.roomIconPhoto} \r\n                        </div>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"message-text\" className=\"col-form-label\">Other Room Photo:</label>\r\n                        <div className='other-photo-group'>\r\n                            {this.roomPhoto}\r\n                            <PhotoUpload handleAddRoomTypePhoto={this.props.handleAddRoomTypePhoto}></PhotoUpload>\r\n                        </div>\r\n                    </div>\r\n                    </form>\r\n                </div>\r\n                <div className=\"modal-footer\">\r\n                    <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n                </div>\r\n                </div>\r\n            </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default RoomModal;","import React from 'react';\r\nimport './WarningModal.css'\r\n\r\nclass WarningModal extends React.Component {\r\n    render () {\r\n        return (   \r\n            <div className=\"modal fade\" id=\"WarningModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"WarningModalLabel\" aria-hidden=\"true\">\r\n            <div className=\"modal-dialog\" role=\"document\">\r\n                <div className=\"modal-content\">\r\n                <div className=\"modal-header\">\r\n                    <h5 className=\"modal-title\" id=\"WarningModalLabel\">Are you sure you want to delete room type \" {this.props.editRoomTypeContent.roomType} \" ?</h5>\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n                <div className=\"modal-footer\">\r\n                    <button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\" onClick={this.props.handleConfirmDeleteRoomType}>Yes</button>\r\n                    <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\r\n                </div>\r\n                </div>\r\n            </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default WarningModal;","import React from 'react';\r\nimport './ConfirmationModal.css'\r\n\r\nclass ConfirmationModal extends React.Component {\r\n    render () {\r\n        return (   \r\n            <div className=\"modal fade\" id=\"ConfirmationModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"ConfirmationModalLabel\" aria-hidden=\"true\" data-backdrop=\"false\">\r\n            <div className=\"modal-dialog\" role=\"document\">\r\n                <div className=\"modal-content\">\r\n                <div className=\"modal-header\">\r\n                    <h5 className=\"modal-title\" id=\"ConfirmationModalLabel\">Updated successfully <span className='tick'>&#10004;</span> Redirecting in {this.props.countDownSecond} seconds...</h5>\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n                </div>\r\n            </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ConfirmationModal;","import React from 'react';\r\nimport './EditPage.css'\r\nimport axios from 'axios';\r\nimport RoomModal from './RoomModal'\r\nimport WarningModal from './WarningModal'\r\nimport ConfirmationModal from './ConfirmationModal'\r\nimport PhotoUpload from '../PhotoUpload/PhotoUpload'\r\n\r\n// Setting up Fontawesome\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faPlusSquare, faEdit, faTimes } from '@fortawesome/free-solid-svg-icons'\r\nlibrary.add(faPlusSquare)\r\nlibrary.add(faEdit)\r\nlibrary.add(faTimes)\r\n\r\nclass EditPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userName: '',\r\n            hotelName: '',\r\n            hotelTel: '',\r\n            hotelAddress: '',\r\n            hotelDistrict: '',\r\n            hotelDescription: '',\r\n            hotelIcon: '',\r\n            hotelIconFile: '',\r\n            roomType: [],\r\n            addedButNotUpdatedRoomType: [],\r\n            vaccineRequirement: [],\r\n            isHost: false,\r\n            editRoomTypeID: '',\r\n            editRoomTypeContent: [],\r\n            newPhotoID: -1,\r\n            isSaved: false,\r\n            countDownSecond: 5,\r\n        }\r\n        this.result = '';\r\n        this.rooms = '';\r\n        this.options = '';\r\n        this.vaccines = '';\r\n        this.allVaccine = ['Rabies', 'DHPPiL', 'FVRCP', 'KennelCough'];\r\n        this.allDistricts = ['Central and Western', 'Eastern', 'Islands', 'Kowloon City', 'Kwai Tsing', 'Kwun Tong', 'North', 'Sai Kung', 'Sha Tin', 'Sham Shui Po', 'Southern', 'Tai Po', 'Tsuen Wan', 'Tuen Mun', 'Wan Chai', 'Wong Tai Sin', 'Yau Tsim Mong', 'Yuen Long']\r\n        this.jwt = localStorage.getItem('petvago-token');\r\n    }\r\n\r\n    handleInputChange = (e) => {\r\n        const value = e.target.type === 'checkbox' ? e.target.checked : e.target.value;\r\n        this.setState({\r\n            [e.target.name]: value\r\n        });\r\n    }\r\n\r\n    handleRoomDescription = (e) => {\r\n        let newRoomType = this.state.roomType;\r\n        let arrayIndex;\r\n\r\n        for (let i in this.state.roomType) {\r\n            if (this.state.editRoomTypeID === this.state.roomType[i].roomTypeID.toString()) {\r\n                arrayIndex = i\r\n            }\r\n        }\r\n        newRoomType[arrayIndex].description = e.target.value;\r\n        this.setState({ roomType: newRoomType });\r\n    }\r\n\r\n    handleChangeCheckbox = (e) => {\r\n        let storedVaccine = this.state.vaccineRequirement.find((element) => {\r\n            return element === e.target.value\r\n        })\r\n\r\n        if (e.target.checked) {\r\n            if (!storedVaccine) {\r\n                let newVaccineRequirement = this.state.vaccineRequirement\r\n                newVaccineRequirement = [...newVaccineRequirement, e.target.value]\r\n                this.setState({ vaccineRequirement: newVaccineRequirement })\r\n            }\r\n        } else {\r\n            if (storedVaccine) {\r\n                let newVaccineRequirement = this.state.vaccineRequirement.filter((element) => {\r\n                    return element !== e.target.value\r\n                })\r\n                this.setState({ vaccineRequirement: newVaccineRequirement })\r\n            }\r\n        }\r\n    }\r\n\r\n    handleRoomChange = (e) => {\r\n        let newRoomType = this.state.roomType;\r\n        let newSingleRoomType = newRoomType.find((element) => {\r\n            return element.roomTypeID.toString() === e.target.parentElement.parentElement.id.replace('roomType', '')\r\n        })\r\n\r\n        newSingleRoomType[e.target.name] = e.target.value\r\n        newRoomType = newRoomType.map((element) => {\r\n            if (element.roomTypeID.toString() === e.target.parentElement.parentElement.id.replace('roomType', '')) {\r\n                return newSingleRoomType\r\n            } else {\r\n                return element\r\n            }\r\n        })\r\n        this.setState({ roomType: newRoomType })\r\n    }\r\n\r\n    handleAddRoomType = () => {\r\n        axios.post(`https://petvago.site/api/hotel/edit/new-room-type`, {}, { headers: { Authorization: `Bearer ${this.jwt}` } })\r\n            .then(res => {\r\n                this.constructEditPage();\r\n                let newAddedButNotUpdatedRoomType = this.state.addedButNotUpdatedRoomType;\r\n                newAddedButNotUpdatedRoomType.push(res.data[0])\r\n                this.setState({ addedButNotUpdatedRoomType: newAddedButNotUpdatedRoomType })\r\n            })\r\n    }\r\n\r\n    handleEditRoomDetial = (e) => {\r\n        let roomTypeID;\r\n\r\n        if (e.target.parentElement.parentElement.tagName === 'TR') {\r\n            roomTypeID = e.target.parentElement.parentElement.id.replace('roomType', '')\r\n        } else if (e.target.parentElement.parentElement.tagName === 'TD') {\r\n            roomTypeID = e.target.parentElement.parentElement.parentElement.id.replace('roomType', '')\r\n        } else if (e.target.parentElement.parentElement.tagName === 'DIV') {\r\n            roomTypeID = e.target.parentElement.parentElement.parentElement.parentElement.id.replace('roomType', '')\r\n        }\r\n\r\n        let chosenRoom = this.state.roomType.filter((element) => {\r\n            return element.roomTypeID.toString() === roomTypeID\r\n        })\r\n\r\n        this.setState({\r\n            editRoomTypeID: roomTypeID,\r\n            editRoomTypeContent: chosenRoom[0]\r\n        })\r\n    }\r\n\r\n    handleDeleteRoomType = (e) => {\r\n        let roomTypeID;\r\n\r\n        if (e.target.parentElement.parentElement.tagName === 'TR') {\r\n            roomTypeID = e.target.parentElement.parentElement.id.replace('roomType', '')\r\n        } else if (e.target.parentElement.parentElement.tagName === 'TD') {\r\n            roomTypeID = e.target.parentElement.parentElement.parentElement.id.replace('roomType', '')\r\n        } else if (e.target.parentElement.parentElement.tagName === 'DIV') {\r\n            roomTypeID = e.target.parentElement.parentElement.parentElement.parentElement.id.replace('roomType', '')\r\n        }\r\n\r\n        let chosenRoom = this.state.roomType.filter((element) => {\r\n            return element.roomTypeID.toString() === roomTypeID\r\n        })\r\n\r\n        this.setState({\r\n            editRoomTypeID: roomTypeID,\r\n            editRoomTypeContent: chosenRoom[0]\r\n        })\r\n    }\r\n\r\n    handleConfirmDeleteRoomType = (e) => {\r\n        axios.put(`https://petvago.site/api/hotel/edit/delete-room-type/${this.state.editRoomTypeID}`, {}, { headers: { Authorization: `Bearer ${this.jwt}` } })\r\n            .then(() => {\r\n                this.constructEditPage();\r\n            })\r\n    }\r\n\r\n    handleChangeDistrict = (e) => {\r\n        this.setState({ hotelDistrict: e.target.value })\r\n    }\r\n\r\n    handleAddRoomTypePhoto = async (e) => {\r\n        let newRoomType = this.state.roomType;\r\n        let arrayIndex;\r\n\r\n        for (let i in this.state.roomType) {\r\n            if (this.state.editRoomTypeID === this.state.roomType[i].roomTypeID.toString()) {\r\n                arrayIndex = i\r\n            }\r\n        }\r\n\r\n        newRoomType[arrayIndex].photos.push({\r\n            icon: false,\r\n            path: URL.createObjectURL(e.target.files[0]),\r\n            files: e.target.files[0],\r\n            photoID: this.state.newPhotoID,\r\n            name: `hotel-${this.state.userName}-${newRoomType[arrayIndex].roomType.replace(' ', '')}-other-no=-=`,\r\n        });\r\n        await this.setState({ roomType: newRoomType });\r\n        await this.setState({ newPhotoID: this.state.newPhotoID - 1 })\r\n    }\r\n\r\n    handleDeleteRoomTypePhoto = (e) => {\r\n\r\n        let targetID = e.currentTarget.parentElement.id.split('other-photo-')[1];\r\n        let newRoomType = this.state.roomType;\r\n        let arrayIndex;\r\n\r\n        for (let i in this.state.roomType) {\r\n            if (this.state.editRoomTypeID === this.state.roomType[i].roomTypeID.toString()) {\r\n                arrayIndex = i\r\n            }\r\n        }\r\n        newRoomType[arrayIndex].photos = newRoomType[arrayIndex].photos.map((e) => {\r\n            if (e.photoID.toString() === targetID) {\r\n                return {\r\n                    icon: false,\r\n                    path: e.path,\r\n                    photoID: e.photoID,\r\n                    isDelete: true,\r\n                }\r\n            } else {\r\n                return e\r\n            }\r\n        });\r\n        this.setState({ roomType: newRoomType });\r\n    }\r\n\r\n    handleEditRoomTypeIconPhoto = async (e) => {\r\n        let newRoomType = this.state.roomType;\r\n        let arrayIndex;\r\n\r\n        for (let i in this.state.roomType) {\r\n            if (this.state.editRoomTypeID === this.state.roomType[i].roomTypeID.toString()) {\r\n                arrayIndex = i\r\n            }\r\n        }\r\n\r\n        for (let i in newRoomType[arrayIndex].photos) {\r\n            if (newRoomType[arrayIndex].photos[i].icon === true) {\r\n                newRoomType[arrayIndex].photos[i] = {\r\n                    icon: false,\r\n                    path: newRoomType[arrayIndex].photos[i].path,\r\n                    photoID: newRoomType[arrayIndex].photos[i].photoID,\r\n                    isDelete: true,\r\n                }\r\n            }\r\n        }\r\n\r\n        newRoomType[arrayIndex].photos.push({\r\n            icon: true,\r\n            path: URL.createObjectURL(e.target.files[0]),\r\n            files: e.target.files[0],\r\n            photoID: this.state.newPhotoID,\r\n            name: `hotel-${this.state.userName}-${newRoomType[arrayIndex].roomType.replace(' ', '')}-icon-no=-=`,\r\n        });\r\n\r\n        await this.setState({ roomType: newRoomType });\r\n        await this.setState({ newPhotoID: this.state.newPhotoID - 1 })\r\n    }\r\n\r\n    handleEditBigIconPhoto = (e) => {\r\n        this.setState({\r\n            hotelIcon: URL.createObjectURL(e.target.files[0]),\r\n            hotelIconFile: e.target.files[0],\r\n        });\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        let submitVac = {\r\n            \"vaccine\": this.state.vaccineRequirement.map((e) => {\r\n                if (e === 'KennelCough') {\r\n                    return 'Kennel Cough'\r\n                } else {\r\n                    return e\r\n                }\r\n            })\r\n        }\r\n\r\n        let deletePhotoArray = [];\r\n        for (let i in this.state.roomType) {\r\n            for (let j in this.state.roomType[i].photos) {\r\n                if (this.state.roomType[i].photos[j].isDelete !== undefined) {\r\n                    deletePhotoArray.push(this.state.roomType[i].photos[j].photoID)\r\n                }\r\n            }\r\n        }\r\n\r\n        let addPhotosArray = [];\r\n        for (let i in this.state.roomType) {\r\n            for (let j in this.state.roomType[i].photos) {\r\n                if (this.state.roomType[i].photos[j].photoID < 0) {\r\n                    addPhotosArray.push({\r\n                        photoName: this.state.roomType[i].photos[j].name,\r\n                        files: this.state.roomType[i].photos[j].files,\r\n                        roomTypeID: this.state.roomType[i].roomTypeID,\r\n                        path: this.state.roomType[i].photos[j].path,\r\n                        icon: this.state.roomType[i].photos[j].icon,\r\n                    })\r\n                }\r\n            }\r\n        }\r\n\r\n        let promiseSubmit = new Promise((resolve, reject) => {\r\n            axios.post(\r\n                `https://petvago.site/api/hotel/edit/submit`,\r\n                {\r\n                    name: this.state.hotelName,\r\n                    telephone: this.state.hotelTel,\r\n                    address: this.state.hotelAddress,\r\n                    description: this.state.hotelDescription,\r\n                    vaccineRequirement: submitVac,\r\n                    district: this.state.hotelDistrict,\r\n                    deletePhotos: deletePhotoArray,\r\n                    addPhotos: [],\r\n                },\r\n                { headers: { Authorization: `Bearer ${this.jwt}` } })\r\n                .then((res) => {\r\n                    resolve(res);\r\n                })\r\n        })\r\n\r\n        let promiseArray = []\r\n        promiseArray.push(promiseSubmit)\r\n\r\n        for (let i in this.state.roomType) {\r\n            promiseArray.push(new Promise((resolve, reject) => {\r\n                axios.put(\r\n                    `https://petvago.site/api/hotel/edit/roomType/${this.state.roomType[i].roomTypeID}`,\r\n                    {\r\n                        roomType: this.state.roomType[i].roomType,\r\n                        price: this.state.roomType[i].price,\r\n                        description: this.state.roomType[i].description,\r\n                        roomTypeID: this.state.roomType[i].roomTypeID,\r\n                    },\r\n                    { headers: { Authorization: `Bearer ${this.jwt}` } }\r\n                ).then((res) => {\r\n                    resolve(res);\r\n                })\r\n            }))\r\n        }\r\n\r\n        for (let i in addPhotosArray) {\r\n            let formData = new FormData();\r\n\r\n            formData.append('file', addPhotosArray[i].files, addPhotosArray[i].photoName);\r\n            formData.append('roomTypeID', addPhotosArray[i].roomTypeID);\r\n            formData.append('icon', addPhotosArray[i].icon);\r\n\r\n            promiseArray.push(new Promise((resolve, reject) => {\r\n                axios.post(\r\n                    `https://petvago.site/api/hotel/uploadPhoto`,\r\n                    formData,\r\n                    { headers: { Authorization: `Bearer ${this.jwt}` } }\r\n                ).then((res) => {\r\n                    resolve(res);\r\n                })\r\n            }))\r\n        }\r\n\r\n        if (this.state.hotelIconFile !== '') {\r\n            let formData = new FormData();\r\n\r\n            formData.append('file', this.state.hotelIconFile);\r\n            formData.append('icon', true);\r\n\r\n            promiseArray.push(new Promise((resolve, reject) => {\r\n                axios.post(\r\n                    `https://petvago.site/api/hotel/uploadBigIcon`,\r\n                    formData,\r\n                    { headers: { Authorization: `Bearer ${this.jwt}` } }\r\n                ).then((res) => {\r\n                    resolve(res);\r\n                })\r\n            }))\r\n        }\r\n\r\n        Promise.all(promiseArray).then(async (res) => {\r\n            if (res[0].status === 200) {\r\n                this.setState({ isSaved: true })\r\n                for (let i = 0; i < 5; i++) {\r\n                    await this.minusOne();\r\n                }\r\n                document.getElementsByTagName('body')[0].classList.remove('modal-open');\r\n                document.getElementsByTagName('body')[0].style = '';\r\n                this.props.history.push('/host-management');\r\n            }\r\n        })\r\n    }\r\n\r\n    handleCancel = () => {\r\n        this.props.history.push('/host-management')\r\n    }\r\n\r\n    handleWindowBeforeClose = (e) => {\r\n        if (!this.state.isSaved) {\r\n            const confirmationMessage = 'Are you sure you want to leave?';\r\n            (e || window.event).returnValue = confirmationMessage;\r\n            return confirmationMessage;\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.constructEditPage();\r\n        window.addEventListener('beforeunload', this.handleWindowBeforeClose);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('beforeunload', this.handleWindowBeforeClose);\r\n    }\r\n\r\n    minusOne() {\r\n        return new Promise((res, ref) => {\r\n            setTimeout(() => {\r\n                this.setState({ countDownSecond: this.state.countDownSecond - 1 })\r\n                res()\r\n            }, 1000);\r\n        })\r\n    }\r\n\r\n    constructEditPage() {\r\n        if (this.jwt) {\r\n            axios.get(`https://petvago.site/api/hotel/edit/info`, { headers: { Authorization: `Bearer ${this.jwt}` } })\r\n                .then(async (res) => {\r\n                    let resVaccines = res.data[0].vaccineRequirement.vaccine\r\n                    let newResVaccines = resVaccines.map((vaccine) => {\r\n                        if (vaccine === 'Kennel Cough') {\r\n                            return 'KennelCough';\r\n                        } else {\r\n                            return vaccine;\r\n                        }\r\n                    })\r\n\r\n                    let processedRoomType = [];\r\n                    for (let i in res.data[0].rooms) {\r\n                        await axios.get(`https://petvago.site/api/hotel/edit/roomtype/${res.data[0].rooms[i].roomTypeID}`)\r\n                            .then((res2) => {\r\n                                if (res2.data[0] !== undefined) {\r\n                                    processedRoomType.push({\r\n                                        ...res.data[0].rooms[i],\r\n                                        description: res2.data[0].description,\r\n                                        photos: res2.data[0].photos\r\n                                    })\r\n                                } else {\r\n                                    processedRoomType.push({\r\n                                        ...res.data[0].rooms[i],\r\n                                        description: '',\r\n                                        photos: []\r\n                                    })\r\n                                }\r\n                            })\r\n                    }\r\n\r\n                    processedRoomType = processedRoomType.sort((a,b) => {\r\n                        if(a.roomType < b.roomType) { return -1; }\r\n                        if(a.roomType > b.roomType) { return 1; }\r\n                        return 0;\r\n                    })\r\n\r\n                    await axios.get(\r\n                        `https://petvago.site/api/hotel/edit/bigicon`,\r\n                        { headers: { Authorization: `Bearer ${this.jwt}` } }\r\n                    ).then((res) => {\r\n                        this.setState({hotelIcon: res.data})\r\n                    })\r\n\r\n                    this.setState({\r\n                        userName: res.data[0].userName,\r\n                        hotelName: res.data[0].name,\r\n                        hotelTel: res.data[0].telephone,\r\n                        hotelAddress: res.data[0].address,\r\n                        hotelDistrict: res.data[0].district,\r\n                        hotelDescription: res.data[0].description,\r\n                        roomType: processedRoomType,\r\n                        editRoomTypeID: processedRoomType[0].roomTypeID,\r\n                        editRoomTypeContent: processedRoomType[0],\r\n                        vaccineRequirement: newResVaccines,\r\n                        isHost: true\r\n                    })\r\n                })\r\n        } else {\r\n            console.log(`Not yet logged in`)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.state.isHost) {\r\n            this.rooms = this.state.roomType.map((room) => {\r\n                return (\r\n                    <tr key={room.roomTypeID} id={`roomType${room.roomTypeID}`}>\r\n                        <td>\r\n                            <input type='text' name='roomType' value={room.roomType} onChange={this.handleRoomChange} className='inputField'></input>\r\n                        </td>\r\n                        <td>\r\n                            <input type='text' name='price' value={room.price} onChange={this.handleRoomChange} className='inputField'></input>\r\n                        </td>\r\n                        <td>\r\n                            <input type='text' name='quantity' value={room.quantity} onChange={this.handleRoomChange} className='inputField'></input>\r\n                        </td>\r\n                        <td>\r\n                            <div className='icon' data-toggle=\"modal\" data-target=\"#RoomModal\" onClick={this.handleEditRoomDetial}>\r\n                                <FontAwesomeIcon icon=\"edit\" />\r\n                            </div>\r\n                        </td>\r\n                        <td>\r\n                            <div className='icon' data-toggle=\"modal\" data-target=\"#WarningModal\" onClick={this.handleDeleteRoomType}>\r\n                                <FontAwesomeIcon icon=\"times\" />\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                )\r\n            })\r\n\r\n            let vaccineI = 0;\r\n            this.vaccines = this.allVaccine.map((vaccine) => {\r\n                let requiredVaccine = this.state.vaccineRequirement.find((element) => {\r\n                    return element === vaccine\r\n                })\r\n                if (requiredVaccine) {\r\n                    vaccineI ++;\r\n                    return (\r\n                        <div className='custom-control custom-checkbox' key={vaccineI}>\r\n                            <input type='checkbox' name={vaccine} value={vaccine} id={vaccine} className=\"custom-control-input\" onChange={this.handleChangeCheckbox} checked />\r\n                            <label className=\"custom-control-label\" htmlFor={vaccine}>{vaccine}</label>\r\n                        </div>\r\n                    );\r\n                } else {\r\n                    vaccineI ++;\r\n                    return (\r\n                        <div className='custom-control custom-checkbox' key={vaccineI}>\r\n                            <input type='checkbox' name={vaccine} value={vaccine} id={vaccine} className=\"custom-control-input\" onChange={this.handleChangeCheckbox} />\r\n                            <label className=\"custom-control-label\" htmlFor={vaccine}>{vaccine}</label>\r\n                        </div>\r\n                    );\r\n                }\r\n            })\r\n\r\n            let districtI = 0;\r\n            this.options = this.allDistricts.map((district) => {\r\n                if (this.state.hotelDistrict === district) {\r\n                    districtI ++;\r\n                    return <option key={districtI} value={true}>{district}</option>\r\n                } else {\r\n                    districtI ++;\r\n                    return <option key={districtI}>{district}</option>\r\n                }\r\n            })\r\n\r\n            this.result = (\r\n                <div>\r\n                    <h1>Edit Hotel Info</h1>\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <div id='FormHeader'>\r\n                            <table>\r\n                                <tbody>\r\n                                    <tr>\r\n                                        <td><label>Name: </label></td>\r\n                                        <td><h3>{this.state.hotelName}</h3><br /></td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td><label>Tel: </label></td>\r\n                                        <td><input type='text' name='hotelTel' value={this.state.hotelTel} onChange={this.handleInputChange} className='inputField'></input></td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td><label>Address: </label></td>\r\n                                        <td><textarea type='text' name='hotelAddress' value={this.state.hotelAddress} onChange={this.handleInputChange} className='inputField'></textarea></td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td><label>District: </label></td>\r\n                                        <td>\r\n                                            <div className=\"form-group\">\r\n                                                <select className=\"form-control district\" id=\"sel1\" onChange={this.handleChangeDistrict}>\r\n                                                    {this.options}\r\n                                                </select>\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td><label>Description: </label></td>\r\n                                        <td><textarea type='text' name='hotelDescription' value={this.state.hotelDescription} onChange={this.handleInputChange} className='inputField'></textarea><br /></td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                            <div id='HotelIcon'>\r\n                                <img src={this.state.hotelIcon === '' ? './image/empty-photo.png' : this.state.hotelIcon} alt={`Icon for this hotel: ${this.state.hotelName}`}></img>\r\n                                <PhotoUpload isEdit={true} handleEditRoomTypeIconPhoto={this.handleEditBigIconPhoto}></PhotoUpload>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div id='EditHotelRoomType'>\r\n                            <h4>Room Types:</h4>\r\n                            <table className='table table-hover table-bordered'>\r\n                                <thead className='thead-dark'>\r\n                                    <tr>\r\n                                        <th className='th-type'>Type</th>\r\n                                        <th className='th-price'>Price</th>\r\n                                        <th className='th-quantity'>Quantity</th>\r\n                                        <th className='th-edit'>Edit Detail</th>\r\n                                        <th className='th-delete'>Delete</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.rooms}\r\n                                    <tr className='table-secondary'>\r\n                                        <td colSpan={5}>\r\n                                            <div className='plusSquare'>\r\n                                                <FontAwesomeIcon icon=\"plus-square\" onClick={this.handleAddRoomType} />\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n\r\n                        <h4>Vaccine Requirement</h4>\r\n                        {this.vaccines}\r\n\r\n                        <div id='FormFooter'>\r\n                            <input type='submit' value='Upadate' className='btn btn-success btn-lg px-5' data-toggle=\"modal\" data-target=\"#ConfirmationModal\"></input>\r\n                            <button onClick={this.handleCancel} className='btn btn-lg px-5'>Cancel</button>\r\n                        </div>\r\n\r\n                    </form>\r\n                </div>\r\n            )\r\n        } else if (localStorage.getItem('petvago-token') === null) {\r\n            this.result = <h2>Please login as host to edit</h2>\r\n        } else if (JSON.parse(window.atob(localStorage.getItem('petvago-token').split('.')[1])).isHotel === false) {\r\n            this.result = <h2>Please login as host to edit</h2>\r\n        } else {\r\n            this.result = <h2>Please wait for the page to load</h2>\r\n        }\r\n\r\n        return (\r\n            <div id='EditPage'>\r\n                <div className='bg-image'></div>\r\n                <section>\r\n                    {this.result}\r\n                </section>\r\n                <RoomModal\r\n                    editRoomTypeID={this.state.editRoomTypeID}\r\n                    editRoomTypeContent={this.state.editRoomTypeContent}\r\n                    handleRoomDescription={this.handleRoomDescription}\r\n                    handleAddRoomTypePhoto={this.handleAddRoomTypePhoto}\r\n                    handleDeleteRoomTypePhoto={this.handleDeleteRoomTypePhoto}\r\n                    handleEditRoomTypeIconPhoto={this.handleEditRoomTypeIconPhoto}></RoomModal>\r\n\r\n                <WarningModal\r\n                    editRoomTypeID={this.state.editRoomTypeID}\r\n                    editRoomTypeContent={this.state.editRoomTypeContent}\r\n                    handleConfirmDeleteRoomType={this.handleConfirmDeleteRoomType}></WarningModal>\r\n\r\n                <ConfirmationModal\r\n                    countDownSecond={this.state.countDownSecond}></ConfirmationModal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default EditPage;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport './booking.css'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faUser,faPhone, faPaw, faWeight, faDog,faSyringe,faBath } from '@fortawesome/free-solid-svg-icons'\nimport axios from 'axios';\nlibrary.add(faUser)\nlibrary.add(faPhone)\nlibrary.add(faPaw)\nlibrary.add(faWeight)\nlibrary.add(faDog)\nlibrary.add(faSyringe)\nlibrary.add(faBath)\n\n\n\nclass Booking extends Component {\n    constructor(props){\n        super(props);\n        this.state={ \n            expiryTime: this.props.expiryTime,\n            bookingID:this.props.bookingID,\n            hotelID:this.props.hotel,\n            hotelName:this.props.hotelName,\n            startDate:this.props.startDate,\n            endDate:this.props.endDate,\n            roomTypeID:this.props.roomTypeID,\n            roomType:this.props.roomType,\n            roomPrice:this.props.roomPrice,\n            duration:0,\n            hotelPrice:0,\n            servicePrice:0,\n            ownerName:null,\n            ownerPhone:null,\n            petName:null,\n            petWeight:null,\n            petType:null,\n            vaccineRequirement:this.props.vaccineRequirement,\n            service:{},\n            totalPrice:0,\n            loading:false,\n            vaccineCheck:null,\n            vaccineError:null,\n            vaccineClass:null,\n            time:'',\n            hotelIcon:this.props.hotelIcon\n            \n        }\n    }\n\n    componentDidMount(){\n\n        if (!this.state.bookingID) {\n            this.props.history.push('/')\n        }\n        \n        //calculate duration\n        let promise=new Promise((resolve,reject)=>{\n            let duration=((new Date(this.state.endDate))-(new Date(this.state.startDate))) / (60*60*24*1000);\n            this.setState({\n                duration\n            });\n            resolve()\n\n        })\n\n        promise.then(()=>{\n          //calculate total price\n          let totalPrice= this.state.duration * this.state.roomPrice;\n          this.setState({\n              hotelPrice:totalPrice,\n              totalPrice:totalPrice\n          })\n        })\n\n        //start timer\n        this.timeID=setInterval(\n            ()=>this.timer(),\n            1000\n        );\n\n        //format date\n        let startDate=new Date(this.state.startDate)\n        var dd = startDate.getDate();\n        var mm = startDate.getMonth() + 1; \n        var yyyy = startDate.getFullYear();\n        startDate = dd + '/' + mm + '/' + yyyy;\n\n        let endDate=new Date(this.state.endDate)\n        var dd2 = endDate.getDate();\n        var mm2 = endDate.getMonth() + 1; \n        var yyyy2 = endDate.getFullYear();\n        endDate = dd2 + '/' + mm2 + '/' + yyyy2;\n\n        this.setState(\n            {startDate, endDate}\n        )\n\n            \n       \n\n    }\n\n    timer=()=>{\n        var now = new Date().getTime();\n        var distance = new Date(this.state.expiryTime) - now;\n        var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\n        var seconds = Math.floor((distance % (1000 * 60)) / 1000);\n        let time= minutes+' : '+seconds\n        if (distance>=0){\n            this.setState({\n                time\n            })\n        }else{\n            this.setState({\n                time: 'Time is up, please try to book another room'\n            })\n        }\n      \n    }\n\n    handleChange=(e)=>{\n        this.setState({\n            [e.target.name]:e.target.value,\n        })\n        // console.log(e.target.name+':'+this.state[e.target.name])\n\n    }\n\n    handleVaccineChange=(e)=>{\n        if(e.target.checked===true){\n            this.setState({\n                vaccineCheck: this.state.vaccineCheck+1\n            })\n        }else if(e.target.checked===false && this.state.vaccineCheck>0){\n            this.setState({\n                vaccineCheck: this.state.vaccineCheck-1\n            })\n        }\n        \n    }\n\n    handleServiceChange=(e)=>{\n        if(e.target.checked===true){\n            //add service\n            let newService=this.state.service;\n            newService[e.target.name]=1;\n            let price=Number(e.target.value)\n\n            let promise=new Promise((resolve,reject)=>{\n                this.setState({\n                    service:newService,\n                    servicePrice: this.state.servicePrice+price\n                })\n                resolve(price)\n    \n            })\n\n            let totalPrice=this.state.totalPrice;\n\n            promise.then((price)=>{\n                let newTotalPrice=totalPrice+price;\n                this.setState({\n                    totalPrice:newTotalPrice\n                })\n            })\n\n        }else{\n            //delete service\n            let newService=this.state.service;\n            delete newService[e.target.name];\n           \n            let price=Number(e.target.value)\n\n            let promise=new Promise((resolve,reject)=>{\n                this.setState({\n                    service:newService,\n                    servicePrice: this.state.servicePrice-price\n                })\n                resolve(price)\n    \n            })\n\n            let totalPrice=this.state.totalPrice;\n\n            promise.then((price)=>{\n                let newTotalPrice=totalPrice-price;\n                this.setState({\n                    totalPrice:newTotalPrice\n                })\n            })\n\n        }\n\n    }\n\n    handleSubmit=(e)=>{\n        e.preventDefault();\n        clearInterval(this.timerID)\n\n        //check vaccine.length\n        if(this.state.vaccineRequirement && this.state.vaccineRequirement.vaccine.length!==this.state.vaccineCheck){\n            console.log('not ok')\n            this.setState({\n                vaccineError:<div style={{color:'#da3846'}}>Make sure you pet has received all the vaccine.</div>,\n                vaccineClass:'vaccine-not-ok'\n            })\n        }else{\n            this.setState({\n                vaccineError:null,\n                vaccineClass:null\n            })\n        }\n\n        \n\n        //check is number \n        let checkPhone=Number(this.state.ownerPhone);\n        let checkWeight=Number(this.state.petWeight)\n        console.log('222',checkPhone)\n\n        //\n        if( this.state.ownerName && this.state.ownerPhone && isNaN(checkPhone)===false && this.state.petName && this.state.petType && this.state.petWeight && isNaN(checkWeight)=== false && this.state.vaccineCheck===this.state.vaccineRequirement.vaccine.length){\n            const jwt = localStorage.getItem('petvago-token');\n            if (!jwt) {\n                this.props.history.push('/login')\n            }\n\n            let today=new Date()\n\n            let data={\n                id:this.state.bookingID,\n                ownerName:this.state.ownerName,\n                ownerPhone:checkPhone,\n                petName: this.state.petName,\n                petType: this.state.petType,\n                petWeight: checkWeight,\n                vaccineRequirement: this.state.vaccineRequirement,\n                service: this.state.service,\n                totalPrice: this.state.totalPrice,\n                orderDate:today\n            }\n\n            \n\n            let history=this.props.history\n\n            axios.put(`https://petvago.site/api/booking/update-booking`,data, { headers: { Authorization: `Bearer ${jwt}` } }).then((result)=>{\n                history.push({pathname:'/confirmation',state:{bookingID:data.id}})\n                \n    \n            }).catch(err=>console.log(err))\n           \n            }else{\n                alert('Make sure all fields are filled in and in correct format.')\n            }\n            \n        \n\n    }\n\n    renderVaccine=()=>{\n        if(this.state.vaccineRequirement){\n            return this.state.vaccineRequirement.vaccine.map((each)=>{\n                return(\n                    <div key={each} className=\"form-check\" style={{paddingTop:'5px',paddingBottom:'5px', marginLeft:'30px'}}>\n                    <input className=\"form-check-input\" type=\"checkbox\" name=\"vaccine\" value={each} style={{display:'inline'}}\n                            onChange={this.handleVaccineChange}/>\n                    <label  className=\"form-check-label\">\n                        {each}\n                    </label>\n                    </div>\n                )\n    \n            })\n\n        }else{\n            return (<div><label> No vaccine is required :)</label></div>)\n        }\n\n    }\n    \n\n    render(){\n\n        return(\n        <div className='booking'>\n            \n            <div className='booking-form'>\n\n            <h1 style={{marginBottom:\"20px\"}}>Basic information</h1>\n\n            <div className=\"form-group row\">\n                <label className=\"col-sm-4 col-form-label\"> <FontAwesomeIcon icon=\"user\" style={{marginRight:'10px'}}/>Onwer's name</label>\n                <div className=\"col-sm-8\">\n                <input name=\"ownerName\" type=\"text\" className=\"form-control\"  onChange={this.handleChange}/>\n                </div>\n            </div>\n            <div className=\"form-group row\">\n                <label className=\"col-sm-4 col-form-label\"><FontAwesomeIcon icon=\"phone\" style={{marginRight:'10px'}}/>Phone number</label>\n                <div className=\"col-sm-8\">\n                <input name=\"ownerPhone\" type=\"text\" className=\"form-control\"  onChange={this.handleChange}/>\n                </div>\n            </div>\n            <div className=\"form-group row\">\n                <label className=\"col-sm-4 col-form-label\"><FontAwesomeIcon icon=\"paw\" style={{marginRight:'10px'}}/>Pet's name</label>\n                <div className=\"col-sm-8\">\n                <input name=\"petName\" type=\"text\" className=\"form-control\"  onChange={this.handleChange}/>\n                </div>\n            </div>\n            <div className=\"form-group row\">\n                <label className=\"col-sm-4 col-form-label\"><FontAwesomeIcon icon=\"weight\" style={{marginRight:'10px'}}/>Pet weight</label>\n                <div className=\"col-sm-8\">\n                <input name=\"petWeight\" type=\"text\" className=\"form-control\"  onChange={this.handleChange}/>\n                </div>\n                \n            </div>\n\n            <div className=\"form-group row\">\n            <label className=\"col-sm-4 col-form-label\"><FontAwesomeIcon icon=\"dog\" style={{marginRight:'10px'}}/>Pet type</label>\n                <div className=\"col-sm-8\">\n                    <select onChange={this.handleChange} name=\"petType\" className=\"form-control\">\n                    <option default>Choose a pet type</option>\n                    <option value=\"dog\">Dog</option> \n                    <option value=\"cat\">Cat</option>  \n                    </select>\n                </div>\n            </div>\n\n            <p style={{marginBottom:\"10px\"}}> <FontAwesomeIcon icon=\"syringe\" style={{marginRight:'10px'}}/>Has your pet received these vaccines?</p>\n            <div className={this.state.vaccineClass}>\n                {this.renderVaccine()}\n            </div>\n                {this.state.vaccineError}\n\n            <div className=\"booking-line\" style={{marginTop:'30px'}} ></div> \n\n            <h1 style={{marginBottom:\"10px\"}}><FontAwesomeIcon icon=\"bath\" style={{marginRight:'10px'}}/>Service </h1>\n            \n            <div className=\"form-check\" style={{paddingTop:'20px'}}>\n            <input className=\"form-check-input\" type=\"checkbox\" name=\"Bath\" value='350' style={{display:'inline'}}\n                    onChange={this.handleServiceChange}/>\n            <label className=\"form-check-label\">\n                Bath  +$350\n            </label>\n            </div>\n\n            <div className=\"form-check\" style={{paddingTop:'20px'}}>\n            <input className=\"form-check-input\" type=\"checkbox\" name=\"Obedience Training\" value='500' style={{display:'inline'}}\n                    onChange={this.handleServiceChange}/>\n            <label className=\"form-check-label\" >\n                Obedience Training  +$500\n            </label>\n            </div>\n\n            <div className=\"form-check\" style={{paddingTop:'20px'}}>\n            <input className=\"form-check-input\" type=\"checkbox\" name=\"Swimming class\" value='200' style={{display:'inline'}}\n                    onChange={this.handleServiceChange}/>\n            <label className=\"form-check-label\" >\n                Swimming class  +$200\n            </label>\n            </div>\n\n            <button className=\" booking-button\" onClick={this.handleSubmit}>Submit</button>\n\n           <div className='count-down'>\n            <div><p> We will hold this room for : </p></div>\n            <div><h5>{this.state.time}</h5></div>\n           </div>\n\n\n\n\n            </div>\n\n            <div className='booking-box'>\n                <div style={{display:'flex'}}>\n                    <h1 style={{width:'50%', fontWeight: \"bold\"}}>{this.state.hotelName}</h1>\n                    <img style={{width:'50%'}} src={this.state.hotelIcon} alt=\"hotel\" className=\"booking-icon\"/>\n                </div>\n                <div className=\"booking-line\"></div>  \n\n                <div style={{display:'flex', justifyContent:'space-between'}}>\n                    <p style={{fontWeight: \"bold\"}}>Date: </p>\n                    <p>{this.state.startDate} - {this.state.endDate}</p>\n                </div>\n                <div className=\"booking-line\"></div> \n\n                <p style={{marginBottom:\"10px\", fontWeight: \"bold\"}}>Price</p> \n\n                <div style={{display:'flex', justifyContent:'space-between',marginBottom:\"10px\"}}>\n                    <p>{this.state.roomType} x {this.state.duration} days : </p>\n                    <p>${this.state.hotelPrice}</p>\n                </div>\n                <div style={{display:'flex', justifyContent:'space-between',marginBottom:\"15px\"}}>\n                    <p>Service : </p>\n                    <p>${this.state.servicePrice}</p>\n                </div>\n                <div style={{display:'flex', justifyContent:'space-between',marginBottom:\"15px\"}}>\n                    <p style={{fontWeight: \"bold\"}}>Total price : </p>\n                    <p>${this.state.totalPrice}</p>\n                </div>\n\n\n\n\n                         \n\n            </div>\n            \n\n\n   \n\n        </div>\n\n\n\n    )}\n        \n    \n\n\n\n}\n\nconst mapStateToProps = state => ({\n    hotel:state.hotel.hotelChosenforBooking,\n    expiryTime:state.hotel.expiryTime,\n    startDate: state.hotel.bookingStartDate,\n    endDate: state.hotel.bookingEndDate,\n    bookingID: state.hotel.bookingID,\n    hotelName: state.hotel.hotelName,\n    roomType: state.hotel.roomType,\n    roomTypeID: state.hotel.roomTypeID,\n    roomPrice: state.hotel.roomPrice,\n    vaccineRequirement: state.hotel.vaccineRequirement,\n    hotelIcon: state.hotel.hotelIcon\n});\n\n\n\n\nexport default connect(mapStateToProps)(withRouter(Booking));","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport axios from 'axios';\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faCheckCircle, faPrint,faReceipt } from '@fortawesome/free-solid-svg-icons'\nlibrary.add(faPrint)\nlibrary.add(faCheckCircle)\nlibrary.add(faReceipt)\n\n\nclass Confirmation extends Component {\n    constructor(props){\n        super(props);\n        this.state={ \n            bookingID:null,\n            orderDate:null,\n            ownerName:null,\n            hotelName:null,\n            ownerPhone:null,\n            petName:null,\n            petWeight:null,\n            petType:null,\n            vaccineRequirement:null,\n            service:null,\n            totalPrice:null,\n            startDate:null,\n            endDate:null,\n            roomType:null,\n            loading:false\n        }\n    }\n\n    componentDidMount(){\n        console.log(!this.props.location.state)\n\n        if(!this.props.location.state===true){\n            console.log('123')\n            this.props.history.push('/')\n        }else if (!this.props.location.state===false) {\n            let promise=new Promise((resolve,reject)=>{\n                this.setState({\n                    bookingID:this.props.location.state.bookingID\n                })\n                resolve()\n            })\n\n            promise.then(()=>{\n\n                const jwt = localStorage.getItem('petvago-token');\n        if (!jwt) {\n            this.props.history.push('/login')\n            \n        }\n\n        axios.get(`https://petvago.site/api/booking/info/${this.state.bookingID}`, { headers: { Authorization: `Bearer ${jwt}` } }).then((result)=>{\n            let data=result.data[0];\n            let vaccine=data.vaccineRequirement.vaccine.join(', ')\n            let service=data.service;\n            let newService=[];\n\n            for (let [key, value] of Object.entries(service)) {\n                newService.push(key+' ('+value+') ');\n            }\n            newService=newService.join(', ')\n\n            let startDate=new Date(data.startDate)\n            var dd = startDate.getDate();\n            var mm = startDate.getMonth() + 1; \n            var yyyy = startDate.getFullYear();\n            startDate = dd + '/' + mm + '/' + yyyy;\n\n            let endDate=new Date(data.endDate)\n            var dd2 = endDate.getDate();\n            var mm2 = endDate.getMonth() + 1; \n            var yyyy2 = endDate.getFullYear();\n            endDate = dd2 + '/' + mm2 + '/' + yyyy2;\n\n            let orderDate=new Date(data.orderDate)\n            var dd3 = orderDate.getDate();\n            var mm3 = orderDate.getMonth() + 1; \n            var yyyy3 = orderDate.getFullYear();\n            orderDate = dd3 + '/' + mm3 + '/' + yyyy3;\n\n\n            this.setState({\n                orderDate:orderDate,\n                ownerName:data.ownerName,\n                hotelName:data.hotelName,\n                ownerPhone:data.ownerPhone,\n                petName:data.petName,\n                petWeight:data.petWeight,\n                petType:data.petType,\n                vaccineRequirement:vaccine,\n                service:newService,\n                totalPrice:data.totalPrice,\n                startDate:startDate,\n                endDate:endDate,\n                roomType:data.roomType,\n\n            })\n            }).catch(err=>console.log(err))\n\n            })\n            \n        }\n                 \n    }\n\n    print=()=>{\n        window.print()\n    }\n\n    done=()=>{\n\n            this.props.history.push('/')\n\n    }\n\n    render(){\n        return(\n        <div className=\"confirmation\">\n            <h1 style={{textAlign:'center'}}>Your order is cofirmed. <FontAwesomeIcon icon=\"check-circle\" style={{marginLeft:'10px', color:'#50b5a9'}}/></h1>\n            \n            <div className=\"confirm-box\">\n            <p className=\"confrim-title\">Your booking <FontAwesomeIcon icon=\"receipt\" style={{marginLeft:'10px'}}/></p>\n            <p> Reference number: {this.state.bookingID}</p>\n            <p> Order date: {this.state.orderDate}</p>\n            <p style={{marginTop:'30px'}}> Owner's name: {this.state.ownerName}</p>\n            <p> Phone number: {this.state.ownerPhone}</p>\n            <p> Pet's name: {this.state.petName}</p>\n            <p> Pet's weight: {this.state.petWeight}</p>\n            <p> Pet type: {this.state.petType}</p>\n            <p> Vaccine requirement: {this.state.vaccineRequirement}</p>\n\n            <p style={{marginTop:'30px'}}> Hotel name: {this.state.hotelName}</p>\n            <p> Room type: {this.state.roomType}</p>\n            <p> Service: {this.state.service}</p>\n            <p> Date: {this.state.startDate} - {this.state.endDate}</p>\n            <p> Price: ${this.state.totalPrice}</p>\n\n\n\n\n\n\n\n\n            <div className=\"confirm-button\">\n            <button onClick={this.print} className=\"btn booking-button\"><FontAwesomeIcon icon=\"print\" style={{marginRight:'10px', color:'#fff'}}/> Print</button>\n            <button onClick={this.done} className=\"btn booking-button\"> Done</button>\n            </div>\n            \n            </div>\n            \n\n        </div>\n        )\n    }\n}\n\nexport default (withRouter(Confirmation));","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport axios from 'axios';\nimport Ratings from 'react-ratings-declarative';\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faUser,faPhone,faEnvelope,faHotel, faCalendarAlt,faReceipt, faThumbsUp,faComments } from '@fortawesome/free-solid-svg-icons'\nlibrary.add(faUser)\nlibrary.add(faPhone)\nlibrary.add(faEnvelope)\nlibrary.add(faHotel)\nlibrary.add(faCalendarAlt)\nlibrary.add(faReceipt)\nlibrary.add(faThumbsUp)\nlibrary.add(faComments)\n\nclass Confirmation extends Component {\n    constructor(props){\n        super(props);\n        this.state={ \n            username:null,\n            telephone:null,\n            email:null,\n            pastBooking:null,\n            upcomingBooking:null,\n            modal:null,\n            bookingID:null,\n            orderDate:null,\n            ownerName:null,\n            hotelName:null,\n            ownerPhone:null,\n            petName:null,\n            petWeight:null,\n            petType:null,\n            hotelID:null,\n            vaccineRequirement:null,\n            service:null,\n            totalPrice:null,\n            startDate:null,\n            endDate:null,\n            roomType:null,  \n            modalBody:null,    \n            review:null,\n            rating:0,\n            reviewArray:null,     \n          \n        }\n    }\n\n    componentDidMount(){\n        const jwt = localStorage.getItem('petvago-token');\n        if (!jwt) {\n            this.props.history.push('/login')\n        }\n        axios.get(`https://petvago.site/api/userprofile`, { headers: { Authorization: `Bearer ${jwt}` } }).then((result)=>{\n\n            this.setState({\n                username:result.data[0].username,\n                telephone:result.data[0].telephone,\n                email:result.data[0].email\n            })\n            \n        }).catch((err)=>console.log(err))\n\n        axios.get(`https://petvago.site/api/booking/user`, { headers: { Authorization: `Bearer ${jwt}` } }).then((result)=>{\n            console.log('result',result)\n            this.setState({\n                pastBooking:result.data[0].pastBooking,\n                upcomingBooking:result.data[0].upcomingBooking,\n            })\n        }).catch((err)=>console.log(err))\n\n       this.getReview()\n\n    }\n\n    getReview=()=>{\n        const jwt = localStorage.getItem('petvago-token');\n\n        axios.get(`https://petvago.site/api/review/user`, { headers: { Authorization: `Bearer ${jwt}` } }).then((result)=>{\n            this.setState({\n                reviewArray:result.data\n            })\n        }).catch((err)=>console.log(err))\n\n    }\n\n    componentWillUpdate=(nextProps, nextState) =>{\n        if (nextState.pastBooking !== this.state.pastBooking ) {\n          this.renderPast()\n        }\n        if (nextState.upcomingBooking !== this.state.upcomingBooking ) {\n            this.renderUpcoming()\n          }\n      }\n\n    handleToggle=(type,id)=>{\n        return new Promise((resolve,reject)=>{\n            this.setState({\n                modal:type,\n                bookingID:id\n            })\n            resolve()\n        }).then(()=>{\n            this.renderModal()\n        })\n        \n    }\n\n    contactHotel=(hotelID)=>{\n        const jwt = localStorage.getItem('petvago-token');\n        let history=this.props.history;\n        axios.post(`https://petvago.site/api/chatroom/addchat`,{hotelID}, { headers: { Authorization: `Bearer ${jwt}` } })\n        .then((result)=>{\n            console.log('contact',result.data.conversationID)\n            history.push({pathname:'/chatroom',state:{conversationID:result.data.conversationID}})\n\n\n        }).catch((err)=>console.log(err))\n    }\n\n\n    renderModal=()=>{\n        if(this.state.bookingID){\n            const jwt = localStorage.getItem('petvago-token');\n\n            axios.get(`https://petvago.site/api/booking/info/${this.state.bookingID}`, { headers: { Authorization: `Bearer ${jwt}` } }).then((result)=>{\n                \n                let data=result.data[0];\n                let vaccine=data.vaccineRequirement.vaccine.join(', ')\n                let service=data.service;\n                let newService=[];\n    \n                for (let [key, value] of Object.entries(service)) {\n                    newService.push(key+' ('+value+') ');\n                }\n                newService=newService.join(', ')\n    \n                let startDate=new Date(data.startDate)\n                var dd = startDate.getDate();\n                var mm = startDate.getMonth() + 1; \n                var yyyy = startDate.getFullYear();\n                startDate = dd + '/' + mm + '/' + yyyy;\n    \n                let endDate=new Date(data.endDate)\n                var dd2 = endDate.getDate();\n                var mm2 = endDate.getMonth() + 1; \n                var yyyy2 = endDate.getFullYear();\n                endDate = dd2 + '/' + mm2 + '/' + yyyy2;\n\n                let orderDate=null;\n    \n                if(data.orderDate){\n                    orderDate=new Date(data.orderDate)\n                    var dd3 = orderDate.getDate();\n                    var mm3 = orderDate.getMonth() + 1; \n                    var yyyy3 = orderDate.getFullYear();\n                    orderDate = dd3 + '/' + mm3 + '/' + yyyy3;\n                }else{\n                    orderDate=null\n                }\n                \n    \n    \n                this.setState({\n                    orderDate:orderDate,\n                    hotelID:data.hotelID,\n                    ownerName:data.ownerName,\n                    hotelName:data.hotelName,\n                    ownerPhone:data.ownerPhone,\n                    petName:data.petName,\n                    petWeight:data.petWeight,\n                    petType:data.petType,\n                    vaccineRequirement:vaccine,\n                    service:newService,\n                    totalPrice:data.totalPrice,\n                    startDate:startDate,\n                    endDate:endDate,\n                    roomType:data.roomType,\n    \n                })\n                }).then(()=>{\n                    \n                    if(this.state.modal && this.state.modal==='upcoming'){\n                        this.setState({\n                            modalBody: ( <div>\n                                <div className=\"modal-body mybooking-modal-body\">\n                                <p> Reference number: {this.state.bookingID}</p>\n                                <p> Order date: {this.state.orderDate!=null ? this.state.orderDate: '-'}</p>\n                                <p style={{marginTop:'30px'}}> Owner's name: {this.state.ownerName}</p>\n                                <p> Phone number: {this.state.ownerPhone}</p>\n                                <p> Pet's name: {this.state.petName}</p>\n                                <p> Pet's weight: {this.state.petWeight}</p>\n                                <p> Pet type: {this.state.petType}</p>\n                                <p> Vaccine requirement: {this.state.vaccineRequirement}</p>\n\n                                <p style={{marginTop:'30px'}}> Hotel name: {this.state.hotelName}</p>\n                                <p> Room type: {this.state.roomType}</p>\n                                <p> Service: {this.state.service}</p>\n                                <p> Date: {this.state.startDate} - {this.state.endDate}</p>\n                                <p> Price: ${this.state.totalPrice}</p>\n                                </div>\n                                <div className=\"modal-footer\">\n                                    <button onClick={()=>this.contactHotel(this.state.hotelID)} type=\"button\" className=\"btn mybooking-button\" data-dismiss=\"modal\"><FontAwesomeIcon icon=\"comments\" style={{marginRight:'10px', color:'#fff'}} />Contact Hotel</button>\n                                </div>\n                            </div>)\n                        });\n                       \n                    }else if(this.state.modal && this.state.modal==='past'){\n\n                        let isReviewed=this.state.reviewArray.filter((each)=>{\n                            if (each.bookingID===this.state.bookingID){\n                                return true\n                            }else{return false}\n                        })\n\n                        const changeRating=( newRating ) =>{\n                            return new Promise((resolve,reject)=>{\n                                this.setState({\n                                    rating: newRating\n                                  });\n                                  resolve()\n                            }).then(()=>{\n                                set()\n                            })\n                          }\n\n                        const set=()=>{\n                            if (isReviewed.length===0){\n                                this.setState({\n                                    modalBody: ( <div>\n                                           <div className=\"modal-body mybooking-modal-body\">\n                                        <p> Reference number: {this.state.bookingID}</p>\n                                        <p> Order date: {this.state.orderDate!=null ? this.state.orderDate: '-'}</p>\n                                        <p style={{marginTop:'30px'}}> Owner's name: {this.state.ownerName}</p>\n                                        <p> Phone number: {this.state.ownerPhone}</p>\n                                        <p> Pet's name: {this.state.petName}</p>\n                                        <p> Pet's weight: {this.state.petWeight}</p>\n                                        <p> Pet type: {this.state.petType}</p>\n                                        <p> Vaccine requirement: {this.state.vaccineRequirement}</p>\n        \n                                        <p style={{marginTop:'30px'}}> Hotel name: {this.state.hotelName}</p>\n                                        <p> Room type: {this.state.roomType}</p>\n                                        <p> Service: {this.state.service}</p>\n                                        <p> Date: {this.state.startDate} - {this.state.endDate}</p>\n                                        <p> Price: ${this.state.totalPrice}</p>\n        \n                                        <div className=\"booking-line\" style={{marginBottom:'20px'}} ></div> \n        \n                                        <p style={{marginTop:'20px',marginBottom:'10px',fontSize:'20px'}}><FontAwesomeIcon icon=\"thumbs-up\" style={{marginRight:'10px', color:'#50b5a9'}}/>Write a review</p>\n                                        <Ratings\n                                            rating={this.state.rating}\n                                            widgetRatedColors=\"rgb(252, 184, 40)\"\n                                            widgetDimensions=\"25px\"\n                                            changeRating={changeRating}\n                                        >\n                                            <Ratings.Widget widgetHoverColor=\"rgb(252, 184, 40)\"/>\n                                            <Ratings.Widget widgetHoverColor=\"rgb(252, 184, 40)\"/>\n                                            <Ratings.Widget widgetHoverColor=\"rgb(252, 184, 40)\"/>\n                                            <Ratings.Widget widgetHoverColor=\"rgb(252, 184, 40)\" />\n                                            <Ratings.Widget widgetHoverColor=\"rgb(252, 184, 40)\"/>\n                                        </Ratings>\n                                        <div className=\"form-group\" style={{marginTop:'10px'}}>\n                                        <textarea className=\"form-control\" rows=\"3\" value={this.state.review} onChange={this.writeReview}></textarea>\n                                        </div>\n                                      \n        \n                                        <button type=\"button\" className=\"btn mybooking-button\" data-dismiss=\"modal\" onClick={this.submitReview}>Submit</button>\n                    \n                                        </div>\n                                    </div>)\n                                });      \n\n                            }else{\n                                this.setState({\n                                    modalBody: ( <div>\n                                           <div className=\"modal-body mybooking-modal-body\">\n                                        <p> Reference number: {this.state.bookingID}</p>\n                                        <p> Order date: {this.state.orderDate!=null ? this.state.orderDate: '-'}</p>\n                                        <p style={{marginTop:'30px'}}> Owner's name: {this.state.ownerName}</p>\n                                        <p> Phone number: {this.state.ownerPhone}</p>\n                                        <p> Pet's name: {this.state.petName}</p>\n                                        <p> Pet's weight: {this.state.petWeight}</p>\n                                        <p> Pet type: {this.state.petType}</p>\n                                        <p> Vaccine requirement: {this.state.vaccineRequirement}</p>\n        \n                                        <p style={{marginTop:'30px'}}> Hotel name: {this.state.hotelName}</p>\n                                        <p> Room type: {this.state.roomType}</p>\n                                        <p> Service: {this.state.service}</p>\n                                        <p> Date: {this.state.startDate} - {this.state.endDate}</p>\n                                        <p> Price: ${this.state.totalPrice}</p>\n        \n                                        <div className=\"booking-line\" style={{marginBottom:'20px'}} ></div> \n    \n        \n                                        <p style={{marginTop:'20px',marginBottom:'10px',fontSize:'20px'}}><FontAwesomeIcon icon=\"thumbs-up\" style={{marginRight:'10px', color:'#50b5a9'}}/>Your review</p>\n                                        <Ratings\n                                            rating={isReviewed[0].rating}\n                                            widgetRatedColors=\"rgb(252, 184, 40)\"\n                                            widgetDimensions=\"25px\"\n                                        >\n                                            <Ratings.Widget/>\n                                            <Ratings.Widget/>\n                                            <Ratings.Widget/>\n                                            <Ratings.Widget/>\n                                            <Ratings.Widget/>\n\n                                        </Ratings>\n                                        <p style={{marginTop:'10px',marginBottom:'20px'}}>{isReviewed[0].comment}</p>\n                                   \n                                    </div>\n                                    </div>)\n                                });      \n\n                            }\n                            \n                        }\n                      set()\n                      \n                    }\n\n                }).catch(err=>console.log(err))\n        }\n    }\n\n\n  \n    \n    writeReview=(e)=>{\n        this.setState({\n            review:e.target.value\n        })\n    }\n\n    submitReview=(e)=>{\n        this.setState({\n            rating:0,\n            review:''\n        })\n        let data={\n            hotelID:this.state.hotelID,\n            bookingID:this.state.bookingID,\n            rating:this.state.rating,\n            comment:this.state.review\n        }\n        const jwt = localStorage.getItem('petvago-token');\n        const getReview=this.getReview\n\n        axios.post(`https://petvago.site/api/review`,data, { headers: { Authorization: `Bearer ${jwt}` } }).then((result)=>{\n            getReview()\n        }).catch(err=>console.log(err))\n    }\n\n    renderPast=()=>{\n        if(this.state.pastBooking){\n            function compare(a,b) {\n                if (a.startDate < b.startDate)\n                  return 1;\n                if (a.startDate > b.startDate)\n                  return -1;\n                return 0;\n              }\n\n              let array=this.state.pastBooking; \n              array.sort(compare);\n\n            return (\n                array.map((each)=>{\n\n                     //format date\n                    let startDate=new Date(each.startDate)\n                    var dd = startDate.getDate();\n                    var mm = startDate.getMonth() + 1; \n                    var yyyy = startDate.getFullYear();\n                    startDate = dd + '/' + mm + '/' + yyyy;\n\n                    let endDate=new Date(each.endDate)\n                    var dd2 = endDate.getDate();\n                    var mm2 = endDate.getMonth() + 1; \n                    var yyyy2 = endDate.getFullYear();\n                    endDate = dd2 + '/' + mm2 + '/' + yyyy2;\n\n                    return (\n                 \n                            <div key={each.bookingID} className=\"mybooking-each-box\" data-toggle=\"modal\" data-target=\"#exampleModal\" onClick={()=>this.handleToggle('past',each.bookingID)}>\n                           \n                                <img className='mybooking-icon' key={each.id} src={each.hotelIconPath} alt=\"hotel\"/>\n                                <div className='mybooking-each-box-text' style={{display:'flex'}}><div><FontAwesomeIcon icon=\"hotel\" style={{marginRight:'12px', marginLeft:'2px',color:'#50b5a9'}}/> </div><div>{each.hotelName}</div></div>\n                               \n                                <div className='mybooking-each-box-text' style={{display:'flex'}}><div><FontAwesomeIcon icon=\"calendar-alt\" style={{marginRight:'12px', marginLeft:'2px',color:'#50b5a9'}}/> </div><div>{startDate} - {endDate}</div></div>\n                            </div>\n                 \n                    )\n                })\n            )\n\n        }\n        \n    }\n\n    renderUpcoming=()=>{\n        if(this.state.upcomingBooking){\n            function compare(a,b) {\n                if (a.startDate < b.startDate)\n                  return -1;\n                if (a.startDate > b.startDate)\n                  return 1;\n                return 0;\n              }\n\n              let array=this.state.upcomingBooking; \n              array.sort(compare);\n              \n            return (\n                array.map((each)=>{\n\n                     //format date\n                    let startDate=new Date(each.startDate)\n                    var dd = startDate.getDate();\n                    var mm = startDate.getMonth() + 1; \n                    var yyyy = startDate.getFullYear();\n                    startDate = dd + '/' + mm + '/' + yyyy;\n\n                    let endDate=new Date(each.endDate)\n                    var dd2 = endDate.getDate();\n                    var mm2 = endDate.getMonth() + 1; \n                    var yyyy2 = endDate.getFullYear();\n                    endDate = dd2 + '/' + mm2 + '/' + yyyy2;\n\n                    return (\n                 \n                            <div key={each.bookingID} className=\"mybooking-each-box\" data-toggle=\"modal\" data-target=\"#exampleModal\" onClick={()=>this.handleToggle('upcoming',each.bookingID)}>\n                              \n                                <img className='mybooking-icon' key={each.id} src={each.hotelIconPath} alt=\"hotel\"/>\n                                <div className='mybooking-each-box-text' style={{display:'flex'}}><div><FontAwesomeIcon icon=\"hotel\" style={{marginRight:'12px', marginLeft:'2px',color:'#50b5a9'}}/> </div><div>{each.hotelName}</div></div>\n                               \n                                <div className='mybooking-each-box-text' style={{display:'flex'}}><div><FontAwesomeIcon icon=\"calendar-alt\" style={{marginRight:'12px', marginLeft:'2px',color:'#50b5a9'}}/> </div><div>{startDate} - {endDate}</div></div>\n                            </div>\n                 \n                    )\n                })\n            )\n\n        }\n        \n    }\n\n\n    render(){\n        return(<div className=\"myBooking \">\n        <div className=\"row justify-content-center\">\n        <div className=\"col-md-8 col-12\">\n        \n        <h1 style={{marginBottom:'20px'}}>Upcoming Booking</h1>\n        <div className=\"myBooking-wrap\">\n            {this.renderUpcoming()}\n        </div>\n\n        <div className=\"booking-line\" style={{marginBottom:'20px'}} ></div> \n\n        <h1 style={{marginBottom:'20px',marginTop:'20px'}}>History</h1>\n        <div className=\"myBooking-wrap\">\n            {this.renderPast()}\n        </div>\n\n        </div>\n\n        <div className=\"col-md-4 myBooking-info col-12\">\n           <h1 style={{marginBottom:'20px',marginTop:'20px'}}> My information</h1>\n           <div className=\"booking-line\" style={{marginBottom:'20px'}} ></div> \n                <p><FontAwesomeIcon icon=\"user\" style={{marginRight:'10px', color:'#50b5a9'}}/> {this.state.username}</p>\n                <p><FontAwesomeIcon icon=\"envelope\" style={{marginRight:'10px',color:'#50b5a9'}}/> {this.state.email}</p>\n                <p><FontAwesomeIcon icon=\"phone\" style={{marginRight:'10px',color:'#50b5a9'}}/>{this.state.telephone}</p>\n        \n        </div>\n\n        <div className=\"modal fade\" id=\"exampleModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n            <div className=\"modal-dialog\" role=\"document\">\n                <div className=\"modal-content\">\n                <div className=\"modal-header\">\n                    <h5 className=\"modal-title mybooking-modal-title\" id=\"exampleModalLabel\"><FontAwesomeIcon icon=\"receipt\" style={{marginRight:'10px', color:'#50b5a9'}}/>Booking detail</h5>\n                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                    <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                </div>\n             \n                   {this.state.modalBody}\n\n                \n                </div>\n            </div>\n        </div>\n        </div>\n                    \n        </div>)\n    }\n\n}\n\nexport default withRouter(Confirmation);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport axios from 'axios';\r\nimport * as actionTypes from '../../store/actions';\r\n\r\n\r\nimport \"./Filter.css\";\r\n\r\n//daterangepicker\r\nimport DateRangePicker from 'react-bootstrap-daterangepicker';\r\nimport 'bootstrap-daterangepicker/daterangepicker.css';\r\nimport moment from 'moment'\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        SearchResult: state.search,\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        onSearch: (history) => dispatch({ type: actionTypes.SEARCHHOTEL, history: history }),\r\n        afterSearch: (result) => dispatch({ type: actionTypes.SEARCHRESULT, result: result })\r\n    }\r\n};\r\n\r\nclass Filter extends React.Component {\r\n    districts = ['Central and Western', 'Eastern', 'Islands', 'Kowloon City', 'Kwai Tsing', 'Kwun Tong', 'North', 'Sai Kung', 'Sha Tin', 'Sham Shui Po', 'Southern', 'Tai Po', 'Tsuen Wan', 'Tuen Mun', 'Wan Chai', 'Wong Tai Sin', 'Yau Tsim Mong', 'Yuen Long']\r\n\r\n    districtChange = (e) => {\r\n        e.preventDefault();\r\n        this.props.SearchResult.district = e.target.value\r\n        axios.post(`https://petvago.site/api/search/`,\r\n            {\r\n                startDate: this.props.SearchResult.startDate,\r\n                endDate: this.props.SearchResult.endDate,\r\n                district: this.props.SearchResult.district || \"all\",\r\n                petType: this.props.SearchResult.petType || \"all\",\r\n            })\r\n            .then(response => {\r\n                if (response === null) {\r\n                    console.log('you are living failure')\r\n                } else {\r\n                    console.log(response.data)\r\n                    this.props.afterSearch(response.data)\r\n                }\r\n\r\n                this.props.onSearch(this.props.SearchResult);\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n            })\r\n    }\r\n\r\n    petTypeChange = (e) => {\r\n        e.preventDefault();\r\n        this.props.SearchResult.petType = e.target.value\r\n        console.log(this.props.SearchResult.petType)\r\n        axios.post(`https://petvago.site/api/search/`,\r\n            {\r\n                startDate: this.props.SearchResult.startDate,\r\n                endDate: this.props.SearchResult.endDate,\r\n                district: this.props.SearchResult.district || \"all\",\r\n                petType: this.props.SearchResult.petType || \"all\",\r\n            })\r\n            .then(response => {\r\n                if (response === null) {\r\n                    console.log('you are living failure')\r\n                } else {\r\n                    console.log(response.data)\r\n                    this.props.afterSearch(response.data)\r\n                }\r\n                this.props.onSearch(this.props.SearchResult);\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n            })\r\n    }\r\n\r\n\r\n    dateChange = (e, picker) => {\r\n        e.preventDefault();\r\n        console.log(this.props.SearchResult.startDate)\r\n        console.log(picker.startDate._d)\r\n        this.props.SearchResult.startDate = moment(new Date(picker.startDate._d)).format(\"YYYY-MM-DD\")\r\n        this.props.SearchResult.endDate = moment(new Date(picker.endDate._d)).format(\"YYYY-MM-DD\")\r\n        axios.post(`https://petvago.site/api/search/`,\r\n            {\r\n                startDate: this.props.SearchResult.startDate,\r\n                endDate: this.props.SearchResult.endDate,\r\n                district: this.props.SearchResult.district || \"all\",\r\n                petType: this.props.SearchResult.petType || \"all\",\r\n            })\r\n            .then(response => {\r\n                if (response === null) {\r\n                    console.log('you are living failure')\r\n                } else {\r\n                    console.log(response.data)\r\n                    this.props.afterSearch(response.data)\r\n                }\r\n                this.props.onSearch(this.props.SearchResult);\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n            })\r\n    }\r\n\r\n    render() {\r\n        let today = new Date().toISOString().split('T')[0];\r\n        //find 12 weeks later\r\n        let threeMonthLater = new Date();\r\n        threeMonthLater.setDate(threeMonthLater.getDate() + 84);\r\n        threeMonthLater = threeMonthLater.toISOString().split('T')[0];\r\n        \r\n        return (\r\n            <div className=\"filter\">\r\n                <div className=\"filter-box\">\r\n                <DateRangePicker\r\n                    minDate={moment(new Date(today))}\r\n                    maxDate={moment(new Date(threeMonthLater))}\r\n                    startDate={moment(new Date(this.props.SearchResult.startDate || today))}\r\n                    endDate={moment(new Date(this.props.SearchResult.endDate || today))}\r\n                    onApply={this.dateChange}\r\n                    props={this.props}\r\n                >\r\n                    <button className=\"filterDate\">Date : {moment(this.props.SearchResult.startDate).format('l')}- {moment(this.props.SearchResult.endDate).format('l')} </button>\r\n                </DateRangePicker>\r\n                    <div className='filterDistrict'>\r\n                    <select name=\"district\" defaultValue={this.props.SearchResult.district || \"all\"} onChange={this.districtChange} required >\r\n                        <option value=\"all\" disabled selected hidden >District</option>\r\n                        <option value=\"all\" >- All district -</option>\r\n                        {this.districts.map((district, index) => {\r\n                            return <option value={district} key={index} >{district}</option>\r\n                        })}\r\n                    </select>\r\n                    </div>\r\n                    <div className='filterPet'>\r\n                    <select name=\"petType\" defaultValue={this.props.SearchResult.petType || \"all\"} onChange={this.petTypeChange} required>\r\n                        <option value=\"all\" disabled hidden>Type of Pet</option>\r\n                        <option value='all'>- All pet type -</option>\r\n                        <option value='dog'>Dog</option>\r\n                        <option value='cat'>Cat</option>\r\n                    </select>\r\n                    </div>\r\n                    </div>\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Filter);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './Sorter.css'\r\nimport * as actionTypes from '../../store/actions';\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faAngleDown, faAngleUp, faDollarSign, faStar } from '@fortawesome/free-solid-svg-icons';\r\nlibrary.add(faAngleDown)\r\nlibrary.add(faAngleUp)\r\nlibrary.add(faDollarSign)\r\nlibrary.add(faStar)\r\n\r\n\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        SearchResult: state.search,\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        SortToReducer: (sort) => dispatch({type: actionTypes.SORTRESULT, sort:sort})\r\n    }\r\n};\r\n\r\nclass Sorter extends React.Component{\r\n\r\n    onSort = (sortCriteria) =>{\r\n        console.log(sortCriteria)\r\n        this.props.SortToReducer(sortCriteria)        \r\n    }\r\n    render(){\r\n        //Buttons\r\n\r\n        let nameButton, priceButton, ratingButton;\r\n      \r\n        if (this.props.SearchResult.sortPeference === \"NameAscending\"){\r\n            nameButton = <button className=\"btn sort-button\" style={{color:'#fff',backgroundColor:'#50b5a9'}} onClick={()=>this.onSort('NameDescending')}>Name <FontAwesomeIcon icon=\"angle-up\" style={{marginLeft:'5px'}}/> </button>;\r\n        } else if (this.props.SearchResult.sortPeference === \"NameDescending\") {\r\n            nameButton = <button className=\"btn sort-button\" style={{color:'#fff',backgroundColor:'#50b5a9'}}  onClick={()=>this.onSort('NameAscending')}>Name <FontAwesomeIcon icon=\"angle-down\" style={{marginLeft:'5px'}}/></button>;\r\n        } else {\r\n            nameButton = <button className=\"btn sort-button-grey sort-button\" onClick={()=>this.onSort('NameAscending')}>Name</button>;\r\n        }\r\n        if (this.props.SearchResult.sortPeference === \"PriceAscending\"){\r\n            priceButton = <button className=\"btn sort-button\" style={{color:'#fff',backgroundColor:'#50b5a9'}}  onClick={()=>this.onSort('PriceDescending')}><FontAwesomeIcon icon=\"dollar-sign\" style={{marginRight:'5px'}}/>Price <FontAwesomeIcon icon=\"angle-up\" style={{marginLeft:'5px'}}/></button>;\r\n        } else if (this.props.SearchResult.sortPeference === \"PriceDescending\") {\r\n            priceButton = <button className=\"btn sort-button\" style={{color:'#fff',backgroundColor:'#50b5a9'}}  onClick={()=>this.onSort('PriceAscending')}><FontAwesomeIcon icon=\"dollar-sign\" style={{marginRight:'5px'}}/>Price <FontAwesomeIcon icon=\"angle-down\" style={{marginLeft:'5px'}}/></button>;\r\n        } else {\r\n            priceButton = <button className=\"btn sort-button-grey sort-button\" onClick={()=>this.onSort('PriceAscending')}><FontAwesomeIcon icon=\"dollar-sign\" style={{marginRight:'5px',color:'#50b5a9'}}/>Price</button>;\r\n        }\r\n       \r\n        if (this.props.SearchResult.sortPeference === \"RatingAscending\"){\r\n            ratingButton = <button className=\"btn sort-button\" style={{color:'#fff',backgroundColor:'#50b5a9'}}  onClick={()=>this.onSort('RatingDescending')}><FontAwesomeIcon icon=\"star\" style={{marginRight:'5px'}}/>Rating <FontAwesomeIcon icon=\"angle-up\" style={{marginLeft:'5px'}}/> </button>;\r\n        } else if (this.props.SearchResult.sortPeference === \"RatingDescending\") {\r\n            ratingButton = <button className=\"btn sort-button \" style={{color:'#fff',backgroundColor:'#50b5a9'}}  onClick={()=>this.onSort('RatingAscending')}><FontAwesomeIcon icon=\"star\" style={{marginRight:'5px'}}/>Rating <FontAwesomeIcon icon=\"angle-down\" style={{marginLeft:'5px'}}/></button>;\r\n        } else {\r\n            ratingButton = <button className=\"btn sort-button-grey sort-button\" onClick={()=>this.onSort('RatingDescending')}><FontAwesomeIcon icon=\"star\" style={{marginRight:'5px',color:'#50b5a9'}}/>Rating</button>;\r\n        }\r\n        \r\n        //end of Buttons\r\n\r\n        return (\r\n            <div className=\"sort\">\r\n            {nameButton}\r\n            {priceButton}\r\n            {ratingButton}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Sorter)","import React from 'react';\r\nimport Ratings from 'react-ratings-declarative';\r\n\r\nclass RatingBar extends React.Component{\r\n\r\n    render(){\r\n\r\n        console.log(\r\n            typeof(Number(this.props.rating))\r\n            +\r\n            this.props.rating);\r\n\r\n        return(\r\n            <Ratings\r\n            rating={(Number(this.props.rating))}\r\n            widgetDimensions=\"18px\"\r\n            widgetSpacings=\"2px\"\r\n          >\r\n            <Ratings.Widget widgetRatedColor=\"rgb(252, 184, 40)\" />\r\n            <Ratings.Widget widgetRatedColor=\"rgb(252, 184, 40)\" />\r\n            <Ratings.Widget widgetRatedColor=\"rgb(252, 184, 40)\" />\r\n            <Ratings.Widget widgetRatedColor=\"rgb(252, 184, 40)\" />\r\n            <Ratings.Widget widgetRatedColor=\"rgb(252, 184, 40)\" />\r\n          </Ratings>\r\n        )\r\n    }\r\n}\r\n\r\nexport default  RatingBar;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {withRouter} from \"react-router-dom\";\r\nimport * as actionTypes from '../../store/actions';\r\nimport \"./SearchResult.css\";\r\nimport Filter from \"../Filter/Filter\";\r\nimport Sorter from \"../Sorter/Sorter\";\r\n\r\n\r\nimport convert from 'object-array-converter';\r\nimport RatingBar from \"./RatingBar-non-edit\";\r\n\r\nconst mapStateToProps = state => {\r\n    console.log(state.search.haveSearch)\r\n    return {\r\n        SearchResult: state.search,\r\n        SearchAuthenticate: state.search.haveSearch\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = dispatch =>{\r\n    return {\r\n        changeHotelId:(hotelId) =>dispatch({type:actionTypes.CHANGEHOTELID, hotelId :hotelId})\r\n    }\r\n}\r\n\r\nclass SearchResult extends React.Component {\r\n    \r\n\r\n    \r\n    onClickHotelInfo (e) {\r\n        console.log(Number(e.target.parentElement.id.replace('hotel-result-id-','')));\r\n        const _hotelId = Number(e.target.parentElement.id.replace('hotel-result-id-',''));\r\n        this.props.changeHotelId(_hotelId);\r\n        this.props.history.push('./hotel/');\r\n    }\r\n\r\n    render() {\r\n\r\n        if (!this.props.SearchAuthenticate){\r\n            this.props.history.push('./')\r\n        }\r\n\r\n    \r\n        //convert object to Array\r\n        let searchResultArray = []\r\n        let searchArray = convert.toArray(this.props.SearchResult)\r\n        for (let i = 0; i < searchArray.length; i++) {\r\n            if (searchArray[i].key === \"searchResult\") {\r\n                searchResultArray = convert.toArray(searchArray[i].value)\r\n            }\r\n        }\r\n\r\n        //show min price\r\n        searchResultArray = searchResultArray.map(e => e.value).sort(\r\n            function(a,b){\r\n                if (a.hotelID === b.hotelID){\r\n                    if (a.price < b.price) {\r\n                        return -1;\r\n                      }\r\n                    else if (a.price > b.price) {\r\n                        return 1;\r\n                      }\r\n                    else {return 0}\r\n                } else {\r\n                    return 0}    // sort same hotel only          \r\n            });\r\n        \r\n\r\n        //get only unique hotel\r\n        function getUnique(arr, comp) {\r\n            const unique = arr.map(e => e[comp])\r\n                // store the keys of the unique objects\r\n                .map((e, i, final) => final.indexOf(e) === i && i)\r\n                // eliminate the dead keys & store unique objects\r\n                .filter(e => arr[e]).map(e => arr[e]);\r\n            return unique;\r\n        }\r\n\r\n        let uniqueArray = getUnique(searchResultArray, 'hotelID')\r\n\r\n        //sorting functions\r\n        switch (this.props.SearchResult.sortPeference){\r\n            case \"NameAscending\":\r\n            uniqueArray.sort(function(a, b){\r\n                var nameA = a.name.toUpperCase(); // ignore upper and lowercase\r\n                var nameB = b.name.toUpperCase(); // ignore upper and lowercase\r\n                if (nameA < nameB) {\r\n                    return -1;\r\n                  } else if (nameA > nameB) {\r\n                    return 1;\r\n                  } else {// names must be equal\r\n                    return 0;}\r\n            })\r\n            break;\r\n\r\n            case \"NameDescending\":\r\n            uniqueArray.sort(function(a, b){\r\n                var nameA = a.name.toUpperCase(); // ignore upper and lowercase\r\n                var nameB = b.name.toUpperCase(); // ignore upper and lowercase\r\n                if (nameA > nameB) {\r\n                    return -1;\r\n                  } else if (nameA < nameB) {\r\n                    return 1;\r\n                  } else {// names must be equal\r\n                    return 0;}\r\n            })\r\n            break;\r\n\r\n            case \"PriceDescending\":\r\n            uniqueArray.sort(function(a, b){\r\n                if (a.price > b.price) {\r\n                    return -1;\r\n                  } else if (a.price  < b.price) {\r\n                    return 1;\r\n                  } else {// names must be equal\r\n                    return 0;}\r\n            })\r\n            break;\r\n            \r\n            case \"PriceAscending\":\r\n            uniqueArray.sort(function(a, b){\r\n                if (a.price < b.price) {\r\n                    return -1;\r\n                  } else if (a.price > b.price) {\r\n                    return 1;\r\n                  } else {// names must be equal\r\n                    return 0;}\r\n            })\r\n            break;\r\n\r\n            case \"RatingAscending\":\r\n            uniqueArray.sort(function(a, b){\r\n                if (a.averageRating < b.averageRating) {\r\n                    return -1;\r\n                  } else if (a.averageRating > b.averageRating) {\r\n                    return 1;\r\n                  } else {// names must be equal\r\n                    return 0;}\r\n            })\r\n            break;\r\n\r\n            case \"RatingDescending\":\r\n            uniqueArray.sort(function(a, b){\r\n                console.log(a.averageRating)\r\n                if (a.averageRating > b.averageRating) {\r\n                    return -1;\r\n                  } else if (a.averageRating < b.averageRating) {\r\n                    return 1;\r\n                  } else {// names must be equal\r\n                    return 0;}\r\n            })\r\n            break;\r\n\r\n            default:\r\n            console.log(\"default\")\r\n        }\r\n\r\n        //create list item with unique hotel list and map function\r\n\r\n        let listItems;\r\n\r\n\r\n        if (uniqueArray.length !== 0){\r\n            listItems = (\r\n                uniqueArray.map((e) => {\r\n                    return <div id={`hotel-result-id-${e.hotelID.toString()}`} key={e.hotelID.toString()} className=\"hotel-info-2\"  >\r\n                        <img className=\"hotel-icon-2\" src={e.photo} onClick={(e)=>{this.onClickHotelInfo(e)}} alt=\"NA\" />\r\n                        <div className=\"hotel-detail-2\">\r\n                            <div className=\"hotel-row-2\"> \r\n                                <div className=\"hotel-name-2\">{e.name}</div>\r\n                                <RatingBar rating={e.averageRating}/>\r\n                                </div>\r\n                           \r\n                            <div className=\"hotel-row2-2\">\r\n                                <div className=\"hotel-address-2\">{e.district}</div>\r\n                                <div className=\"hotel-price-2\"> starting ${e.price}</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                })\r\n            ); \r\n        } else {listItems = (\r\n            <h3>No available hotel is found. Refine your search with above filters.</h3>\r\n            )\r\n        }\r\n            \r\n        return (\r\n            <div className=\"result-body\">\r\n                <div className=\"filter-container\">\r\n                    <Filter />  <Sorter />\r\n                </div>\r\n                <div className=\"hotel-container-2\" >\r\n                    {listItems}\r\n                </div>\r\n\r\n                {/* <div className=\"hotel-container-2\">\r\n                    <div className=\"hotel-info-2\"  >\r\n                        <img className=\"hotel-icon-2\" src={\"https://i.imgur.com/img0gF3.jpg\"} alt=\"NA\" />\r\n                        <div className=\"hotel-detail-2\">\r\n                            <div className=\"hotel-row-2\"> \r\n                                <div className=\"hotel-name-2\">DOGGY DOGGY DOGGY DOGGY DOGGY DOGGY</div>\r\n                                <RatingBar rating={4.0}/>\r\n                            </div>\r\n                            <div className=\"hotel-row2-2\">\r\n                                <div className=\"hotel-address-2\">Wan Chai</div>\r\n                                <div className=\"hotel-price-2\"> $888</div>\r\n                            </div>\r\n                           \r\n                        </div>\r\n                    </div>\r\n                </div> */}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(SearchResult));\r\n\r\n","import React from 'react';\r\nimport Ratings from 'react-ratings-declarative';\r\n\r\nclass RatingBarNonEdit extends React.Component{\r\n   \r\n    render(){\r\n\r\n        console.log(\r\n            typeof(Number(this.props.rating))\r\n            +\r\n            this.props.rating);\r\n\r\n        return(\r\n            <Ratings\r\n            rating={(Number(this.props.rating))}\r\n            widgetDimensions=\"20px\"\r\n            widgetSpacings=\"2px\"\r\n          >\r\n            <Ratings.Widget widgetRatedColor=\"rgb(252, 184, 40)\" />\r\n            <Ratings.Widget widgetRatedColor=\"rgb(252, 184, 40)\" />\r\n            <Ratings.Widget widgetRatedColor=\"rgb(252, 184, 40)\" />\r\n            <Ratings.Widget widgetRatedColor=\"rgb(252, 184, 40)\" />\r\n            <Ratings.Widget widgetRatedColor=\"rgb(252, 184, 40)\" />\r\n          </Ratings>\r\n        )\r\n    }\r\n}\r\n\r\nexport default  RatingBarNonEdit;\r\n","import React from 'react';\r\nimport SlideShow from 'react-image-show';\r\n \r\nclass ImageShow extends React.Component {\r\n  render() {\r\n    return (\r\n      <SlideShow\r\n        images={this.props.urlArray}\r\n        width=\"80vh\"\r\n        imagesWidth=\"70vh\"\r\n        imagesHeight=\"50vh\"\r\n        imagesHeightMobile=\"80vw\"\r\n        thumbnailsWidth=\"70vh\"\r\n        thumbnailsHeight=\"12vw\"\r\n        indicators thumbnails fixedImagesHeight\r\n      />\r\n    );\r\n  }\r\n \r\n}\r\n\r\nexport default ImageShow;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { choose_hotel_to_book } from '../../store/actions';\nimport axios from 'axios';\nimport GoogleMap from \"../GoogleMap/GoogleMap\";\nimport RatingBarNonEdit from \"./RatingBar-non-edit\";\nimport * as actionTypes from '../../store/actions';\n\n//daterangepicker\nimport DateRangePicker from 'react-bootstrap-daterangepicker';\nimport 'bootstrap-daterangepicker/daterangepicker.css';\nimport moment from 'moment'\n\n// import Slideshow from \"../Slideshow/Slideshow\";\nimport ImageShow from \"../ImageShow/ImageShow\";\nimport \"./Hotel.css\"\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faComments,faPhoneSquare } from '@fortawesome/free-solid-svg-icons';\nlibrary.add(faComments);\nlibrary.add(faPhoneSquare);\n\n\nconst mapStateToProps = state => {\n    return {\n        SearchResult: state.search,\n        HotelID : state.hotelId,\n    }\n};\n\nconst mapDispatchtoProps = dispatch => {\n    return {\n        chooseHotel: (data) => { dispatch(choose_hotel_to_book(data)) },\n        onSearch: (history) => dispatch({ type: actionTypes.SEARCHHOTEL, history: history }),\n        afterSearch: (result) => dispatch({ type: actionTypes.SEARCHRESULT, result: result })\n    }\n};\n\nclass Hotel extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            hotelID: this.props.HotelID.hotelId ,\n            hotelName: 'Fake Hotel & Spa',\n            hotelIcon: '',\n            hotelAddress: \"1 Downing Street, London\",\n            hotelAverageRating: 1.0,\n            hotelDescription: \"I am Descripiton\",\n            hotelEmail:\"dafdw!@email.com\",\n            hotelPhone:\"2180000\",\n            hotelLatitude: 22.320188,\n            hotelLongitude:114.175812,\n            roomTypeArr: [],\n            roomTypeID: 0,\n            roomType: '',\n            roomPrice: 100,\n            reviewArr:[],\n            gallery: [],\n            vaccineRequirement: { vaccine: ['DHPPiL', 'Rabies'] },\n            startDate: \"DD-MM-YYYY\",\n            endDate:\"DD-MM-YYYY\",\n        }\n\n        if(this.state.hotelID === 0){\n            this.props.history.push('/')\n        }\n\n        if(!this.props.SearchResult.searchResult){ \n            this.onLoadDateChange(); \n        }\n        \n    };\n    onLoadDateChange = async() =>{\n        this.props.SearchResult.startDate = moment(new Date( )).format(\"YYYY-MM-DD\")\n        this.props.SearchResult.endDate = moment(new Date( )).format(\"YYYY-MM-DD\")\n        this.props.onSearch(this.props.SearchResult);\n\n        await this.setState({ \n            startDate : moment(new Date( )).format(\"YYYY-MM-DD\"),\n            endDate: moment(new Date( )).format(\"YYYY-MM-DD\")\n        })\n\n        axios.post(`https://petvago.site/api/search/`,\n            {\n                startDate: this.props.SearchResult.startDate,\n                endDate: this.props.SearchResult.endDate,\n                district: this.props.SearchResult.district || \"all\",\n                petType: this.props.SearchResult.petType || \"all\",\n            })\n            .then(response => {\n                if (response === null) {\n                } else {\n                    this.props.afterSearch(response.data)\n                }\n            })\n            .catch(error => {\n                console.log(error)\n            })\n\n    }\n\n    dateChange = async (e, picker) => {\n        e.preventDefault();\n        this.props.SearchResult.startDate = moment(new Date(picker.startDate._d)).format(\"YYYY-MM-DD\")\n        this.props.SearchResult.endDate = moment(new Date(picker.endDate._d)).format(\"YYYY-MM-DD\")\n        this.props.onSearch(this.props.SearchResult);\n\n        await this.setState({ \n            startDate : moment(new Date(picker.startDate._d)).format(\"YYYY-MM-DD\"),\n            endDate: moment(new Date(picker.endDate._d)).format(\"YYYY-MM-DD\")\n        })\n\n        axios.post(`https://petvago.site/api/search/`,\n            {\n                startDate: this.props.SearchResult.startDate,\n                endDate: this.props.SearchResult.endDate,\n                district: this.props.SearchResult.district || \"all\",\n                petType: this.props.SearchResult.petType || \"all\",\n            })\n            .then(response => {\n                if (response === null) {\n                    console.log('you are living failure')\n                } else {\n                    console.log(response.data)\n                    this.props.afterSearch(response.data)\n                }\n            })\n            .catch(error => {\n                console.log(error)\n            })\n    }\n\n    async componentDidMount() {\n        \n        try{\n            const _hotelInfoArrayData = await axios.get(`https://petvago.site/api/hotel/`+ this.state.hotelID);\n            const _hotelReviewArrayData = await axios.get(`https://petvago.site/api/review/hotel/`+this.state.hotelID);\n            const _hotelInfo = _hotelInfoArrayData.data[0];\n                console.log(_hotelInfo);\n            const _hotelReviewArray = _hotelReviewArrayData.data;\n                \n            const _gallaryArr = _hotelInfo.hotelPhoto.map((e) => e.path);\n            const _fillterGallaryArr = _gallaryArr.filter(e => !!e);\n\n\n            for (let i = 0; i < _hotelInfo.roomType.length; i++) {\n                if (typeof (_hotelInfo.roomType[i].photo.length) === \"undefined\") {\n                    if (_hotelInfo.roomType[i].photo.icon === true) {\n                        _hotelInfo.roomType[i].icon = _hotelInfo.roomType[i].photo.path\n                    }\n                } else {\n                    for (let j = 0; j < _hotelInfo.roomType[i].photo.length; j++) {\n                        if (_hotelInfo.roomType[i].photo[j].icon === true) {\n                            _hotelInfo.roomType[i].icon = _hotelInfo.roomType[i].photo[j].path\n                        }\n                    }\n                }\n            }   \n            await this.setState({\n                hotelID: _hotelInfo.id,\n                hotelName: _hotelInfo.name,\n                hotelIcon: _fillterGallaryArr[0],\n                // hotelIcon: _tempGallaryArr[0],\n\n                hotelAddress: _hotelInfo.address,\n                hotelAverageRating: _hotelInfo.averageRating,\n                hotelDescription: _hotelInfo.hotelDescription,\n                hotelEmail: _hotelInfo.email,\n                hotelPhone: _hotelInfo.telephone,\n                hotelLatitude: _hotelInfo.latitude,\n                hotelLongitude:_hotelInfo.longitude,\n                roomTypeArr:_hotelInfo.roomType,\n                reviewArr: _hotelReviewArray,\n                gallery: _fillterGallaryArr,\n                // gallery: _tempGallaryArr,\n\n                vaccineRequirement: _hotelInfo.vaccineRequirement,\n                startDate: this.props.SearchResult.startDate,\n                endDate: this.props.SearchResult.endDate,\n             });\n\n             window.scrollTo(0, 0)\n        } catch(err){\n            console.log(err);\n        }\n    };\n\n    handleBookingRoomType = async(e) =>{\n        \n        const _roomTypeId = Number(e.currentTarget.parentElement.id.replace('roomType-id-',''));\n        const _roomType = (e.currentTarget.parentElement.children[1].id.replace('roomType-',''));\n        const _roomPrice = (e.currentTarget.parentElement.children[3].id.replace('roomType-price-',''));\n        await this.setState({\n            roomTypeID: _roomTypeId,\n            roomType: _roomType,\n            roomPrice: _roomPrice,\n        });\n        let data = {\n            hotelID: this.state.hotelID,\n            roomTypeID: this.state.roomTypeID,\n            startDate: this.state.startDate,\n            endDate: this.state.endDate,\n        }\n        let hotelID = this.state.hotelID;\n        let hotelName = this.state.hotelName;\n        let hotelIcon = this.state.hotelIcon;\n        let roomTypeID = this.state.roomTypeID;\n        let roomType = this.state.roomType;\n        let roomPrice = this.state.roomPrice;\n        let vaccineRequirement = this.state.vaccineRequirement;\n        let history = this.props.history\n\n        const jwt = localStorage.getItem('petvago-token');\n        if (!jwt) {\n            this.props.history.push('/login')\n        }\n\n        axios.post(`https://petvago.site/api/booking/create-booking`, data, { headers: { Authorization: `Bearer ${jwt}` } }).then((result) => {\n            let payload = {\n                bookingStartDate: data.startDate,\n                bookingEndDate: data.endDate,\n                hotelID,\n                expiryTime: result.data.expiryTime,\n                bookingID: result.data.bookingID,\n                hotelName,\n                hotelIcon,\n                roomTypeID,\n                roomType,\n                roomPrice,\n                vaccineRequirement\n            }\n            this.props.chooseHotel(payload)\n\n        }).then(() => {\n            history.push('/booking')\n        })\n        .catch(err => console.log(err))\n\n    };\n\n    contactHotel=(hotelID)=>{\n        let history = this.props.history;\n        const jwt = localStorage.getItem('petvago-token');\n        if (!jwt) {\n            alert('please login before you contact hotel');\n        } else {\n            let user = JSON.parse(window.atob(localStorage.getItem('petvago-token').split('.')[1]));\n            console.log(user);\n            if (user.isHotel) {\n                alert('only customers are able to contact hotel');\n            } else {\n                axios.post(`https://petvago.site/api/chatroom/addchat`, { hotelID }, { headers: { Authorization: `Bearer ${jwt}` } })\n                    .then((result) => {\n                        console.log('contact', result.data.conversationID)\n                        history.push({ pathname: '/chatroom', state: { conversationID: result.data.conversationID } })\n                    }).catch((err) => console.log(err))\n            }\n        }\n    }\n\n    render() {\n\n        let today = new Date().toISOString().split('T')[0];\n        \n        //find 12 weeks later\n        let threeMonthLater = new Date();\n        threeMonthLater.setDate(threeMonthLater.getDate()+84);\n        threeMonthLater = threeMonthLater.toISOString().split('T')[0];\n       \n        const vaccineListItem = this.state.vaccineRequirement.vaccine.map((e,index) =>\n            <li key={index} className=\"hotel-vaccine-list-3\"> {e} </li>\n        );\n        const roomTypeListItem = this.state.roomTypeArr.map((e) => {\n            let searchResultArr = this.props.SearchResult.searchResult;\n         \n            let _bookingButton = <button>NULL</button>;\n            if (searchResultArr){\n                const _filterSearchArr = searchResultArr.map(e => e.roomTypeID);\n                \n                if(_filterSearchArr.indexOf(e.roomTypeID) > -1  ){\n                    \n                    _bookingButton = <button className=\"btn btn-outline-info hotel-room-data-card-booking\" onClick={this.handleBookingRoomType}>Book</button>\n                } else {\n                    _bookingButton = <button className=\"btn btn-danger hotel-room-data-card-booking disabled\"> Full </button>\n                }\n    \n            }\n\n            \n            return (\n                <div key={e.roomTypeID} id={`roomType-id-${e.roomTypeID}`} className=\"hotel-room-data-card\">\n                    {/* once photo uploaded to firebase, change the source of icon */}\n                    {/* <img className=\"hotel-room-data-card-icon\" src={`.${e.icon}`} alt=\"NA\" /> */}\n                    <img className=\"hotel-room-data-card-icon\" src={e.icon} alt=\"NA\" />\n                    <div id={`roomType-${e.roomType}`} className=\"hotel-room-data-card-type\">{e.roomType}</div>\n                    <div className=\"hotel-room-data-card-description\">{e.description}</div>\n                    {/* <div className='hotel-room-data-card-left'> */}\n                        <div id={`roomType-price-${e.price}`} className=\"hotel-room-data-card-price\">\n                            ${e.price}\n                        </div>\n                        {_bookingButton}\n                    {/* </div> */}\n                </div>\n            )\n        });\n\n        const reviewListItem = this.state.reviewArr.map(e =>\n            <div key={e.bookingID} className=\"hotel-review-box card\">\n                <p className=\"hotel-review-user-name\"> {e.username} </p>\n                <RatingBarNonEdit rating={e.rating}/>\n                <div className=\"hotel-review-text\">\n                    {e.comment}\n                </div>\n            </div>\n        )\n\n        const hotelBody = ( \n                <div className=\"hotel-body\">\n                    {this.state.chosenHotel}\n                    <div className=\"hotel-row-3\">\n                        <div className=\"hotel-row-3-a card\">\n                            <div className=\"hotel-name-3\">{this.state.hotelName}</div>\n                            <div className=\"hotel-rate-3\">\n                                <RatingBarNonEdit rating={this.state.hotelAverageRating} />\n                            </div>\n                           \n                            <div> \n                                <button onClick={()=>this.contactHotel(this.state.hotelID)} type=\"button\" className=\"btn mybooking-button\" data-dismiss=\"modal\"><FontAwesomeIcon icon=\"comments\" style={{marginRight:'10px', color:'#fff'}} />Contact Hotel</button> \n                            </div>\n                            <div className=\"hotel-telephone-3\">\n                                < FontAwesomeIcon icon=\"phone-square\"/>\n                                {this.state.hotelPhone}\n                            </div>\n                            <p className=\"hotel-address-3\">{this.state.hotelAddress}</p>\n                            <div className=\"hotel-map-container\">\n                                <GoogleMap\n                                    markerArray={[\n                                        {\n                                            coords: { lat: this.state.hotelLatitude, lng: this.state.hotelLongitude },\n                                            content: '<h1>Dogotel & Spa</h1>'\n                                        }\n                                    ]}\n                                    zoom={17} height={'30vh'} width={'45vh'}\n                                />\n                            </div>\n                        </div>\n                        <div className=\"hotel-row-3-b\">\n                            <div className=\"hotel-photo-3\" >\n                                < ImageShow urlArray={this.state.gallery} />\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"hotel-description-3 card\">{this.state.hotelDescription}</div>\n\n                    <div className=\"hotel-room-type-3\">\n                        <p className=\"align-left room-type-title\"> Room type</p>\n                        <DateRangePicker\n                            minDate={moment(new Date(today))}\n                            maxDate={moment(new Date(threeMonthLater))}\n                            startDate={moment(new Date(this.props.SearchResult.startDate || today))}\n                            endDate={moment(new Date(this.props.SearchResult.endDate || today))}\n                            onApply={this.dateChange}\n                            props={this.props}>\n                            <button className=\"searchDate btn btn-outline-secondary\">From {this.props.SearchResult.startDate || today} to {this.props.SearchResult.endDate || today} </button>\n                            </DateRangePicker>\n                        <div className=\"hotel-room-data-card-container\">\n                            {roomTypeListItem}\n                        </div>\n                    </div>\n\n                    <div className=\"hotel-vaccine-3\">\n                        <p className=\"align-left\"> Vaccine Requirement</p>\n                        <ul className=\"hotel-vaccine-list-3\">{vaccineListItem}</ul>\n                    </div>\n\n                    <div className=\"hotel-review-3\">\n                        <p className=\"align-left\"> Review</p>\n                        <div className=\"hotel-review-panel-3\">\n                            {reviewListItem}\n                        </div>\n                    </div>\n                    \n                </div>\n        )\n\n        return (\n            <div className=\"hotel-upper-body\" id='hotelPage'>\n                <div className='hotel-border'>\n                    {hotelBody}\n                </div>  \n            </div>\n        )\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchtoProps)(withRouter(Hotel));","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\n\n\nclass NoMatch extends Component {\n   constructor(props){\n       super(props);\n       this.state={ }\n   }\n\n   home=()=>{\n      this.props.history.push('/')\n   }\n\n   render(){\n      return(\n         <div style={{display:'flex',flexDirection:'column',alignItems:'center',marginTop:'20vh', fontFamily:\"Sarabun\"}}>\n         <h2 style={{fontSize:'30px'}}>Seems like this page does not exist!</h2>\n         <img style={{borderRadius:\"50%\", marginTop:'30px'}} src=\"./image/testamonial1.jpg\" alt=\"dog\"/>\n         <button className=\"booking-button\" style={{width:'200px'}} onClick={this.home}>Go to homepage</button>\n      </div>\n\n      )\n   }\n   \n};\n\n export default withRouter(NoMatch);","import React from 'react';\r\nimport './OrderModal.css';\r\n// import OrderDetailModal from './OrderDetailModal';\r\n\r\n// Setting up Fontawesome\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSortDown } from '@fortawesome/free-solid-svg-icons'\r\nlibrary.add(faSortDown)\r\n\r\nclass OrderModal extends React.Component {\r\n\r\n    convertYMD(dateObj) {\r\n        let mm = dateObj.getMonth() + 1;\r\n        let dd = dateObj.getDate();\r\n        return [dateObj.getFullYear(), (mm > 9 ? '' : '0') + mm, (dd > 9 ? '' : '0') + dd].join('-')\r\n    }\r\n\r\n    render () {\r\n        let orderList = this.props.orderBookingContent.map((e) => {\r\n            let detailStyle = {\r\n                display: e.display\r\n            }\r\n\r\n            let service = Object.keys(e.service).map((eServiceKey) => {\r\n                return (\r\n                    <li>{eServiceKey}: {e.service[eServiceKey]}</li>\r\n                )\r\n            })\r\n\r\n            let vaccineRequirement = null\r\n            if (e.vaccineRequirement !== null) {\r\n                vaccineRequirement = e.vaccineRequirement.vaccine.map((eVac) => {\r\n                    return (\r\n                        <li>{eVac}</li>\r\n                    )\r\n                });\r\n            }\r\n\r\n            let vaccineRequirementJSX = null\r\n            if (vaccineRequirement !== null) {\r\n                vaccineRequirementJSX = (\r\n                    <div>\r\n                        <br/>\r\n                        <h3>Vaccine Requirement:</h3>\r\n                        <ul>\r\n                            {vaccineRequirement}\r\n                        </ul>\r\n                    </div>\r\n                )\r\n            }\r\n\r\n            let totalPriceJSX = null\r\n            if (e.totalPrice !== null) {\r\n                totalPriceJSX = (\r\n                    <div>\r\n                        <h3>Total Price:</h3>\r\n                        {e.totalPrice}<br/>\r\n                        <br/>\r\n                    </div>\r\n                )\r\n            }\r\n\r\n            let petJSX = null\r\n            if (e.petName !== null) {\r\n                petJSX = (\r\n                    <div>\r\n                        <h3>Pet:</h3>\r\n                        Pet Name:   {e.petName}<br/>\r\n                        Pet Type:   {e.petType}<br/>\r\n                        Pet Weight: {e.petWeight}<br/>\r\n                        <br/>\r\n                    </div>\r\n                )\r\n            }\r\n\r\n            let serviceJSX = null\r\n            if (e.service.reference === undefined) {\r\n                serviceJSX = (\r\n                    <div>\r\n                        <h3>Service:</h3>\r\n                        <ul>\r\n                            {service}\r\n                        </ul>\r\n                    </div>\r\n                )\r\n            } else {\r\n                serviceJSX = (\r\n                    <div>\r\n                        <h3>Reference:</h3>\r\n                        <ul>\r\n                            {e.service.reference}\r\n                        </ul>\r\n                    </div>\r\n                )\r\n            }\r\n\r\n            return (\r\n                <tbody key={e.id} id={`Order-${e.id}`}>\r\n                    <tr>\r\n                        <td>{e.id}</td>\r\n                        <td>{e.ownerName}</td>\r\n                        <td>{e.ownerPhone}</td>\r\n                        <td>{e.status === 'outside' ? 'offline' : e.status}</td>\r\n                        <td><FontAwesomeIcon icon=\"sort-down\" onClick={this.props.openOrder} /></td>\r\n                    </tr>\r\n                    <tr style={detailStyle}>\r\n                        <td colSpan={5}>\r\n                            <h1>Detail:</h1>\r\n                            <br/>\r\n                            <p>\r\n                                <h3>Booking Date:</h3>\r\n                                Start Date: {this.convertYMD(new Date(e.startDate))}<br/>\r\n                                End Date:   {this.convertYMD(new Date(e.endDate))}<br/>\r\n                                Duration:   {e.duration} days<br/>\r\n                                <br/>\r\n                                {totalPriceJSX}\r\n                                {petJSX}\r\n                                {serviceJSX}\r\n                                {vaccineRequirementJSX}\r\n                            </p>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            )\r\n        })\r\n\r\n        return (   \r\n            <div className=\"modal fade\" id=\"OrderModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"OrderModalLabel\" aria-hidden=\"true\">\r\n            <div className=\"modal-dialog\" role=\"document\">\r\n                <div className=\"modal-content\">\r\n                <div className=\"modal-header\">\r\n                    <h5 className=\"modal-title\" id=\"OrderModalLabel\">List of Order</h5>\r\n                    <h6>Room Type:   {this.props.orderRoomType}</h6>\r\n                    <h6>Search Date: {this.props.orderRoomDate}</h6>\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n                <div className='order-list'>\r\n                    <table className='table'>\r\n                        <thead>\r\n                            <th>Order ID</th>\r\n                            <th>Owner Name</th>\r\n                            <th>Owner Tel</th>\r\n                            <th>Booking Type</th>\r\n                            <th>Detail</th>\r\n                        </thead>\r\n                        {orderList}\r\n                    </table>\r\n                </div>\r\n                </div>\r\n            </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default OrderModal;","import React from 'react';\r\nimport './HostManagement.css'\r\nimport axios from 'axios';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport OrderModal from './OrderModal'\r\n\r\n//daterangepicker\r\nimport DateRangePicker from 'react-bootstrap-daterangepicker';\r\nimport 'bootstrap-daterangepicker/daterangepicker.css';\r\nimport moment from 'moment'\r\n\r\nclass HostManagement extends React.Component {\r\n\r\n    addDay(dateObj, noOfDay = 1) {\r\n        return new Date(dateObj.setTime(dateObj.getTime() + noOfDay * 86400000))\r\n    }\r\n\r\n    convertYMD(dateObj) {\r\n        let mm = dateObj.getMonth() + 1;\r\n        let dd = dateObj.getDate();\r\n        return [dateObj.getFullYear(), (mm > 9 ? '' : '0') + mm, (dd > 9 ? '' : '0') + dd].join('-')\r\n    }\r\n\r\n    convertYMDFromDM(DMObj) {\r\n        let mm = DMObj.split('/')[1]\r\n        let dd = DMObj.split('/')[0]\r\n        return [new Date().getFullYear(), (mm > 9 ? '' : '0') + mm, (dd > 9 ? '' : '0') + dd].join('-')\r\n    }\r\n\r\n    findLastDOW(dateObj) {\r\n        while (dateObj.getDay() < 6) {\r\n            dateObj = this.addDay(dateObj)\r\n        }\r\n        return dateObj;\r\n    }\r\n\r\n    findfirstDOW(dateObj) {\r\n        while (dateObj.getDay() > 0) {\r\n            dateObj = this.addDay(dateObj, -1)\r\n        }\r\n        return dateObj;\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.mm = new Date().getMonth() + 1;\r\n        this.dd = new Date().getDate();\r\n        this.state = {\r\n            // startDOW: '2019-02-03',\r\n            hotelName: '',\r\n            minDate: this.convertYMD(this.addDay(new Date(), -1)),\r\n            startDOW: this.convertYMD(this.findfirstDOW(new Date())),\r\n            startDate: this.convertYMD(new Date()),\r\n            endDate: this.convertYMD(this.findLastDOW(new Date())),\r\n            booking: [],\r\n            isDataReceived: false,\r\n            bookingStartDate: this.convertYMD(new Date()),\r\n            bookingEndDate: this.convertYMD(new Date()),\r\n            bookingRoomType: '',\r\n            bookingReference: '',\r\n            isUpdateSuccessful: false,\r\n            orderBookingContent: [],\r\n            orderRoomType: '',\r\n            orderRoomDate: '',\r\n        }\r\n        this.rooms = null;\r\n        this.options = null;\r\n        this.updateSuccess = null;\r\n        this.jwt = localStorage.getItem('petvago-token');\r\n    }\r\n\r\n    convertDM(dateObj) {\r\n        let mm = dateObj.getMonth() + 1;\r\n        let dd = dateObj.getDate();\r\n        return [dd, mm].join('/')\r\n    }\r\n\r\n    handleDateChange = async (e, picker) => {\r\n        e.preventDefault();\r\n        let newStartDate = this.findfirstDOW(new Date(picker.startDate._d)) > new Date() ? this.findfirstDOW(new Date(picker.startDate._d)) : new Date()\r\n        await this.setState({\r\n            startDOW: this.convertYMD(this.findfirstDOW(new Date(picker.startDate._d))),\r\n            startDate: this.convertYMD(newStartDate),\r\n            endDate: this.convertYMD(this.findLastDOW(new Date(picker.startDate._d))),\r\n        })\r\n        this.searchBookingRecord(this.state.startDate, this.state.endDate);\r\n    }\r\n\r\n    handleBookingDateChange = (e, picker) => {\r\n        e.preventDefault();\r\n        this.setState({\r\n            bookingStartDate: this.convertYMD(new Date(picker.startDate._d)),\r\n            bookingEndDate: this.convertYMD(new Date(picker.endDate._d)),\r\n        })\r\n    }\r\n\r\n    handleInputChange = (e) => {\r\n        const value = e.target.type === 'checkbox' ? e.target.checked : e.target.value;\r\n        this.setState({\r\n            [e.target.name]: value\r\n        });\r\n    }\r\n\r\n    handleRoomType = (e) => {\r\n        this.setState({ bookingRoomType: e.target.value })\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        let newRoomTypeID = this.state.booking.find((e) => {\r\n            return e.roomType === this.state.bookingRoomType\r\n        }).roomTypeID\r\n\r\n        axios.post(\r\n            `https://petvago.site/api/booking/offline-booking`,\r\n            {\r\n                startDate: new Date(this.state.bookingStartDate),\r\n                endDate: new Date(this.state.bookingEndDate),\r\n                roomTypeID: newRoomTypeID,\r\n                service: { reference: this.state.bookingReference },\r\n            },\r\n            { headers: { Authorization: `Bearer ${this.jwt}` } }\r\n        ).then(async (res) => {\r\n            this.setState({ isUpdateSuccessful: true, bookingReference: '' });\r\n            setTimeout(function () {\r\n                this.setState({ isUpdateSuccessful: false });\r\n            }.bind(this), 2000)\r\n            this.searchBookingRecord(this.state.startDate, this.state.endDate)\r\n        }).catch(error => {\r\n            console.log(error);\r\n        })\r\n    }\r\n\r\n    handleAccidentalSubmit = (e) => {\r\n        e.preventDefault();\r\n    }\r\n\r\n    handleReset = (e) => {\r\n        this.setState({\r\n            bookingStartDate: this.convertYMD(new Date()),\r\n            bookingEndDate: this.convertYMD(new Date()),\r\n            bookingRoomType: '',\r\n            bookingReference: '',\r\n        })\r\n    }\r\n\r\n    searchBookingRecord(startDate, endDate) {\r\n        return new Promise((resolve, reject) => {\r\n            axios.put(\r\n                `https://petvago.site/api/booking/hotel-with-date`,\r\n                {\r\n                    startDate: startDate,\r\n                    endDate: endDate,\r\n                },\r\n                { headers: { Authorization: `Bearer ${this.jwt}` } }\r\n            ).then(async (res) => {\r\n                let newResData = res.data.sort((a, b) => {\r\n                    if (a.roomType < b.roomType) { return -1; }\r\n                    if (a.roomType > b.roomType) { return 1; }\r\n                    return 0;\r\n                })\r\n                await this.setState({ booking: newResData, isDataReceived: true });\r\n                resolve();\r\n            }).catch(error => {\r\n                console.log(error);\r\n                reject(error);\r\n            })\r\n        })\r\n    }\r\n\r\n    handleEditDetail = () => {\r\n        this.props.history.push('/edit-hotel-info');\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.searchBookingRecord(this.state.startDate, this.state.endDate)\r\n        await this.setState({ bookingRoomType: this.state.booking[0].roomType })\r\n        await axios.get(`https://petvago.site/api/hotel/edit/info`, { headers: { Authorization: `Bearer ${this.jwt}` } }).then(async (res) => {\r\n            await this.setState({ hotelName: res.data[0].name })\r\n        })\r\n        window.scrollTo(0, 0)\r\n    }\r\n\r\n    handleChartClick = (elems) => {\r\n        if (elems[0]._chart !== undefined) {\r\n            axios.put(`https://petvago.site/api/booking/hotel-by-day`,\r\n                {\r\n                    roomTypeID: elems[0]._chart.titleBlock.options.text.replace('roomType-',''),\r\n                    date: this.convertYMDFromDM(elems[0]._model.label),\r\n                }, \r\n                { headers: { Authorization: `Bearer ${this.jwt}` } })\r\n                .then((res) => {\r\n                    let textOrderRoomType = this.state.booking.find(e =>  {\r\n                        return e.roomTypeID.toString() === elems[0]._chart.titleBlock.options.text.replace('roomType-','')\r\n                    }).roomType\r\n                    if (textOrderRoomType === undefined) {\r\n                        textOrderRoomType = '';\r\n                    }\r\n                    let newData = res.data.map((e) => {\r\n                        return {\r\n                            ...e,\r\n                            display: 'none',\r\n                        }\r\n                    })\r\n                    this.setState({\r\n                        orderBookingContent: newData,\r\n                        orderRoomDate: elems[0]._model.label,\r\n                        orderRoomType: textOrderRoomType,\r\n                    })\r\n                }).catch((err) => {\r\n                    console.log(`error: `,err);\r\n                })\r\n        }\r\n    }\r\n\r\n    openOrder = (e) => {\r\n        let targetID = e.currentTarget.parentElement.parentElement.parentElement.id.replace('Order-','');\r\n        let newOrderBookingContent = this.state.orderBookingContent;\r\n        let newBooking = newOrderBookingContent.find((e) => {\r\n            return e.id.toString() === targetID;\r\n        });\r\n        let newBookingIndex = newOrderBookingContent.findIndex((e) => {\r\n            return e.id.toString() === targetID;\r\n        })\r\n        if (newBooking.display === 'none') {\r\n            newBooking.display = '';\r\n        } else {\r\n            newBooking.display = 'none';\r\n        }\r\n        newOrderBookingContent[newBookingIndex] = newBooking\r\n        this.setState({ orderBookingContent: newOrderBookingContent})\r\n    }\r\n\r\n    render() {\r\n        if (this.state.isDataReceived) {\r\n            this.rooms = this.state.booking.map((e) => {\r\n                let dowArr = [];\r\n                for (let i = 0; i < 7; i++) {\r\n                    dowArr.push(this.convertDM(this.addDay(new Date(this.state.startDOW), i)))\r\n                }\r\n\r\n                let chartOptions = {\r\n                    tooltips: {\r\n                        mode: 'index',\r\n                        intersect: false\r\n                    },\r\n                    responsive: true,\r\n                    scales: {\r\n                        yAxes: [{\r\n                            stacked: true\r\n                        }],\r\n                        xAxes: [{\r\n                            stacked: true\r\n                        }]\r\n                    },\r\n                    title: {\r\n                        text: `roomType-${e.roomTypeID}`\r\n                    }\r\n                }\r\n\r\n                let availableArr = [];\r\n                let confirmedArr = [];\r\n                let outsideArr = [];\r\n                let pastArr = [];\r\n\r\n                for (let i in dowArr) {\r\n                    let targetDate = e.dateArr.find((eDate) => {\r\n                        return this.convertDM(new Date(eDate.date)) === this.convertDM(new Date([dowArr[i].split('/')[1], dowArr[i].split('/')[0]].join('/')))\r\n                    })\r\n\r\n                    if (targetDate === undefined) {\r\n                        availableArr.push(0)\r\n                        confirmedArr.push(0)\r\n                        outsideArr.push(0)\r\n                        pastArr.push(e.quantity)\r\n                    } else {\r\n                        availableArr.push(targetDate.availability.available)\r\n                        confirmedArr.push(targetDate.availability.confirmed)\r\n                        outsideArr.push(targetDate.availability.outside)\r\n                        pastArr.push(0)\r\n                    }\r\n                }\r\n\r\n                let chartData = {\r\n                    labels: dowArr,\r\n                    datasets: [{\r\n                        label: 'available',\r\n                        backgroundColor: '#8DCF8A',\r\n                        data: availableArr\r\n                        // 0,3,4,5,8,9,4 // for testing\r\n                    }, {\r\n                        label: 'confirmed',\r\n                        backgroundColor: '#FFB0AA',\r\n                        data: confirmedArr\r\n                        // 0,3,3,1,2,1,5 // for testing\r\n                    }, {\r\n                        label: 'outside',\r\n                        backgroundColor: '#D4996A',\r\n                        data: outsideArr\r\n                        // 0,4,3,4,0,0,1 // for testing\r\n                    }, {\r\n                        label: 'past',\r\n                        backgroundColor: '#777777',\r\n                        data: pastArr\r\n                        // 10,0,0,0,0,0,0 // for testing\r\n                    }]\r\n                }\r\n\r\n                return (\r\n                    <tr key={e.roomTypeID}>\r\n                        <td>{e.roomType}</td>\r\n                        <td colSpan={7} data-toggle=\"modal\" data-target=\"#OrderModal\">\r\n                            <Bar\r\n                                data={chartData}\r\n                                options={chartOptions}\r\n                                onElementsClick={elems => this.handleChartClick(elems)}\r\n                                 />\r\n                        </td>\r\n                    </tr>\r\n                )\r\n            })\r\n        }\r\n\r\n        let roomTypeI = 0;\r\n        this.options = this.state.booking.map((booking) => {\r\n            roomTypeI++;\r\n            return <option key={roomTypeI}>{booking.roomType}</option>\r\n        })\r\n\r\n        if (this.state.isUpdateSuccessful) {\r\n            this.updateSuccess = (\r\n                <h6 className='update-success'>Booking updated successfully</h6>\r\n            )\r\n        } else {\r\n            this.updateSuccess = null;\r\n        }\r\n\r\n        return (\r\n            <div id='HostManagement'>\r\n                <div className='bg-image'></div>\r\n                <section>\r\n                    <h2 className='h2Title'>Hotel Name: <span className='hotel-name'>{this.state.hotelName}</span></h2>\r\n                    <button type=\"button\" className=\"btn btn-outline-secondary edit-detail\" onClick={this.handleEditDetail}>Edit Detail</button>\r\n                    <div className='booking-management'>\r\n                        <DateRangePicker\r\n                            singleDatePicker={true}\r\n                            minDate={moment(new Date(this.state.minDate))}\r\n                            startDate={moment(new Date(this.state.startDOW))}\r\n                            endDate={moment(new Date(this.state.endDate))}\r\n                            onApply={this.handleDateChange}\r\n                        >\r\n                            <button className=\"date-picker btn btn-lg btn-outline-secondary\">From {this.state.startDOW} to {this.state.endDate} </button>\r\n                        </DateRangePicker>\r\n                        <table className='table table-hover table-bordered'>\r\n                            <thead className='thead-dark'>\r\n                                <tr>\r\n                                    <th className=''></th>\r\n                                    <th className='th-dow'>{this.convertDM(new Date(this.state.startDOW))}</th>\r\n                                    <th className='th-dow'>\r\n                                        {this.convertDM(this.addDay(new Date(this.state.startDOW)))}\r\n                                    </th>\r\n                                    <th className='th-dow'>\r\n                                        {this.convertDM(this.addDay(new Date(this.state.startDOW), 2))}\r\n                                    </th>\r\n                                    <th className='th-dow'>\r\n                                        {this.convertDM(this.addDay(new Date(this.state.startDOW), 3))}\r\n                                    </th>\r\n                                    <th className='th-dow'>\r\n                                        {this.convertDM(this.addDay(new Date(this.state.startDOW), 4))}\r\n                                    </th>\r\n                                    <th className='th-dow'>\r\n                                        {this.convertDM(this.addDay(new Date(this.state.startDOW), 5))}\r\n                                    </th>\r\n                                    <th className='th-dow'>\r\n                                        {this.convertDM(this.addDay(new Date(this.state.startDOW), 6))}\r\n                                    </th>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th className=''></th>\r\n                                    <th className='th-dow'>Sun</th>\r\n                                    <th className='th-dow'>Mon</th>\r\n                                    <th className='th-dow'>Tue</th>\r\n                                    <th className='th-dow'>Wed</th>\r\n                                    <th className='th-dow'>Thu</th>\r\n                                    <th className='th-dow'>Fri</th>\r\n                                    <th className='th-dow'>Sat</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {this.rooms}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                    <div id='OfflineBooking'>\r\n                        <h2>Offline Booking:</h2>\r\n                        {this.updateSuccess}\r\n                        <form onSubmit={this.handleAccidentalSubmit}>\r\n                            <table className=\"table\">\r\n                                <tr className='table-light'>\r\n                                    <td><label>Date: </label></td>\r\n                                    <td><DateRangePicker\r\n                                        minDate={moment(new Date(this.state.minDate))}\r\n                                        startDate={moment(new Date(this.state.bookingStartDate))}\r\n                                        endDate={moment(new Date(this.state.bookingEndDate))}\r\n                                        onApply={this.handleBookingDateChange}\r\n                                    >\r\n                                        <button className=\"date-picker btn btn-info\">From {this.state.bookingStartDate} to {this.state.bookingEndDate} </button>\r\n                                    </DateRangePicker></td>\r\n                                </tr>\r\n                                <tr className='table-light'>\r\n                                    <td><label>Room Type: </label></td>\r\n                                    <td><div>\r\n                                        <select className=\"form-control\" id=\"sel1\" onChange={this.handleRoomType}>\r\n                                            {this.options}\r\n                                        </select>\r\n                                    </div></td>\r\n                                </tr>\r\n                                <tr className='table-light'>\r\n                                    <td><label>Reference: </label></td>\r\n                                    <td><textarea type='text' name='bookingReference' value={this.state.bookingReference} onChange={this.handleInputChange} className='inputField'></textarea></td>\r\n                                </tr>\r\n                            </table>\r\n\r\n                            <div class='form-footer'>\r\n                                <input type='submit' value='Submit' className='btn btn-success btn-lg px-5' onClick={this.handleSubmit}></input>\r\n                                <button onClick={this.handleReset} className='btn btn-lg px-5'>Reset</button>\r\n                            </div>\r\n\r\n                        </form>\r\n                    </div>\r\n                </section>\r\n                \r\n\r\n                <OrderModal\r\n                    // editRoomTypeID={this.state.editRoomTypeID}\r\n                    orderBookingContent={this.state.orderBookingContent}\r\n                    orderRoomDate={this.state.orderRoomDate}\r\n                    orderRoomType={this.state.orderRoomType}\r\n                    openOrder={this.openOrder}\r\n                    ></OrderModal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default HostManagement;","import React, { Component } from 'react';\nimport 'reset-css';\nimport './App.css';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Login from './component/Login/Login';\nimport Search from './component/Search/Search';\nimport User from './component/User';\nimport MessageBox from './component/MessageBox/MessageBox';\nimport Chatroom from './component/MessageBox/Chatroom';\nimport AuthenticatedComponent from './component/Login/AuthenticatedComponent'\nimport GoogleMap from './component/GoogleMap/GoogleMap'\nimport Navigationbar from './component/Navbar/Navbar'\nimport Footer from './component/Footer/Footer'\nimport Homepage from './component/Homepage/Homepage'\nimport EditPage from './component/EditPage/EditPage'\nimport Booking from './component/Booking/Booking'\nimport Confirmation from './component/Booking/Confirmation'\nimport MyBooking from './component/Booking/MyBooking'\nimport PhotoUpload from './component/PhotoUpload/PhotoUpload'\nimport SearchResult from './component/SearchResult/SearchResult';\nimport Hotel from './component/Hotel/Hotel'\nimport NoMatch from './component/NoMatch'\nimport HostManagement from './component/HostManagement/HostMangement';\n\n\nconst TestHome = (props) => {\n  return (\n    <div>\n      <h1>You are logged in as {props.username}</h1>\n      <GoogleMap \n        markerArray={[\n          {\n            coords:{lat:22.320188,lng:114.175812},\n            content:'<h1>Dogotel & Spa</h1>'\n          }\n        ]} \n        zoom={13} height={300} width={400}\n      />\n      <img src='https://firebasestorage.googleapis.com/v0/b/petvago-6b2c9.appspot.com/o/lich.png?alt=media&token=cec2bd70-bbf9-4d9b-8ade-0404d537973f' alt='testing lich'></img>\n      <PhotoUpload />\n      \n    </div>\n  )\n}\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n  \n        <Navigationbar />\n        <div className=\"main-body\">\n        <Router>\n          <Switch>\n            <Route exact path='/test_home' component={TestHome} />\n            <Route exact path='/' component={Homepage} />\n            <Route exact path='/search' component={Search} />\n            <Route exact path='/search_result' component={SearchResult}/> \n            {/* <Route exact path='/result' component={Result} /> */}\n            <Route exact path='/login' component={Login} />\n            <Route exact path='/user' component={User} />\n            <Route exact path='/message' component={MessageBox} />\n            <Route exact path='/chatroom' component={Chatroom} />\n            <Route exact path='/edit-hotel-info' component={EditPage} />\n            <Route exact path='/host-management' component={HostManagement} />\n            <Route exact path='/booking' component={Booking} />\n            {/* <Route path='/hotels/:id' component={Hotel} /> */}\n            <Route exact path='/hotel'component={Hotel} />\n            <Route exact path='/confirmation' component={Confirmation} />\n            <Route exact path='/mybooking' component={MyBooking} />\n            <Route component={NoMatch} />\n\n\n\n            <AuthenticatedComponent>\n            </AuthenticatedComponent>\n          </Switch>\n        </Router>\n        <div className=\"push\"></div>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { Provider } from 'react-redux';\nimport { applyMiddleware, createStore, combineReducers } from 'redux';\nimport logger from 'redux-logger'\n\nimport searchReducer from './store/reducers/search';\nimport hotelReducer from './store/reducers/hotel';\nimport hotelIdReducer from './store/reducers/hotelId';\nimport loginReducer from './store/reducers/login';\n\n\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nconst rootReducer = combineReducers({\n    search: searchReducer,\n    hotel:hotelReducer,\n    hotelId:hotelIdReducer,\n    login:loginReducer\n});\n\nconst store = createStore(rootReducer,applyMiddleware(logger));\n\nReactDOM.render(<Provider store={store}><App /></Provider>, document.getElementById('root'));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}
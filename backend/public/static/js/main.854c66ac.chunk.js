(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{142:function(e,t,a){e.exports=a(404)},151:function(e,t,a){},155:function(e,t,a){},176:function(e,t,a){},181:function(e,t,a){},211:function(e,t){},291:function(e,t,a){},293:function(e,t,a){},295:function(e,t,a){},297:function(e,t,a){},299:function(e,t,a){},30:function(e,t,a){e.exports={Login:"Login_Login__23K8l",TextBox:"Login_TextBox__Z-8tQ",Submit:"Login_Submit__2OZlo",loginFailed:"Login_loginFailed__3pYqs",Signup:"Login_Signup__3IGvf",Facebook:"Login_Facebook__2p_PA",Wechat:"Login_Wechat__16xOL"}},304:function(e,t,a){},306:function(e,t,a){},308:function(e,t,a){},310:function(e,t,a){},312:function(e,t,a){},314:function(e,t,a){},316:function(e,t,a){},318:function(e,t,a){},320:function(e,t,a){},322:function(e,t,a){},324:function(e,t,a){},402:function(e,t,a){},404:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(82),l=a.n(r),i=a(17),c=a(39),s=a(133),m=a.n(s),p=a(18),u=a(11),h=a.n(u),d={startDate:h()(new Date).format("YYYY-MM-DD"),endDate:h()(new Date).format("YYYY-MM-DD"),district:"all",petType:"all",sortPeference:"NameAscending",searchResult:"",haveSearch:!1},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCHHOTEL":return console.log("search hotel"),Object(p.a)({},e,{startDate:t.history.startDate,endDate:t.history.endDate,district:t.history.district,petType:t.history.petType,haveSearch:!0});case"CHANGEDATE":return Object(p.a)({},e,{startDate:t.date.startDate,endDate:t.date.endDate});case"CHANGEDISTRICT":return console.log(t),Object(p.a)({},e,{district:t.district.district});case"CHANGEPETTYPE":return Object(p.a)({},e,{petType:t.petType.petType});case"SEARCHRESULT":var a=Object.keys(t.result).map(function(e){return t.result[e]});return Object(p.a)({},e,{searchResult:a,haveSearch:!0});case"SORTRESULT":return Object(p.a)({},e,{sortPeference:t.sort});default:return e}},v={bookingStartDate:"",bookingEndDate:"",hotelChosenForBooking:null,expiryTime:null,bookingID:null,hotelName:null,hotelIcon:null,roomType:null,roomTypeID:null,roomPrice:null,vaccineRequirement:null,ownerName:null,ownerPhone:null,petName:null,petType:null,petWeight:null,service:null,totalPrice:null},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHOOSE_HOTEL_TO_BOOK":return Object(p.a)({},e,{bookingStartDate:t.payload.bookingStartDate,bookingEndDate:t.payload.bookingEndDate,hotelChosenForBooking:t.payload.hotelID,expiryTime:t.payload.expiryTime,bookingID:t.payload.bookingID,hotelName:t.payload.hotelName,hotelIcon:t.payload.hotelIcon,roomType:t.payload.roomType,roomTypeID:t.payload.roomTypeID,roomPrice:t.payload.roomPrice,vaccineRequirement:t.payload.vaccineRequirement});case"REDIRECT_TO_CONFIRMATION":return Object(p.a)({},e,{ownerName:t.payload.ownerName,ownerPhone:t.payload.ownerPhone,petName:t.payload.petName,petType:t.payload.petTyle,petWeight:t.payload.petWeight,service:t.payload.service,totalPrice:t.payload.totalPrice});default:return e}},b={hotelId:0},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGEHOTELID":return console.log("change hotel id"),Object(p.a)({},e,{hotelId:t.hotelId});default:return e}},y={token:null},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return console.log("login11111111",t.payload),Object(p.a)({},e,{token:t.payload});default:return e}},k=(a(151),a(3)),N=a(2),T=a(5),w=a(4),S=a(6),x=(a(153),a(155),a(406)),R=a(408),C=a(405),I=a(25),O=a(30),j=a.n(O),P=a(8),M=a.n(P),B=a(407),A=a(134),L=a.n(A),Y=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(T.a)(this,Object(w.a)(t).call(this,e))).facebookClicked=function(){a.setState({isClicked:!0})},a.responseFacebook=function(e){a.state.isClicked&&M.a.post("https://petvago.site/auth/facebook",{name:e.name,password:e.name,email:e.email}).then(function(e){null===e.data?console.log("Login failed"):e.data.token?(console.log("Login succeeded, setting token"),console.log("Setting tokent to localstorage: ".concat("petvago-token")),console.log("Token: ".concat(e.data.token)),localStorage.setItem("petvago-token",e.data.token),a.props.redirectToIndex()):console.log("Login failed")}).catch(function(e){void 0===e.response?console.log(e):void 0===e.response.status?console.log("Login failed"):401===e.response.status&&console.log("Login failed")})},a.state={isLoggedIn:!1,isClicked:!1},a}return Object(S.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e;return e=this.state.isLoggedIn?null:o.a.createElement(L.a,{appId:"587084911716233",autoLoad:!1,fields:"name,email,picture",onClick:this.facebookClicked,callback:this.responseFacebook,cssClass:"facebook-login btn"}),o.a.createElement("div",null,e)}}]),t}(o.a.Component),W=a(135),H=a.n(W),F=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(T.a)(this,Object(w.a)(t).call(this,e))).responseInstagram=function(e){console.log(e),M.a.post("https://petvago.site/auth/instagram",{accessToken:e}).then(function(e){null===e.data?console.log("Login failed"):e.data.token?(console.log("Login succeeded, setting token"),console.log("Setting tokent to localstorage: ".concat("petvago-token")),console.log("Token: ".concat(e.data.token)),localStorage.setItem("petvago-token",e.data.token),a.props.redirectToIndex()):console.log("Login failed")}).catch(function(e){void 0===e.response?console.log(e):void 0===e.response.status?console.log("Login failed"):401===e.response.status&&console.log("Login failed")})},a.state={isLoggedIn:!1},a}return Object(S.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e;return e=this.state.isLoggedIn?null:o.a.createElement(H.a,{clientId:"75cb6bbf5f9d48f4b23f47dd80c69e7d",buttonText:"Login with Instagram",onSuccess:this.responseInstagram,onFailure:this.responseInstagram,cssClass:"instagram-login btn"}),o.a.createElement("div",null,e)}}]),t}(o.a.Component),q=(a(176),function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(T.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(o)))).state={name:"",password:"",isHotel:!1,loginFailed:!1,signupFailed:!1,signupHotelFailed:!1,errorMessage:"",hotelClass:"login-not-chosen",customerClass:"login-chosen"},a.handleSubmit=function(e){e.preventDefault(),M.a.post("https://petvago.site/auth/jwt",{name:a.state.name,password:a.state.password,isHotel:a.state.isHotel}).then(function(e){null===e.data?a.loginFailed():e.data.token?(console.log("Login succeeded, setting token"),console.log("Setting tokent to localstorage: ".concat("petvago-token")),console.log("Token: ".concat(e.data.token)),localStorage.setItem("petvago-token",e.data.token),a.props.login(e.data.token),a.props.history.push("/")):a.loginFailed()}).catch(function(e){void 0===e.response.status?a.loginFailed():401===e.response.status&&a.loginFailed()})},a.handleSignup=function(){a.state.isHotel?a.setState({name:"",password:"",signupHotelFailed:!0}):M.a.post("https://petvago.site/auth/signupjwt",{name:a.state.name,password:a.state.password}).then(function(e){null===e.data?a.signupFailed():void 0===e.data.token?a.setState({errorMessage:e.body}):(console.log("Signup succeeded, setting token"),console.log("Setting tokent to localstorage: ".concat("petvago-token")),console.log("Token: ".concat(e.data.token)),localStorage.setItem("petvago-token",e.data.token),a.props.login(e.data.token),a.props.history.push("/"))}).catch(function(e){console.log(e),a.signupFailed()})},a.handleInputChange=function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;a.setState(Object(I.a)({},e.target.name,t))},a.redirectToIndex=function(){a.props.history.push("/")},a.chooseCustomer=function(){a.setState({hotelClass:"login-not-chosen",customerClass:"login-chosen",isHotel:!1})},a.chooseHotel=function(){a.setState({hotelClass:"login-chosen",customerClass:"login-not-chosen",isHotel:!0})},a}return Object(S.a)(t,e),Object(N.a)(t,[{key:"loginFailed",value:function(){console.log("Login failed"),this.setState({name:"",password:"",loginFailed:!0})}},{key:"signupFailed",value:function(){console.log("Signup failed"),this.setState({name:"",password:"",signupFailed:!0})}},{key:"render",value:function(){return o.a.createElement("div",{className:j.a.Login},o.a.createElement("section",null,o.a.createElement("h1",null,"Login"),o.a.createElement("div",null,o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("button",{className:this.state.customerClass,onClick:this.chooseCustomer},"Customer"),o.a.createElement("button",{className:this.state.hotelClass,onClick:this.chooseHotel},"Hotel")),o.a.createElement("div",{className:"login-form",style:{padding:"10px"}},o.a.createElement("form",null,o.a.createElement("h6",null,"Name: "),o.a.createElement("input",{type:"text",name:"name",className:j.a.TextBox,onChange:this.handleInputChange,value:this.state.name}),o.a.createElement("h6",null,"Password: "),o.a.createElement("input",{type:"password",name:"password",className:j.a.TextBox,onChange:this.handleInputChange,value:this.state.password}),this.state.loginFailed?o.a.createElement("h6",{className:j.a.loginFailed},"Incorrect username or password"):null,this.state.signupFailed?o.a.createElement("h6",{className:j.a.loginFailed},"Signup failed"):null,this.state.signupHotelFailed?o.a.createElement("h6",{className:j.a.loginFailed},"You cannot signup as hotel"):null,o.a.createElement("h6",null,this.state.errorMessage),o.a.createElement("input",{type:"submit",value:"Submit",className:j.a.Submit,onClick:this.handleSubmit})),!1===this.state.isHotel?o.a.createElement("button",{className:j.a.Signup,onClick:this.handleSignup},"Signup"):null,!1===this.state.isHotel?o.a.createElement(Y,{redirectToIndex:this.redirectToIndex}):null,!1===this.state.isHotel?o.a.createElement(F,{redirectToIndex:this.redirectToIndex}):null))))}}]),t}(o.a.Component)),z=Object(i.b)(function(e){return{}},function(e){return{login:function(t){e(function(e){return{type:"LOGIN",payload:e}}(t))}}})(Object(B.a)(q)),_=a(12),U=a.n(_),K=a(16),V=(a(181),a(9)),G=a(7),$=a(10),J=a(29),Q=a.n(J);a(49);V.b.add($.l),V.b.add($.n),V.b.add($.d);var Z=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(T.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(o)))).districts=["Central and Western","Eastern","Islands","Kowloon City","Kwai Tsing","Kwun Tong","North","Sai Kung","Sha Tin","Sham Shui Po","Southern","Tai Po","Tsuen Wan","Tuen Mun","Wan Chai","Wong Tai Sin","Yau Tsim Mong","Yuen Long"],a.handleSearch=function(e){e.preventDefault(),M.a.post("https://petvago.site/api/search/",{startDate:a.props.search.startDate||h()(new Date).format("YYYY-MM-DD"),endDate:a.props.search.endDate||h()(new Date).format("YYYY-MM-DD"),district:a.props.search.district||"all",petType:a.props.search.petType||"all"}).then(function(e){null===e?console.log("you are living failure"):(console.log(e.data),a.props.afterSearch(e.data),a.props.history.push("./search_result")),a.props.onSearch(a.props.search)}).catch(function(e){console.log(e)})},a.dateChange=function(){var e=Object(K.a)(U.a.mark(function e(t,n){return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log("dateChange"),e.next=4,a.setState({startDate:h()(new Date(n.startDate._d||a.props.search.startDate)).format("YYYY-MM-DD"),endDate:h()(new Date(n.endDate._d||a.props.search.endDate)).format("YYYY-MM-DD")});case 4:a.props.changeDate(a.state);case 5:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),a.districtChange=function(){var e=Object(K.a)(U.a.mark(function e(t){return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a.setState({district:t.target.value});case 3:a.props.changeDistrict(a.state);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.petTypeChange=function(){var e=Object(K.a)(U.a.mark(function e(t){return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a.setState({petType:t.target.value});case 3:a.props.changePetType(a.state);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(S.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=o.a.createElement("select",{name:"district",defaultValue:this.props.search.district||"all",onChange:this.districtChange,required:!0},o.a.createElement("option",{value:"all",disabled:!0,hidden:!0},"District"),o.a.createElement("option",{value:"all"},"All District"),this.districts.map(function(e,t){return o.a.createElement("option",{value:e,key:t},e)})),t=(new Date).toISOString().split("T")[0],a=new Date;return a.setDate(a.getDate()+84),a=a.toISOString().split("T")[0],o.a.createElement("div",{className:"search-outer"},o.a.createElement("h1",null,"Book a pet hotel in Hong Kong"),o.a.createElement("div",{className:"search"},o.a.createElement("div",{className:"search-inner"},o.a.createElement("div",{className:"search-date-box"},o.a.createElement(G.a,{icon:"calendar-alt",style:{color:"#50b5a9",marginLeft:"10px"}}),o.a.createElement(Q.a,{minDate:h()(new Date(t)),maxDate:h()(new Date(a)),startDate:h()(new Date(this.props.search.startDate||t)),endDate:h()(new Date(this.props.search.endDate||t)),onApply:this.dateChange,props:this.props},o.a.createElement("button",{className:"searchDate"},"Date ",h()(this.props.search.startDate).format("l")||"Check-in"," - ",h()(this.props.search.endDate).format("l")||t," "))),o.a.createElement("div",{className:"search-input-box"},o.a.createElement(G.a,{icon:"map-marker-alt",style:{color:"#50b5a9",marginLeft:"10px",marginRight:"5px"}}),e),o.a.createElement("div",{className:"search-input-box"},o.a.createElement(G.a,{icon:"paw",style:{color:"#50b5a9",marginLeft:"10px",marginRight:"5px"}}),o.a.createElement("select",{name:"petType",defaultValue:this.props.search.petType||"all",onChange:this.petTypeChange,required:!0},o.a.createElement("option",{value:"all",disabled:!0,hidden:!0},"Type of Pet"),o.a.createElement("option",{value:"all"},"All PetType"),o.a.createElement("option",{value:"dog"},"Dog"),o.a.createElement("option",{value:"cat"},"Cat"))),o.a.createElement("div",{className:"search-input-button"},o.a.createElement("button",{className:"searchSubmit",type:"submit",value:"Submit",onClick:this.handleSearch},"Search")))))}}]),t}(o.a.Component),X=Object(B.a)(Object(i.b)(function(e){return{search:e.search}},function(e){return{onSearch:function(t){return e({type:"SEARCHHOTEL",history:t})},changeDate:function(t){return e({type:"CHANGEDATE",date:t})},changeDistrict:function(t){return e({type:"CHANGEDISTRICT",district:t})},changePetType:function(t){return e({type:"CHANGEPETTYPE",petType:t})},afterSearch:function(t){return e({type:"SEARCHRESULT",result:t})}}})(Z)),ee=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(T.a)(this,Object(w.a)(t).call(this,e))).state={response:null},a.children=null,a}return Object(S.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("petvago-token");t||this.props.history.push("/login"),M.a.get("https://petvago.site/api/userprofile",{headers:{Authorization:"Bearer ".concat(t)}}).then(function(t){e.setState({response:t.data[0]}),console.log("userprofile",e.state.response)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return this.state.response?o.a.createElement("div",null,"Welcome back, ",this.state.response.username):o.a.createElement("div",null,"Loading ... ")}}]),t}(o.a.Component),te=Object(B.a)(ee),ae=(a(94),function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(T.a)(this,Object(w.a)(t).call(this,e))).componentWillUpdate=function(e,t){t.chatlist!==a.state.chatlist&&a.renderChatlist()},a.renderChatlist=function(){if(a.state.chatlist)return"users"===a.state.who?a.state.chatlist.map(function(e){var t="";return e.lastMessageTime&&(t=(t=(t=(t=new Date(e.lastMessageTime)).toTimeString()).split(" ")[0]).slice(0,5)),o.a.createElement("div",{key:e.conversationID},o.a.createElement("div",{className:"messageBox-conersation row",onClick:function(){return a.click(e.conversationID)}},o.a.createElement("div",{className:"col-2"},o.a.createElement("img",{className:"messageBox-icon",src:e.icon,alt:"icon"})),o.a.createElement("div",{className:"col-3"},e.name),o.a.createElement("div",{className:"col-5"},e.lastMessage),o.a.createElement("div",{className:"col-2"},t)),o.a.createElement("div",{className:"booking-line"}))}):a.state.chatlist.map(function(e){var t="";return e.lastMessageTime&&(t=(t=(t=(t=new Date(e.lastMessageTime)).toTimeString()).split(" ")[0]).slice(0,5)),o.a.createElement("div",{key:e.conversationID},o.a.createElement("div",{className:"messageBox-conersation row",onClick:function(){return a.click(e.conversationID)}},o.a.createElement("div",{className:"col-3"},e.name),o.a.createElement("div",{className:"col-7"},e.lastMessage),o.a.createElement("div",{className:"col-2"},t)),o.a.createElement("div",{className:"booking-line"}))})},a.click=function(e){a.props.history.push({pathname:"/chatroom",state:{conversationID:e}})},a.state={who:null,chatlist:null},a.children=null,a}return Object(S.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("petvago-token");t||this.props.history.push("/login"),new Promise(function(t,a){var n=JSON.parse(window.atob(localStorage.getItem("petvago-token").split(".")[1]));e.setState({who:!1===n.isHotel?"users":"hotel"}),t()}).then(function(){"users"===e.state.who?M.a.get("https://petvago.site/api/chatroom/chatlist/user",{headers:{Authorization:"Bearer ".concat(t)}}).then(function(t){t.data=t.data.sort(function(e,t){return new Date(t.lastMessageTime)-new Date(e.lastMessageTime)}),e.setState({chatlist:t.data}),console.log(t.data)}).catch(function(e){console.log(e)}):M.a.get("https://petvago.site/api/chatroom/chatlist/hotel",{headers:{Authorization:"Bearer ".concat(t)}}).then(function(t){e.setState({chatlist:t.data}),console.log(t.data)}).catch(function(e){console.log(e)})})}},{key:"render",value:function(){return this.state.chatlist?o.a.createElement("div",{className:"messageBox"},o.a.createElement("h1",{style:{marginBottom:"20px"}}," All message"),o.a.createElement("div",{className:"booking-line"}),this.renderChatlist()):o.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:"40vh",alignItems:"center"}},o.a.createElement("img",{src:"./image/run.gif",alt:"loading"}),o.a.createElement("p",{style:{marginLeft:"20px"}},"Loading..."))}}]),t}(o.a.Component)),ne=Object(B.a)(ae),oe=a(48),re=a(138),le=a.n(re),ie=a(68);a(289);V.b.add($.m),V.b.add($.A),V.b.add($.o),V.b.add($.j);var ce=a(11),se=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(T.a)(this,Object(w.a)(t).call(this,e))).socketListener=function(){var e=localStorage.getItem("petvago-token");a.socket.on("connect",function(){M.a.get("https://petvago.site/api/chatroom/message/".concat(a.props.location.state.conversationID),{headers:{Authorization:"Bearer ".concat(e)}}).then(function(e){var t=e.data.map(function(e){return e.text=e.body,e.dateString=ce(new Date(e.created_at)).format("HH:mm"),e.position=Object.keys(e.authorID)[0]===a.state.author?"right":"left",e});a.setState({chat:t})}).catch(function(e){console.log(e)}),a.socket.emit("enter conversation",a.props.location.state.conversationID)}),a.socket.on("refresh messages",function(e){var t=a.state.chat,n=ce(new Date).format("HH:mm");if(e.author!==a.state.author){var o=[].concat(Object(oe.a)(t),[{text:e.body,type:e.type,position:"left",dateString:n}]);a.setState({chat:o})}})},a.componentWillUpdate=function(e,t){if(t.activeBooking!==a.state.activeBooking&&a.renderActive(),t.chat!==a.state.chat)return new Promise(function(e,t){a.renderChat(),e(111)}).then(function(e){a.scrollToBottom()})},a.renderActive=function(){if(a.state.activeBooking)return a.state.activeBooking.activeBooking.map(function(e){var t=new Date(e.startDate),a=t.getDate(),n=t.getMonth()+1,r=t.getFullYear();return t=a+"/"+n+"/"+r,e.startDate?o.a.createElement("div",{key:e.bookingID},o.a.createElement("p",null,e.roomType," - ",t)):o.a.createElement("div",null,o.a.createElement("p",null,"No active booking."))})},a.renderChat=function(){return a.state.chat&&a.state.chat.length>0?o.a.createElement(ie.MessageList,{className:"message-list",lockable:!0,toBottomHeight:"100%",dataSource:a.state.chat}):o.a.createElement("p",{style:{color:"#ccc",fontSize:"18px",marginTop:"30px",textAlign:"center"}},"Send a message!")},a.scrollToBottom=function(){a.state.activeBooking&&a.el.scrollIntoView({block:"end",inline:"nearest"})},a.input=function(e){a.setState({body:e.target.value})},a.send=function(){a.refs.input.clear();var e={body:a.state.body,type:"text"},t=ce(new Date).format("HH:mm"),n=a.state.chat,o={body:a.state.body,type:"text",author:a.state.author};a.socket.emit("send messages",{data:o,room:a.props.location.state.conversationID});var r=localStorage.getItem("petvago-token");M.a.post("https://petvago.site/api/chatroom/sendmessage/".concat(a.state.conversationID),e,{headers:{Authorization:"Bearer ".concat(r)}}).then(function(o){var r=[].concat(Object(oe.a)(n),[{text:e.body,type:e.type,position:"right",dateString:t}]);a.setState({chat:r})}).catch(function(e){console.log(e)})},a.renderBox=function(){return a.state.activeBooking&&"users"===a.state.author?o.a.createElement("div",{className:"chatroom-render-box"},o.a.createElement("img",{className:"chatRoom-icon",src:a.state.activeBooking.icon,alt:"icon"}),o.a.createElement("div",null,o.a.createElement("p",{style:{marginTop:"20px",textAlign:"center"}},a.state.activeBooking.hotelName),o.a.createElement("p",{style:{fontSize:"16px",marginTop:"20px",textAlign:"center"}},o.a.createElement(G.a,{icon:"map-marker-alt",style:{marginRight:"10px",color:"#50b5a9"}}),a.state.activeBooking.address))):a.state.activeBooking&&"hotel"===a.state.author?o.a.createElement("div",null,o.a.createElement("p",{style:{fontSize:"18px",marginTop:"18px",textAlign:"left"}},o.a.createElement(G.a,{icon:"user",style:{marginRight:"10px",color:"#50b5a9"}}),a.state.activeBooking.username),o.a.createElement("p",{style:{fontSize:"18px",marginTop:"20px",textAlign:"left"}},o.a.createElement(G.a,{icon:"phone",style:{marginRight:"10px",color:"#50b5a9"}}),a.state.activeBooking.telephone),o.a.createElement("p",{style:{fontSize:"18px",marginTop:"20px",textAlign:"left"}},o.a.createElement(G.a,{icon:"envelope",style:{marginRight:"10px",color:"#50b5a9"}}),a.state.activeBooking.email)):void 0},a.state={activeBooking:null,chat:null,author:null,body:null,conversationID:null},a.socket=le()(),a}return Object(S.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("petvago-token");t||this.props.history.push("/login"),this.socketListener(),new Promise(function(t,a){var n=JSON.parse(window.atob(localStorage.getItem("petvago-token").split(".")[1]));e.setState({author:!1===n.isHotel?"users":"hotel"}),t()}).then(function(){M.a.get("https://petvago.site/api/chatroom/message/".concat(e.props.location.state.conversationID),{headers:{Authorization:"Bearer ".concat(t)}}).then(function(t){var a=t.data.map(function(t){return t.text=t.body,t.dateString=ce(new Date(t.created_at)).format("HH:mm"),t.position=Object.keys(t.authorID)[0]===e.state.author?"right":"left",t});e.setState({chat:a})}).catch(function(e){console.log(e)}),"users"===e.state.author?M.a.get("https://petvago.site/api/chatroom/activebooking/".concat(e.props.location.state.conversationID),{headers:{Authorization:"Bearer ".concat(t)}}).then(function(t){e.setState({activeBooking:t.data[0],conversationID:e.props.location.state.conversationID})}).catch(function(e){console.log(e)}):M.a.get("https://petvago.site/api/chatroom/userinfo/".concat(e.props.location.state.conversationID),{headers:{Authorization:"Bearer ".concat(t)}}).then(function(t){e.setState({activeBooking:t.data[0],conversationID:e.props.location.state.conversationID})}).catch(function(e){console.log(e)})})}},{key:"render",value:function(){var e=this;return this.state.activeBooking?o.a.createElement("div",{className:"chatroomBox row"},o.a.createElement("div",{className:"activeChat-box col-md-4 col-12 d-flex flex-column align-items-center"},this.renderBox(),o.a.createElement("div",{className:"activeBooking"},o.a.createElement("p",{style:{fontWeight:"bold"}},"Active booking:"),this.renderActive())),o.a.createElement("div",{className:"activeChat col-md-8 col-12"},o.a.createElement("div",{className:"chatroom-message-list"},this.renderChat(),o.a.createElement("div",{ref:function(t){e.el=t}})),o.a.createElement(ie.Input,{placeholder:"Type here...",ref:"input",onChange:this.input,multiline:!0,rightButtons:o.a.createElement(ie.Button,{color:"white",onClick:this.send,text:"Send"})}))):o.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:"40vh",alignItems:"center"}},o.a.createElement("img",{src:"./image/run.gif",alt:"loading"}),o.a.createElement("p",{style:{marginLeft:"20px"}},"Loading..."))}}]),t}(o.a.Component),me=Object(B.a)(se),pe=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(T.a)(this,Object(w.a)(t).call(this,e))).state={userid:void 0,username:void 0},a.children=null,a}return Object(S.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("petvago-token");t||this.props.history.push("/login"),M.a.get("https://petvago.site/auth/verifyjwt",{headers:{Authorization:"Bearer ".concat(t)}}).then(function(t){e.setState({userid:t.data.id,username:t.data.username})}).catch(function(t){console.log("Cannot verify JWT: ".concat(t)),localStorage.removeItem("petvago-token"),e.props.history.push("/login")})}},{key:"render",value:function(){return void 0===this.state.username?o.a.createElement("div",null,"Loading ... "):o.a.createElement("div",{id:"AuthenticatedComponent"},this.props.children)}}]),t}(o.a.Component),ue=Object(B.a)(pe),he=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(T.a)(this,Object(w.a)(t).call(this,e))).addMarker=function(e,t){var a=new google.maps.Marker({position:e.coords,map:t});if(e.content){var n=new google.maps.InfoWindow({content:e.content});a.addListener("click",function(){n.open(t,a)})}},a.props.zoom?a.zoom=a.props.zoom:a.zoom=12,a.props.height?a.height=a.props.height:a.height=300,a.props.width?a.width=a.props.width:a.width=400,a}return Object(S.a)(t,e),Object(N.a)(t,[{key:"getGoogleMaps",value:function(){return this.googleMapsPromise||(this.googleMapsPromise=new Promise(function(e){window.resolveGoogleMapsPromise=function(){e(google),delete window.resolveGoogleMapsPromise};var t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyC-96DuvQlffRWIlPACRi6N_XTZ2T1lHtc","&callback=resolveGoogleMapsPromise"),t.async=!0,document.body.appendChild(t)})),this.googleMapsPromise}},{key:"componentWillMount",value:function(){this.getGoogleMaps()}},{key:"componentDidMount",value:function(){var e=this;this.getGoogleMaps().then(function(t){var a=new t.maps.Map(document.getElementById("GoogleMap"),{zoom:e.zoom,center:e.props.markerArray[0].coords});for(var n in e.props.markerArray)e.addMarker(e.props.markerArray[n],a)})}},{key:"render",value:function(){return o.a.createElement("div",{id:"GoogleMap",style:{width:this.width,height:this.height}})}}]),t}(o.a.Component),de=(a(291),function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(T.a)(this,Object(w.a)(t).call(this,e))).componentWillUpdate=function(e,t){t.token!==a.state.token&&console.log("22222")},a.handleLogout=function(){localStorage.removeItem("petvago-token")},a.state={token:a.props.token},a}return Object(S.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.isLoggedInNavbar()}},{key:"isLoggedInNavbar",value:function(){return localStorage.getItem("petvago-token")?!1===JSON.parse(window.atob(localStorage.getItem("petvago-token").split(".")[1])).isHotel?this.userNavbar():this.hotelNavbar():this.guestNavbar()}},{key:"guestNavbar",value:function(){return o.a.createElement("div",{className:"navbar-container"},o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-info fixed-top"},o.a.createElement("div",{className:"d-flex flex-grow-1 responsive-nav"},o.a.createElement("a",{className:"navbar-brand d-none d-lg-inline-block",href:"/"}," "),o.a.createElement("a",{className:"navbar-brand-two mx-auto d-lg-none d-inline-block",href:"/"}," "),o.a.createElement("div",{className:"w-100 text-right"},o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#myNavbar"},o.a.createElement("span",{className:"navbar-toggler-icon"})))),o.a.createElement("div",{className:"collapse navbar-collapse flex-grow-1 text-right",id:"myNavbar"},o.a.createElement("ul",{className:"navbar-nav ml-auto flex-nowrap"},o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{href:"/becomehost",className:"nav-link m-2 menu-item nav-active"},"Become a host ")),o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{href:"/login",className:"nav-link m-2 menu-item"},"Login")),o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{href:"/login",className:"nav-link m-2 menu-item"}," Sign up"))))))}},{key:"userNavbar",value:function(){return o.a.createElement("div",{className:"navbar-container"},o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-info fixed-top"},o.a.createElement("div",{className:"d-flex flex-grow-1 responsive-nav"},o.a.createElement("a",{className:"navbar-brand d-none d-lg-inline-block",href:"/"}," "),o.a.createElement("a",{className:"navbar-brand-two mx-auto d-lg-none d-inline-block",href:"/"}," "),o.a.createElement("div",{className:"w-100 text-right"},o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#myNavbar"},o.a.createElement("span",{className:"navbar-toggler-icon"})))),o.a.createElement("div",{className:"collapse navbar-collapse flex-grow-1 text-right",id:"myNavbar"},o.a.createElement("ul",{className:"navbar-nav ml-auto flex-nowrap"},o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{href:"/message",className:"nav-link m-2 menu-item nav-active"},"Message")),o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{href:"/mybooking",className:"nav-link m-2 menu-item"},"Booking")),o.a.createElement("li",{className:"nav-item",onClick:this.handleLogout},o.a.createElement("a",{href:"/",className:"nav-link m-2 menu-item"},"Logout"))))))}},{key:"hotelNavbar",value:function(){return o.a.createElement("div",{className:"navbar-container"},o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-info fixed-top"},o.a.createElement("div",{className:"d-flex flex-grow-1 responsive-nav"},o.a.createElement("a",{className:"navbar-brand d-none d-lg-inline-block",href:"/"}," "),o.a.createElement("a",{className:"navbar-brand-two mx-auto d-lg-none d-inline-block",href:"/"}," "),o.a.createElement("div",{className:"w-100 text-right"},o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#myNavbar"},o.a.createElement("span",{className:"navbar-toggler-icon"})))),o.a.createElement("div",{className:"collapse navbar-collapse flex-grow-1 text-right",id:"myNavbar"},o.a.createElement("ul",{className:"navbar-nav ml-auto flex-nowrap"},o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{href:"/message",className:"nav-link m-2 menu-item nav-active"},"Message")),o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{href:"/host-management",className:"nav-link m-2 menu-item"},"Host Management")),o.a.createElement("li",{className:"nav-item",onClick:this.handleLogout},o.a.createElement("a",{href:"/",className:"nav-link m-2 menu-item"},"Logout"))))))}},{key:"render",value:function(){return this.isLoggedInNavbar()}}]),t}(o.a.Component)),ge=Object(i.b)(function(e){return{token:e.login.token}})(de),ve={footerStyle:{backgroundColor:"#4c6189",fontSize:"1rem",color:"white",textAlign:"center",left:"0",bottom:"0",clear:"both",position:"absolute"},childrenStyle:{backgroundColor:"#4c6189",color:"white",display:"flex",flexWrap:"wrap",justifyContent:"space-around",height:"30vh",width:"100%",fontSize:"1rem",fontFamily:"Sarabun",padding:"1rem",borderTop:"1px solid #E7E7E7"}};a(293);var fe=function(){return o.a.createElement("footer",{className:"footer"},o.a.createElement("div",{className:"footer-box",style:ve.childrenStyle},o.a.createElement("div",{className:"footer-container"},o.a.createElement("div",{className:"footer-items"},o.a.createElement("a",{href:"/about"},"About us"),o.a.createElement("a",{href:"/helpcenter"},"Help center"),o.a.createElement("a",{href:"/term"},"Terms and conditions"),o.a.createElement("a",{href:"/prviacy"},"Privacy policy")),o.a.createElement("div",{className:"footer-items"},o.a.createElement("a",{href:"/becomehost"},"Become a host"),o.a.createElement("a",{href:"/term"},"Hosting"))),o.a.createElement("p",{className:"copyright"},"Petvago 2019")))};a(295),a(297),a(299);var be=function(){return o.a.createElement("div",{className:"carouselContainer"},o.a.createElement("div",{id:"carouselContent",className:"carousel slide","data-ride":"carousel"},o.a.createElement("div",{className:"carousel-inner",role:"listbox"},o.a.createElement("div",{className:"carousel-item active text-center p-4"},o.a.createElement("div",{className:"testamonial-box"},o.a.createElement("img",{className:"testamonial-icon",src:"./image/testamonial1.jpg",alt:"test1"}),o.a.createElement("div",{style:{fontSize:"17px",marginBottom:"10px",marginLeft:"20px"}},o.a.createElement("span",{style:{fontStyle:"italic"}},'"Jasmine booked with us and was an excellent guest. She was really friendly and easy-going. Would most certainly let her stay - anytime, she is a lovely guest!"'),o.a.createElement("span",{style:{display:"block",marginTop:"20px",fontSize:"15px",color:"gray"}},"Jasmine")))),o.a.createElement("div",{className:"carousel-item text-center p-4"},o.a.createElement("div",{className:"testamonial-box"},o.a.createElement("img",{className:"testamonial-icon",src:"./image/testamonial2.jpg",alt:"test2"}),o.a.createElement("div",{style:{fontSize:"17px",marginBottom:"10px",marginLeft:"20px"}},o.a.createElement("span",{style:{fontStyle:"italic"}},'"It was great hosting Kit. They always kept in touch before and during their stay. He was super nice. "'),o.a.createElement("span",{style:{display:"block",marginTop:"20px",fontSize:"15px",color:"gray"}},"Kit-kit")))),o.a.createElement("div",{className:"carousel-item text-center p-4"},o.a.createElement("div",{className:"testamonial-box"},o.a.createElement("img",{className:"testamonial-icon",src:"./image/testamonial3.jpg",alt:"test3"}),o.a.createElement("div",{style:{fontSize:"17px",marginBottom:"10px",marginLeft:"20px"}},o.a.createElement("span",{style:{fontStyle:"italic"}},'"By default jobs only have one attempt, that is when they fail, they are marked as a failure, and remain that way until you intervene."'),o.a.createElement("span",{style:{display:"block",marginTop:"20px",fontSize:"15px",color:"gray"}},"Pooh"))))),o.a.createElement("a",{className:"carousel-control-prev",href:"#carouselContent",role:"button","data-slide":"prev"},o.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),o.a.createElement("span",{className:"sr-only"},"Previous")),o.a.createElement("a",{className:"carousel-control-next",href:"#carouselContent",role:"button","data-slide":"next"},o.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),o.a.createElement("span",{className:"sr-only"},"Next"))))},Ee=a(13),ye=a.n(Ee),De=function(e){function t(){return Object(k.a)(this,t),Object(T.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return console.log(typeof Number(this.props.rating)+this.props.rating),o.a.createElement(ye.a,{rating:Number(this.props.rating),widgetDimensions:"20px",widgetSpacings:"2px"},o.a.createElement(ye.a.Widget,{widgetRatedColor:"rgb(252, 184, 40)"}),o.a.createElement(ye.a.Widget,{widgetRatedColor:"rgb(252, 184, 40)"}),o.a.createElement(ye.a.Widget,{widgetRatedColor:"rgb(252, 184, 40)"}),o.a.createElement(ye.a.Widget,{widgetRatedColor:"rgb(252, 184, 40)"}),o.a.createElement(ye.a.Widget,{widgetRatedColor:"rgb(252, 184, 40)"}))}}]),t}(o.a.Component);V.b.add($.t);var ke=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(T.a)(this,Object(w.a)(t).call(this,e))).redirectToSearchResult=function(){a.props.history.push("../search_result")},a.state={hotelInfo:null,hotelListItems:null},a}return Object(S.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=Object(K.a)(U.a.mark(function e(){var t,a,n=this;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("https://petvago.site/api/hotel");case 3:t=e.sent,this.setState({hotelInfo:t.data}),a=this.state.hotelInfo.map(function(e){return o.a.createElement("div",{key:e.id.toString(),id:"hotel-id-".concat(e.id),className:"hotel-info"},o.a.createElement("img",{className:"hotel-icon ",src:e.path,onClick:function(e){n.onClickHotelInfo(e)},alt:"hotelIcon"}),o.a.createElement("div",{className:"hotel-detail"},o.a.createElement("div",{className:"hotel-name"},e.name),o.a.createElement("div",{className:"hotel-rate"},o.a.createElement(De,{rating:e.averageRating}),o.a.createElement("p",{className:"hotel-rate-number"},e.averageRating))))}),this.setState({hotelListItems:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"onClickHotelInfo",value:function(e){console.log(Number(e.target.parentElement.id.replace("hotel-id-","")));var t=Number(e.target.parentElement.id.replace("hotel-id-",""));this.props.changeHotelId(t),this.props.history.push("./hotel/")}},{key:"render",value:function(){return o.a.createElement("div",{className:"home-body"},o.a.createElement("div",{className:"background"},o.a.createElement(X,{history:this.redirectToSearchResult})),o.a.createElement("div",{className:"hotel-container-container"},o.a.createElement("div",{className:"split text-left"},"Recommended Hotel:"),o.a.createElement("div",{className:"hotel-container"},this.state.hotelListItems)),o.a.createElement("div",{className:"home-testamonial"},o.a.createElement("h2",null,"What pet lovers say about us ",o.a.createElement(G.a,{icon:"quote-right",style:{marginLeft:"10px",color:"#50b5a9"}})),o.a.createElement(be,null)))}}]),t}(o.a.Component),Ne=Object(B.a)(Object(i.b)(null,function(e){return{changeHotelId:function(t){return e({type:"CHANGEHOTELID",hotelId:t})}}})(ke));a(304),a(306),a(308);V.b.add($.q),V.b.add($.i);var Te=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(T.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(o)))).handleClick=function(){},a}return Object(S.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return!0===this.props.isEdit?o.a.createElement("div",{id:"PhotoUpload",className:"edit-photo",onClick:this.handleClick},o.a.createElement("input",{type:"file",name:"",id:"PhotoUploadInput",onChange:this.props.handleEditRoomTypeIconPhoto}),o.a.createElement(G.a,{icon:"edit"})):o.a.createElement("div",{id:"PhotoUpload",className:"add-photo"},o.a.createElement("input",{type:"file",name:"",id:"PhotoUploadInput",onChange:this.props.handleAddRoomTypePhoto}),o.a.createElement(G.a,{icon:"plus"}))}}]),t}(o.a.Component);V.b.add($.i),V.b.add($.z);var we=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(T.a)(this,Object(w.a)(t).call(this,e))).roomPhoto=null,a.roomIconPhoto=null,a.firstIcon=!0,a}return Object(S.a)(t,e),Object(N.a)(t,[{key:"componentWillUpdate",value:function(){this.roomPhoto=null,this.roomIconPhoto=null,this.firstIcon=!0}},{key:"render",value:function(){var e=this;if(this.props.editRoomTypeContent.photos!==[]&&void 0!==this.props.editRoomTypeContent&&void 0!==this.props.editRoomTypeContent.photos){var t;for(var a in this.roomPhoto=this.props.editRoomTypeContent.photos.map(function(t){return t.icon?null:void 0===t.isDelete?o.a.createElement("div",{className:"other-photo",key:t.photoID,id:"other-photo-".concat(t.photoID)},o.a.createElement("img",{src:t.path,alt:"This room type: ".concat(e.props.editRoomTypeContent.roomType)}),o.a.createElement(G.a,{icon:"times",onClick:e.props.handleDeleteRoomTypePhoto})):null}),this.props.editRoomTypeContent.photos)if(t=this.props.editRoomTypeContent.photos[a],this.firstIcon&&t.icon){this.firstIcon=!1,this.roomIconPhoto=o.a.createElement("div",{className:"other-photo",key:t.photoID,id:"icon-photo-".concat(t.photoID)},o.a.createElement("img",{src:t.path,alt:"This room type: ".concat(this.props.editRoomTypeContent.roomType)}),o.a.createElement(Te,{isEdit:!0,handleEditRoomTypeIconPhoto:this.props.handleEditRoomTypeIconPhoto}));break}null===this.roomIconPhoto&&(this.roomIconPhoto=o.a.createElement("div",{className:"other-photo"},o.a.createElement("img",{src:"./image/empty-photo.png",alt:"No uploaded here yet"}),o.a.createElement(Te,{isEdit:!0,handleEditRoomTypeIconPhoto:this.props.handleEditRoomTypeIconPhoto})))}return o.a.createElement("div",{className:"modal fade",id:"RoomModal",tabIndex:"-1",role:"dialog","aria-labelledby":"RoomModalLabel","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("div",{className:"modal-header"},o.a.createElement("h5",{className:"modal-title",id:"RoomModalLabel"},"Room Types: ",this.props.editRoomTypeContent.roomType),o.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},o.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),o.a.createElement("div",{className:"modal-body"},o.a.createElement("form",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"recipient-name",className:"col-form-label"},"Room Description: "),o.a.createElement("textarea",{type:"text",className:"form-control",id:"recipient-name",value:this.props.editRoomTypeContent.description,onChange:this.props.handleRoomDescription})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"message-text",className:"col-form-label"},"Room Icon Photo:"),o.a.createElement("div",{className:"other-photo-group"},this.roomIconPhoto)),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"message-text",className:"col-form-label"},"Other Room Photo:"),o.a.createElement("div",{className:"other-photo-group"},this.roomPhoto,o.a.createElement(Te,{handleAddRoomTypePhoto:this.props.handleAddRoomTypePhoto}))))),o.a.createElement("div",{className:"modal-footer"},o.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close")))))}}]),t}(o.a.Component),Se=(a(310),function(e){function t(){return Object(k.a)(this,t),Object(T.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"modal fade",id:"WarningModal",tabIndex:"-1",role:"dialog","aria-labelledby":"WarningModalLabel","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("div",{className:"modal-header"},o.a.createElement("h5",{className:"modal-title",id:"WarningModalLabel"},'Are you sure you want to delete room type " ',this.props.editRoomTypeContent.roomType,' " ?'),o.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},o.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),o.a.createElement("div",{className:"modal-footer"},o.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:this.props.handleConfirmDeleteRoomType},"Yes"),o.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Cancel")))))}}]),t}(o.a.Component)),xe=(a(312),function(e){function t(){return Object(k.a)(this,t),Object(T.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"modal fade",id:"ConfirmationModal",tabIndex:"-1",role:"dialog","aria-labelledby":"ConfirmationModalLabel","aria-hidden":"true","data-backdrop":"false"},o.a.createElement("div",{className:"modal-dialog",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("div",{className:"modal-header"},o.a.createElement("h5",{className:"modal-title",id:"ConfirmationModalLabel"},"Updated successfully ",o.a.createElement("span",{className:"tick"},"\u2714")," Redirecting in ",this.props.countDownSecond," seconds..."),o.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},o.a.createElement("span",{"aria-hidden":"true"},"\xd7"))))))}}]),t}(o.a.Component));V.b.add($.r),V.b.add($.i),V.b.add($.z);var Re=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(T.a)(this,Object(w.a)(t).call(this,e))).handleInputChange=function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;a.setState(Object(I.a)({},e.target.name,t))},a.handleRoomDescription=function(e){var t,n=a.state.roomType;for(var o in a.state.roomType)a.state.editRoomTypeID===a.state.roomType[o].roomTypeID.toString()&&(t=o);n[t].description=e.target.value,a.setState({roomType:n})},a.handleChangeCheckbox=function(e){var t=a.state.vaccineRequirement.find(function(t){return t===e.target.value});if(e.target.checked){if(!t){var n=a.state.vaccineRequirement;n=[].concat(Object(oe.a)(n),[e.target.value]),a.setState({vaccineRequirement:n})}}else if(t){var o=a.state.vaccineRequirement.filter(function(t){return t!==e.target.value});a.setState({vaccineRequirement:o})}},a.handleRoomChange=function(e){var t=a.state.roomType,n=t.find(function(t){return t.roomTypeID.toString()===e.target.parentElement.parentElement.id.replace("roomType","")});n[e.target.name]=e.target.value,t=t.map(function(t){return t.roomTypeID.toString()===e.target.parentElement.parentElement.id.replace("roomType","")?n:t}),a.setState({roomType:t})},a.handleAddRoomType=function(){M.a.post("https://petvago.site/api/hotel/edit/new-room-type",{},{headers:{Authorization:"Bearer ".concat(a.jwt)}}).then(function(e){a.constructEditPage();var t=a.state.addedButNotUpdatedRoomType;t.push(e.data[0]),a.setState({addedButNotUpdatedRoomType:t})})},a.handleEditRoomDetial=function(e){var t;"TR"===e.target.parentElement.parentElement.tagName?t=e.target.parentElement.parentElement.id.replace("roomType",""):"TD"===e.target.parentElement.parentElement.tagName?t=e.target.parentElement.parentElement.parentElement.id.replace("roomType",""):"DIV"===e.target.parentElement.parentElement.tagName&&(t=e.target.parentElement.parentElement.parentElement.parentElement.id.replace("roomType",""));var n=a.state.roomType.filter(function(e){return e.roomTypeID.toString()===t});a.setState({editRoomTypeID:t,editRoomTypeContent:n[0]})},a.handleDeleteRoomType=function(e){var t;"TR"===e.target.parentElement.parentElement.tagName?t=e.target.parentElement.parentElement.id.replace("roomType",""):"TD"===e.target.parentElement.parentElement.tagName?t=e.target.parentElement.parentElement.parentElement.id.replace("roomType",""):"DIV"===e.target.parentElement.parentElement.tagName&&(t=e.target.parentElement.parentElement.parentElement.parentElement.id.replace("roomType",""));var n=a.state.roomType.filter(function(e){return e.roomTypeID.toString()===t});a.setState({editRoomTypeID:t,editRoomTypeContent:n[0]})},a.handleConfirmDeleteRoomType=function(e){M.a.put("https://petvago.site/api/hotel/edit/delete-room-type/".concat(a.state.editRoomTypeID),{},{headers:{Authorization:"Bearer ".concat(a.jwt)}}).then(function(){a.constructEditPage()})},a.handleChangeDistrict=function(e){a.setState({hotelDistrict:e.target.value})},a.handleAddRoomTypePhoto=function(){var e=Object(K.a)(U.a.mark(function e(t){var n,o,r;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(r in n=a.state.roomType,a.state.roomType)a.state.editRoomTypeID===a.state.roomType[r].roomTypeID.toString()&&(o=r);return n[o].photos.push({icon:!1,path:URL.createObjectURL(t.target.files[0]),files:t.target.files[0],photoID:a.state.newPhotoID,name:"hotel-".concat(a.state.userName,"-").concat(n[o].roomType.replace(" ",""),"-other-no=-=")}),e.next=5,a.setState({roomType:n});case 5:return e.next=7,a.setState({newPhotoID:a.state.newPhotoID-1});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleDeleteRoomTypePhoto=function(e){var t,n=e.currentTarget.parentElement.id.split("other-photo-")[1],o=a.state.roomType;for(var r in a.state.roomType)a.state.editRoomTypeID===a.state.roomType[r].roomTypeID.toString()&&(t=r);o[t].photos=o[t].photos.map(function(e){return e.photoID.toString()===n?{icon:!1,path:e.path,photoID:e.photoID,isDelete:!0}:e}),a.setState({roomType:o})},a.handleEditRoomTypeIconPhoto=function(){var e=Object(K.a)(U.a.mark(function e(t){var n,o,r,l;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(r in n=a.state.roomType,a.state.roomType)a.state.editRoomTypeID===a.state.roomType[r].roomTypeID.toString()&&(o=r);for(l in n[o].photos)!0===n[o].photos[l].icon&&(n[o].photos[l]={icon:!1,path:n[o].photos[l].path,photoID:n[o].photos[l].photoID,isDelete:!0});return n[o].photos.push({icon:!0,path:URL.createObjectURL(t.target.files[0]),files:t.target.files[0],photoID:a.state.newPhotoID,name:"hotel-".concat(a.state.userName,"-").concat(n[o].roomType.replace(" ",""),"-icon-no=-=")}),e.next=6,a.setState({roomType:n});case 6:return e.next=8,a.setState({newPhotoID:a.state.newPhotoID-1});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleEditBigIconPhoto=function(e){a.setState({hotelIcon:URL.createObjectURL(e.target.files[0]),hotelIconFile:e.target.files[0]})},a.handleSubmit=function(e){e.preventDefault();var t={vaccine:a.state.vaccineRequirement.map(function(e){return"KennelCough"===e?"Kennel Cough":e})},n=[];for(var o in a.state.roomType)for(var r in a.state.roomType[o].photos)void 0!==a.state.roomType[o].photos[r].isDelete&&n.push(a.state.roomType[o].photos[r].photoID);var l=[];for(var i in a.state.roomType)for(var c in a.state.roomType[i].photos)a.state.roomType[i].photos[c].photoID<0&&l.push({photoName:a.state.roomType[i].photos[c].name,files:a.state.roomType[i].photos[c].files,roomTypeID:a.state.roomType[i].roomTypeID,path:a.state.roomType[i].photos[c].path,icon:a.state.roomType[i].photos[c].icon});var s=new Promise(function(e,o){M.a.post("https://petvago.site/api/hotel/edit/submit",{name:a.state.hotelName,telephone:a.state.hotelTel,address:a.state.hotelAddress,description:a.state.hotelDescription,vaccineRequirement:t,district:a.state.hotelDistrict,deletePhotos:n,addPhotos:[]},{headers:{Authorization:"Bearer ".concat(a.jwt)}}).then(function(t){e(t)})}),m=[];m.push(s);var p=function(e){m.push(new Promise(function(t,n){M.a.put("https://petvago.site/api/hotel/edit/roomType/".concat(a.state.roomType[e].roomTypeID),{roomType:a.state.roomType[e].roomType,price:a.state.roomType[e].price,description:a.state.roomType[e].description,roomTypeID:a.state.roomType[e].roomTypeID},{headers:{Authorization:"Bearer ".concat(a.jwt)}}).then(function(e){t(e)})}))};for(var u in a.state.roomType)p(u);var h=function(e){var t=new FormData;t.append("file",l[e].files,l[e].photoName),t.append("roomTypeID",l[e].roomTypeID),t.append("icon",l[e].icon),m.push(new Promise(function(e,n){M.a.post("https://petvago.site/api/hotel/uploadPhoto",t,{headers:{Authorization:"Bearer ".concat(a.jwt)}}).then(function(t){e(t)})}))};for(var d in l)h(d);if(""!==a.state.hotelIconFile){var g=new FormData;g.append("file",a.state.hotelIconFile),g.append("icon",!0),m.push(new Promise(function(e,t){M.a.post("https://petvago.site/api/hotel/uploadBigIcon",g,{headers:{Authorization:"Bearer ".concat(a.jwt)}}).then(function(t){e(t)})}))}Promise.all(m).then(function(){var e=Object(K.a)(U.a.mark(function e(t){var n;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t[0].status){e.next=12;break}a.setState({isSaved:!0}),n=0;case 3:if(!(n<5)){e.next=9;break}return e.next=6,a.minusOne();case 6:n++,e.next=3;break;case 9:document.getElementsByTagName("body")[0].classList.remove("modal-open"),document.getElementsByTagName("body")[0].style="",a.props.history.push("/host-management");case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())},a.handleCancel=function(){a.props.history.push("/host-management")},a.handleWindowBeforeClose=function(e){if(!a.state.isSaved){return(e||window.event).returnValue="Are you sure you want to leave?","Are you sure you want to leave?"}},a.state={userName:"",hotelName:"",hotelTel:"",hotelAddress:"",hotelDistrict:"",hotelDescription:"",hotelIcon:"",hotelIconFile:"",roomType:[],addedButNotUpdatedRoomType:[],vaccineRequirement:[],isHost:!1,editRoomTypeID:"",editRoomTypeContent:[],newPhotoID:-1,isSaved:!1,countDownSecond:5},a.result="",a.rooms="",a.options="",a.vaccines="",a.allVaccine=["Rabies","DHPPiL","FVRCP","KennelCough"],a.allDistricts=["Central and Western","Eastern","Islands","Kowloon City","Kwai Tsing","Kwun Tong","North","Sai Kung","Sha Tin","Sham Shui Po","Southern","Tai Po","Tsuen Wan","Tuen Mun","Wan Chai","Wong Tai Sin","Yau Tsim Mong","Yuen Long"],a.jwt=localStorage.getItem("petvago-token"),a}return Object(S.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.constructEditPage(),window.addEventListener("beforeunload",this.handleWindowBeforeClose)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.handleWindowBeforeClose)}},{key:"minusOne",value:function(){var e=this;return new Promise(function(t,a){setTimeout(function(){e.setState({countDownSecond:e.state.countDownSecond-1}),t()},1e3)})}},{key:"constructEditPage",value:function(){var e=this;this.jwt?M.a.get("https://petvago.site/api/hotel/edit/info",{headers:{Authorization:"Bearer ".concat(this.jwt)}}).then(function(){var t=Object(K.a)(U.a.mark(function t(a){var n,o,r,l,i;return U.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=a.data[0].vaccineRequirement.vaccine,o=n.map(function(e){return"Kennel Cough"===e?"KennelCough":e}),r=[],l=U.a.mark(function e(t){return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("https://petvago.site/api/hotel/edit/roomtype/".concat(a.data[0].rooms[t].roomTypeID)).then(function(e){void 0!==e.data[0]?r.push(Object(p.a)({},a.data[0].rooms[t],{description:e.data[0].description,photos:e.data[0].photos})):r.push(Object(p.a)({},a.data[0].rooms[t],{description:"",photos:[]}))});case 2:case"end":return e.stop()}},e,this)}),t.t0=U.a.keys(a.data[0].rooms);case 5:if((t.t1=t.t0()).done){t.next=10;break}return i=t.t1.value,t.delegateYield(l(i),"t2",8);case 8:t.next=5;break;case 10:return r=r.sort(function(e,t){return e.roomType<t.roomType?-1:e.roomType>t.roomType?1:0}),t.next=13,M.a.get("https://petvago.site/api/hotel/edit/bigicon",{headers:{Authorization:"Bearer ".concat(e.jwt)}}).then(function(t){e.setState({hotelIcon:t.data})});case 13:e.setState({userName:a.data[0].userName,hotelName:a.data[0].name,hotelTel:a.data[0].telephone,hotelAddress:a.data[0].address,hotelDistrict:a.data[0].district,hotelDescription:a.data[0].description,roomType:r,editRoomTypeID:r[0].roomTypeID,editRoomTypeContent:r[0],vaccineRequirement:o,isHost:!0});case 14:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()):console.log("Not yet logged in")}},{key:"render",value:function(){var e=this;if(this.state.isHost){this.rooms=this.state.roomType.map(function(t){return o.a.createElement("tr",{key:t.roomTypeID,id:"roomType".concat(t.roomTypeID)},o.a.createElement("td",null,o.a.createElement("input",{type:"text",name:"roomType",value:t.roomType,onChange:e.handleRoomChange,className:"inputField"})),o.a.createElement("td",null,o.a.createElement("input",{type:"text",name:"price",value:t.price,onChange:e.handleRoomChange,className:"inputField"})),o.a.createElement("td",null,o.a.createElement("input",{type:"text",name:"quantity",value:t.quantity,onChange:e.handleRoomChange,className:"inputField"})),o.a.createElement("td",null,o.a.createElement("div",{className:"icon","data-toggle":"modal","data-target":"#RoomModal",onClick:e.handleEditRoomDetial},o.a.createElement(G.a,{icon:"edit"}))),o.a.createElement("td",null,o.a.createElement("div",{className:"icon","data-toggle":"modal","data-target":"#WarningModal",onClick:e.handleDeleteRoomType},o.a.createElement(G.a,{icon:"times"}))))});var t=0;this.vaccines=this.allVaccine.map(function(a){return e.state.vaccineRequirement.find(function(e){return e===a})?(t++,o.a.createElement("div",{className:"custom-control custom-checkbox",key:t},o.a.createElement("input",{type:"checkbox",name:a,value:a,id:a,className:"custom-control-input",onChange:e.handleChangeCheckbox,checked:!0}),o.a.createElement("label",{className:"custom-control-label",htmlFor:a},a))):(t++,o.a.createElement("div",{className:"custom-control custom-checkbox",key:t},o.a.createElement("input",{type:"checkbox",name:a,value:a,id:a,className:"custom-control-input",onChange:e.handleChangeCheckbox}),o.a.createElement("label",{className:"custom-control-label",htmlFor:a},a)))});var a=0;this.options=this.allDistricts.map(function(t){return e.state.hotelDistrict===t?(a++,o.a.createElement("option",{key:a,value:!0},t)):(a++,o.a.createElement("option",{key:a},t))}),this.result=o.a.createElement("div",null,o.a.createElement("h1",null,"Edit Hotel Info"),o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{id:"FormHeader"},o.a.createElement("table",null,o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("label",null,"Name: ")),o.a.createElement("td",null,o.a.createElement("h3",null,this.state.hotelName),o.a.createElement("br",null))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("label",null,"Tel: ")),o.a.createElement("td",null,o.a.createElement("input",{type:"text",name:"hotelTel",value:this.state.hotelTel,onChange:this.handleInputChange,className:"inputField"}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("label",null,"Address: ")),o.a.createElement("td",null,o.a.createElement("textarea",{type:"text",name:"hotelAddress",value:this.state.hotelAddress,onChange:this.handleInputChange,className:"inputField"}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("label",null,"District: ")),o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{className:"form-control district",id:"sel1",onChange:this.handleChangeDistrict},this.options)))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("label",null,"Description: ")),o.a.createElement("td",null,o.a.createElement("textarea",{type:"text",name:"hotelDescription",value:this.state.hotelDescription,onChange:this.handleInputChange,className:"inputField"}),o.a.createElement("br",null))))),o.a.createElement("div",{id:"HotelIcon"},o.a.createElement("img",{src:""===this.state.hotelIcon?"./image/empty-photo.png":this.state.hotelIcon,alt:"Icon for this hotel: ".concat(this.state.hotelName)}),o.a.createElement(Te,{isEdit:!0,handleEditRoomTypeIconPhoto:this.handleEditBigIconPhoto}))),o.a.createElement("div",{id:"EditHotelRoomType"},o.a.createElement("h4",null,"Room Types:"),o.a.createElement("table",{className:"table table-hover table-bordered"},o.a.createElement("thead",{className:"thead-dark"},o.a.createElement("tr",null,o.a.createElement("th",{className:"th-type"},"Type"),o.a.createElement("th",{className:"th-price"},"Price"),o.a.createElement("th",{className:"th-quantity"},"Quantity"),o.a.createElement("th",{className:"th-edit"},"Edit Detail"),o.a.createElement("th",{className:"th-delete"},"Delete"))),o.a.createElement("tbody",null,this.rooms,o.a.createElement("tr",{className:"table-secondary"},o.a.createElement("td",{colSpan:5},o.a.createElement("div",{className:"plusSquare"},o.a.createElement(G.a,{icon:"plus-square",onClick:this.handleAddRoomType}))))))),o.a.createElement("h4",null,"Vaccine Requirement"),this.vaccines,o.a.createElement("div",{id:"FormFooter"},o.a.createElement("input",{type:"submit",value:"Upadate",className:"btn btn-success btn-lg px-5","data-toggle":"modal","data-target":"#ConfirmationModal"}),o.a.createElement("button",{onClick:this.handleCancel,className:"btn btn-lg px-5"},"Cancel"))))}else null===localStorage.getItem("petvago-token")?this.result=o.a.createElement("h2",null,"Please login as host to edit"):!1===JSON.parse(window.atob(localStorage.getItem("petvago-token").split(".")[1])).isHotel?this.result=o.a.createElement("h2",null,"Please login as host to edit"):this.result=o.a.createElement("h2",null,"Please wait for the page to load");return o.a.createElement("div",{id:"EditPage"},o.a.createElement("div",{className:"bg-image"}),o.a.createElement("section",null,this.result),o.a.createElement(we,{editRoomTypeID:this.state.editRoomTypeID,editRoomTypeContent:this.state.editRoomTypeContent,handleRoomDescription:this.handleRoomDescription,handleAddRoomTypePhoto:this.handleAddRoomTypePhoto,handleDeleteRoomTypePhoto:this.handleDeleteRoomTypePhoto,handleEditRoomTypeIconPhoto:this.handleEditRoomTypeIconPhoto}),o.a.createElement(Se,{editRoomTypeID:this.state.editRoomTypeID,editRoomTypeContent:this.state.editRoomTypeContent,handleConfirmDeleteRoomType:this.handleConfirmDeleteRoomType}),o.a.createElement(xe,{countDownSecond:this.state.countDownSecond}))}}]),t}(o.a.Component);a(314);V.b.add($.A),V.b.add($.o),V.b.add($.n),V.b.add($.B),V.b.add($.g),V.b.add($.x),V.b.add($.c);var Ce=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(T.a)(this,Object(w.a)(t).call(this,e))).timer=function(){var e=(new Date).getTime(),t=new Date(a.state.expiryTime)-e,n=Math.floor(t%36e5/6e4)+" : "+Math.floor(t%6e4/1e3);t>=0?a.setState({time:n}):a.setState({time:"Time is up, please try to book another room"})},a.handleChange=function(e){a.setState(Object(I.a)({},e.target.name,e.target.value))},a.handleVaccineChange=function(e){!0===e.target.checked?a.setState({vaccineCheck:a.state.vaccineCheck+1}):!1===e.target.checked&&a.state.vaccineCheck>0&&a.setState({vaccineCheck:a.state.vaccineCheck-1})},a.handleServiceChange=function(e){if(!0===e.target.checked){var t=a.state.service;t[e.target.name]=1;var n=Number(e.target.value),o=new Promise(function(e,o){a.setState({service:t,servicePrice:a.state.servicePrice+n}),e(n)}),r=a.state.totalPrice;o.then(function(e){var t=r+e;a.setState({totalPrice:t})})}else{var l=a.state.service;delete l[e.target.name];var i=Number(e.target.value),c=new Promise(function(e,t){a.setState({service:l,servicePrice:a.state.servicePrice-i}),e(i)}),s=a.state.totalPrice;c.then(function(e){var t=s-e;a.setState({totalPrice:t})})}},a.handleSubmit=function(e){e.preventDefault(),clearInterval(a.timerID),a.state.vaccineRequirement&&a.state.vaccineRequirement.vaccine.length!==a.state.vaccineCheck?(console.log("not ok"),a.setState({vaccineError:o.a.createElement("div",{style:{color:"#da3846"}},"Make sure you pet has received all the vaccine."),vaccineClass:"vaccine-not-ok"})):a.setState({vaccineError:null,vaccineClass:null});var t=Number(a.state.ownerPhone),n=Number(a.state.petWeight);if(console.log("222",t),a.state.ownerName&&a.state.ownerPhone&&!1===isNaN(t)&&a.state.petName&&a.state.petType&&a.state.petWeight&&!1===isNaN(n)&&a.state.vaccineCheck===a.state.vaccineRequirement.vaccine.length){var r=localStorage.getItem("petvago-token");r||a.props.history.push("/login");var l=new Date,i={id:a.state.bookingID,ownerName:a.state.ownerName,ownerPhone:t,petName:a.state.petName,petType:a.state.petType,petWeight:n,vaccineRequirement:a.state.vaccineRequirement,service:a.state.service,totalPrice:a.state.totalPrice,orderDate:l},c=a.props.history;M.a.put("https://petvago.site/api/booking/update-booking",i,{headers:{Authorization:"Bearer ".concat(r)}}).then(function(e){c.push({pathname:"/confirmation",state:{bookingID:i.id}})}).catch(function(e){return console.log(e)})}else alert("Make sure all fields are filled in and in correct format.")},a.renderVaccine=function(){return a.state.vaccineRequirement?a.state.vaccineRequirement.vaccine.map(function(e){return o.a.createElement("div",{key:e,className:"form-check",style:{paddingTop:"5px",paddingBottom:"5px",marginLeft:"30px"}},o.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"vaccine",value:e,style:{display:"inline"},onChange:a.handleVaccineChange}),o.a.createElement("label",{className:"form-check-label"},e))}):o.a.createElement("div",null,o.a.createElement("label",null," No vaccine is required :)"))},a.state={expiryTime:a.props.expiryTime,bookingID:a.props.bookingID,hotelID:a.props.hotel,hotelName:a.props.hotelName,startDate:a.props.startDate,endDate:a.props.endDate,roomTypeID:a.props.roomTypeID,roomType:a.props.roomType,roomPrice:a.props.roomPrice,duration:0,hotelPrice:0,servicePrice:0,ownerName:null,ownerPhone:null,petName:null,petWeight:null,petType:null,vaccineRequirement:a.props.vaccineRequirement,service:{},totalPrice:0,loading:!1,vaccineCheck:null,vaccineError:null,vaccineClass:null,time:"",hotelIcon:a.props.hotelIcon},a}return Object(S.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.bookingID||this.props.history.push("/"),new Promise(function(t,a){var n=(new Date(e.state.endDate)-new Date(e.state.startDate))/864e5;e.setState({duration:n}),t()}).then(function(){var t=e.state.duration*e.state.roomPrice;e.setState({hotelPrice:t,totalPrice:t})}),this.timeID=setInterval(function(){return e.timer()},1e3);var t=new Date(this.state.startDate),a=t.getDate(),n=t.getMonth()+1,o=t.getFullYear();t=a+"/"+n+"/"+o;var r=new Date(this.state.endDate),l=r.getDate(),i=r.getMonth()+1,c=r.getFullYear();r=l+"/"+i+"/"+c,this.setState({startDate:t,endDate:r})}},{key:"render",value:function(){return o.a.createElement("div",{className:"booking"},o.a.createElement("div",{className:"booking-form"},o.a.createElement("h1",{style:{marginBottom:"20px"}},"Basic information"),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-sm-4 col-form-label"}," ",o.a.createElement(G.a,{icon:"user",style:{marginRight:"10px"}}),"Onwer's name"),o.a.createElement("div",{className:"col-sm-8"},o.a.createElement("input",{name:"ownerName",type:"text",className:"form-control",onChange:this.handleChange}))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-sm-4 col-form-label"},o.a.createElement(G.a,{icon:"phone",style:{marginRight:"10px"}}),"Phone number"),o.a.createElement("div",{className:"col-sm-8"},o.a.createElement("input",{name:"ownerPhone",type:"text",className:"form-control",onChange:this.handleChange}))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-sm-4 col-form-label"},o.a.createElement(G.a,{icon:"paw",style:{marginRight:"10px"}}),"Pet's name"),o.a.createElement("div",{className:"col-sm-8"},o.a.createElement("input",{name:"petName",type:"text",className:"form-control",onChange:this.handleChange}))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-sm-4 col-form-label"},o.a.createElement(G.a,{icon:"weight",style:{marginRight:"10px"}}),"Pet weight"),o.a.createElement("div",{className:"col-sm-8"},o.a.createElement("input",{name:"petWeight",type:"text",className:"form-control",onChange:this.handleChange}))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-sm-4 col-form-label"},o.a.createElement(G.a,{icon:"dog",style:{marginRight:"10px"}}),"Pet type"),o.a.createElement("div",{className:"col-sm-8"},o.a.createElement("select",{onChange:this.handleChange,name:"petType",className:"form-control"},o.a.createElement("option",{default:!0},"Choose a pet type"),o.a.createElement("option",{value:"dog"},"Dog"),o.a.createElement("option",{value:"cat"},"Cat")))),o.a.createElement("p",{style:{marginBottom:"10px"}}," ",o.a.createElement(G.a,{icon:"syringe",style:{marginRight:"10px"}}),"Has your pet received these vaccines?"),o.a.createElement("div",{className:this.state.vaccineClass},this.renderVaccine()),this.state.vaccineError,o.a.createElement("div",{className:"booking-line",style:{marginTop:"30px"}}),o.a.createElement("h1",{style:{marginBottom:"10px"}},o.a.createElement(G.a,{icon:"bath",style:{marginRight:"10px"}}),"Service "),o.a.createElement("div",{className:"form-check",style:{paddingTop:"20px"}},o.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"Bath",value:"350",style:{display:"inline"},onChange:this.handleServiceChange}),o.a.createElement("label",{className:"form-check-label"},"Bath  +$350")),o.a.createElement("div",{className:"form-check",style:{paddingTop:"20px"}},o.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"Obedience Training",value:"500",style:{display:"inline"},onChange:this.handleServiceChange}),o.a.createElement("label",{className:"form-check-label"},"Obedience Training  +$500")),o.a.createElement("div",{className:"form-check",style:{paddingTop:"20px"}},o.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"Swimming class",value:"200",style:{display:"inline"},onChange:this.handleServiceChange}),o.a.createElement("label",{className:"form-check-label"},"Swimming class  +$200")),o.a.createElement("button",{className:" booking-button",onClick:this.handleSubmit},"Submit"),o.a.createElement("div",{className:"count-down"},o.a.createElement("div",null,o.a.createElement("p",null," We will hold this room for : ")),o.a.createElement("div",null,o.a.createElement("h5",null,this.state.time)))),o.a.createElement("div",{className:"booking-box"},o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("h1",{style:{width:"50%",fontWeight:"bold"}},this.state.hotelName),o.a.createElement("img",{style:{width:"50%"},src:this.state.hotelIcon,alt:"hotel",className:"booking-icon"})),o.a.createElement("div",{className:"booking-line"}),o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},o.a.createElement("p",{style:{fontWeight:"bold"}},"Date: "),o.a.createElement("p",null,this.state.startDate," - ",this.state.endDate)),o.a.createElement("div",{className:"booking-line"}),o.a.createElement("p",{style:{marginBottom:"10px",fontWeight:"bold"}},"Price"),o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"}},o.a.createElement("p",null,this.state.roomType," x ",this.state.duration," days : "),o.a.createElement("p",null,"$",this.state.hotelPrice)),o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"15px"}},o.a.createElement("p",null,"Service : "),o.a.createElement("p",null,"$",this.state.servicePrice)),o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"15px"}},o.a.createElement("p",{style:{fontWeight:"bold"}},"Total price : "),o.a.createElement("p",null,"$",this.state.totalPrice))))}}]),t}(n.Component),Ie=Object(i.b)(function(e){return{hotel:e.hotel.hotelChosenforBooking,expiryTime:e.hotel.expiryTime,startDate:e.hotel.bookingStartDate,endDate:e.hotel.bookingEndDate,bookingID:e.hotel.bookingID,hotelName:e.hotel.hotelName,roomType:e.hotel.roomType,roomTypeID:e.hotel.roomTypeID,roomPrice:e.hotel.roomPrice,vaccineRequirement:e.hotel.vaccineRequirement,hotelIcon:e.hotel.hotelIcon}})(Object(B.a)(Ce)),Oe=a(67);V.b.add($.s),V.b.add($.e),V.b.add($.u);var je=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(T.a)(this,Object(w.a)(t).call(this,e))).print=function(){window.print()},a.done=function(){a.props.history.push("/")},a.state={bookingID:null,orderDate:null,ownerName:null,hotelName:null,ownerPhone:null,petName:null,petWeight:null,petType:null,vaccineRequirement:null,service:null,totalPrice:null,startDate:null,endDate:null,roomType:null,loading:!1},a}return Object(S.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(console.log(!this.props.location.state),!0===!this.props.location.state)console.log("123"),this.props.history.push("/");else if(!1===!this.props.location.state){new Promise(function(t,a){e.setState({bookingID:e.props.location.state.bookingID}),t()}).then(function(){var t=localStorage.getItem("petvago-token");t||e.props.history.push("/login"),M.a.get("https://petvago.site/api/booking/info/".concat(e.state.bookingID),{headers:{Authorization:"Bearer ".concat(t)}}).then(function(t){for(var a=t.data[0],n=a.vaccineRequirement.vaccine.join(", "),o=a.service,r=[],l=Object.entries(o),i=0;i<l.length;i++){var c=l[i],s=Object(Oe.a)(c,2),m=s[0],p=s[1];r.push(m+" ("+p+") ")}r=r.join(", ");var u=new Date(a.startDate),h=u.getDate(),d=u.getMonth()+1,g=u.getFullYear();u=h+"/"+d+"/"+g;var v=new Date(a.endDate),f=v.getDate(),b=v.getMonth()+1,E=v.getFullYear();v=f+"/"+b+"/"+E;var y=new Date(a.orderDate),D=y.getDate(),k=y.getMonth()+1,N=y.getFullYear();y=D+"/"+k+"/"+N,e.setState({orderDate:y,ownerName:a.ownerName,hotelName:a.hotelName,ownerPhone:a.ownerPhone,petName:a.petName,petWeight:a.petWeight,petType:a.petType,vaccineRequirement:n,service:r,totalPrice:a.totalPrice,startDate:u,endDate:v,roomType:a.roomType})}).catch(function(e){return console.log(e)})})}}},{key:"render",value:function(){return o.a.createElement("div",{className:"confirmation"},o.a.createElement("h1",{style:{textAlign:"center"}},"Your order is cofirmed. ",o.a.createElement(G.a,{icon:"check-circle",style:{marginLeft:"10px",color:"#50b5a9"}})),o.a.createElement("div",{className:"confirm-box"},o.a.createElement("p",{className:"confrim-title"},"Your booking ",o.a.createElement(G.a,{icon:"receipt",style:{marginLeft:"10px"}})),o.a.createElement("p",null," Reference number: ",this.state.bookingID),o.a.createElement("p",null," Order date: ",this.state.orderDate),o.a.createElement("p",{style:{marginTop:"30px"}}," Owner's name: ",this.state.ownerName),o.a.createElement("p",null," Phone number: ",this.state.ownerPhone),o.a.createElement("p",null," Pet's name: ",this.state.petName),o.a.createElement("p",null," Pet's weight: ",this.state.petWeight),o.a.createElement("p",null," Pet type: ",this.state.petType),o.a.createElement("p",null," Vaccine requirement: ",this.state.vaccineRequirement),o.a.createElement("p",{style:{marginTop:"30px"}}," Hotel name: ",this.state.hotelName),o.a.createElement("p",null," Room type: ",this.state.roomType),o.a.createElement("p",null," Service: ",this.state.service),o.a.createElement("p",null," Date: ",this.state.startDate," - ",this.state.endDate),o.a.createElement("p",null," Price: $",this.state.totalPrice),o.a.createElement("div",{className:"confirm-button"},o.a.createElement("button",{onClick:this.print,className:"btn booking-button"},o.a.createElement(G.a,{icon:"print",style:{marginRight:"10px",color:"#fff"}})," Print"),o.a.createElement("button",{onClick:this.done,className:"btn booking-button"}," Done"))))}}]),t}(n.Component),Pe=Object(B.a)(je);V.b.add($.A),V.b.add($.o),V.b.add($.j),V.b.add($.k),V.b.add($.d),V.b.add($.u),V.b.add($.y),V.b.add($.f);var Me=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(T.a)(this,Object(w.a)(t).call(this,e))).getReview=function(){var e=localStorage.getItem("petvago-token");M.a.get("https://petvago.site/api/review/user",{headers:{Authorization:"Bearer ".concat(e)}}).then(function(e){a.setState({reviewArray:e.data})}).catch(function(e){return console.log(e)})},a.componentWillUpdate=function(e,t){t.pastBooking!==a.state.pastBooking&&a.renderPast(),t.upcomingBooking!==a.state.upcomingBooking&&a.renderUpcoming()},a.handleToggle=function(e,t){return new Promise(function(n,o){a.setState({modal:e,bookingID:t}),n()}).then(function(){a.renderModal()})},a.contactHotel=function(e){var t=localStorage.getItem("petvago-token"),n=a.props.history;M.a.post("https://petvago.site/api/chatroom/addchat",{hotelID:e},{headers:{Authorization:"Bearer ".concat(t)}}).then(function(e){console.log("contact",e.data.conversationID),n.push({pathname:"/chatroom",state:{conversationID:e.data.conversationID}})}).catch(function(e){return console.log(e)})},a.renderModal=function(){if(a.state.bookingID){var e=localStorage.getItem("petvago-token");M.a.get("https://petvago.site/api/booking/info/".concat(a.state.bookingID),{headers:{Authorization:"Bearer ".concat(e)}}).then(function(e){for(var t=e.data[0],n=t.vaccineRequirement.vaccine.join(", "),o=t.service,r=[],l=Object.entries(o),i=0;i<l.length;i++){var c=l[i],s=Object(Oe.a)(c,2),m=s[0],p=s[1];r.push(m+" ("+p+") ")}r=r.join(", ");var u=new Date(t.startDate),h=u.getDate(),d=u.getMonth()+1,g=u.getFullYear();u=h+"/"+d+"/"+g;var v=new Date(t.endDate),f=v.getDate(),b=v.getMonth()+1,E=v.getFullYear();v=f+"/"+b+"/"+E;var y=null;if(t.orderDate){var D=(y=new Date(t.orderDate)).getDate(),k=y.getMonth()+1,N=y.getFullYear();y=D+"/"+k+"/"+N}else y=null;a.setState({orderDate:y,hotelID:t.hotelID,ownerName:t.ownerName,hotelName:t.hotelName,ownerPhone:t.ownerPhone,petName:t.petName,petWeight:t.petWeight,petType:t.petType,vaccineRequirement:n,service:r,totalPrice:t.totalPrice,startDate:u,endDate:v,roomType:t.roomType})}).then(function(){if(a.state.modal&&"upcoming"===a.state.modal)a.setState({modalBody:o.a.createElement("div",null,o.a.createElement("div",{className:"modal-body mybooking-modal-body"},o.a.createElement("p",null," Reference number: ",a.state.bookingID),o.a.createElement("p",null," Order date: ",null!=a.state.orderDate?a.state.orderDate:"-"),o.a.createElement("p",{style:{marginTop:"30px"}}," Owner's name: ",a.state.ownerName),o.a.createElement("p",null," Phone number: ",a.state.ownerPhone),o.a.createElement("p",null," Pet's name: ",a.state.petName),o.a.createElement("p",null," Pet's weight: ",a.state.petWeight),o.a.createElement("p",null," Pet type: ",a.state.petType),o.a.createElement("p",null," Vaccine requirement: ",a.state.vaccineRequirement),o.a.createElement("p",{style:{marginTop:"30px"}}," Hotel name: ",a.state.hotelName),o.a.createElement("p",null," Room type: ",a.state.roomType),o.a.createElement("p",null," Service: ",a.state.service),o.a.createElement("p",null," Date: ",a.state.startDate," - ",a.state.endDate),o.a.createElement("p",null," Price: $",a.state.totalPrice)),o.a.createElement("div",{className:"modal-footer"},o.a.createElement("button",{onClick:function(){return a.contactHotel(a.state.hotelID)},type:"button",className:"btn mybooking-button","data-dismiss":"modal"},o.a.createElement(G.a,{icon:"comments",style:{marginRight:"10px",color:"#fff"}}),"Contact Hotel")))});else if(a.state.modal&&"past"===a.state.modal){var e=a.state.reviewArray.filter(function(e){return e.bookingID===a.state.bookingID}),t=function(e){return new Promise(function(t,n){a.setState({rating:e}),t()}).then(function(){n()})},n=function(){0===e.length?a.setState({modalBody:o.a.createElement("div",null,o.a.createElement("div",{className:"modal-body mybooking-modal-body"},o.a.createElement("p",null," Reference number: ",a.state.bookingID),o.a.createElement("p",null," Order date: ",null!=a.state.orderDate?a.state.orderDate:"-"),o.a.createElement("p",{style:{marginTop:"30px"}}," Owner's name: ",a.state.ownerName),o.a.createElement("p",null," Phone number: ",a.state.ownerPhone),o.a.createElement("p",null," Pet's name: ",a.state.petName),o.a.createElement("p",null," Pet's weight: ",a.state.petWeight),o.a.createElement("p",null," Pet type: ",a.state.petType),o.a.createElement("p",null," Vaccine requirement: ",a.state.vaccineRequirement),o.a.createElement("p",{style:{marginTop:"30px"}}," Hotel name: ",a.state.hotelName),o.a.createElement("p",null," Room type: ",a.state.roomType),o.a.createElement("p",null," Service: ",a.state.service),o.a.createElement("p",null," Date: ",a.state.startDate," - ",a.state.endDate),o.a.createElement("p",null," Price: $",a.state.totalPrice),o.a.createElement("div",{className:"booking-line",style:{marginBottom:"20px"}}),o.a.createElement("p",{style:{marginTop:"20px",marginBottom:"10px",fontSize:"20px"}},o.a.createElement(G.a,{icon:"thumbs-up",style:{marginRight:"10px",color:"#50b5a9"}}),"Write a review"),o.a.createElement(ye.a,{rating:a.state.rating,widgetRatedColors:"rgb(252, 184, 40)",widgetDimensions:"25px",changeRating:t},o.a.createElement(ye.a.Widget,{widgetHoverColor:"rgb(252, 184, 40)"}),o.a.createElement(ye.a.Widget,{widgetHoverColor:"rgb(252, 184, 40)"}),o.a.createElement(ye.a.Widget,{widgetHoverColor:"rgb(252, 184, 40)"}),o.a.createElement(ye.a.Widget,{widgetHoverColor:"rgb(252, 184, 40)"}),o.a.createElement(ye.a.Widget,{widgetHoverColor:"rgb(252, 184, 40)"})),o.a.createElement("div",{className:"form-group",style:{marginTop:"10px"}},o.a.createElement("textarea",{className:"form-control",rows:"3",value:a.state.review,onChange:a.writeReview})),o.a.createElement("button",{type:"button",className:"btn mybooking-button","data-dismiss":"modal",onClick:a.submitReview},"Submit")))}):a.setState({modalBody:o.a.createElement("div",null,o.a.createElement("div",{className:"modal-body mybooking-modal-body"},o.a.createElement("p",null," Reference number: ",a.state.bookingID),o.a.createElement("p",null," Order date: ",null!=a.state.orderDate?a.state.orderDate:"-"),o.a.createElement("p",{style:{marginTop:"30px"}}," Owner's name: ",a.state.ownerName),o.a.createElement("p",null," Phone number: ",a.state.ownerPhone),o.a.createElement("p",null," Pet's name: ",a.state.petName),o.a.createElement("p",null," Pet's weight: ",a.state.petWeight),o.a.createElement("p",null," Pet type: ",a.state.petType),o.a.createElement("p",null," Vaccine requirement: ",a.state.vaccineRequirement),o.a.createElement("p",{style:{marginTop:"30px"}}," Hotel name: ",a.state.hotelName),o.a.createElement("p",null," Room type: ",a.state.roomType),o.a.createElement("p",null," Service: ",a.state.service),o.a.createElement("p",null," Date: ",a.state.startDate," - ",a.state.endDate),o.a.createElement("p",null," Price: $",a.state.totalPrice),o.a.createElement("div",{className:"booking-line",style:{marginBottom:"20px"}}),o.a.createElement("p",{style:{marginTop:"20px",marginBottom:"10px",fontSize:"20px"}},o.a.createElement(G.a,{icon:"thumbs-up",style:{marginRight:"10px",color:"#50b5a9"}}),"Your review"),o.a.createElement(ye.a,{rating:e[0].rating,widgetRatedColors:"rgb(252, 184, 40)",widgetDimensions:"25px"},o.a.createElement(ye.a.Widget,null),o.a.createElement(ye.a.Widget,null),o.a.createElement(ye.a.Widget,null),o.a.createElement(ye.a.Widget,null),o.a.createElement(ye.a.Widget,null)),o.a.createElement("p",{style:{marginTop:"10px",marginBottom:"20px"}},e[0].comment)))})};n()}}).catch(function(e){return console.log(e)})}},a.writeReview=function(e){a.setState({review:e.target.value})},a.submitReview=function(e){a.setState({rating:0,review:""});var t={hotelID:a.state.hotelID,bookingID:a.state.bookingID,rating:a.state.rating,comment:a.state.review},n=localStorage.getItem("petvago-token"),o=a.getReview;M.a.post("https://petvago.site/api/review",t,{headers:{Authorization:"Bearer ".concat(n)}}).then(function(e){o()}).catch(function(e){return console.log(e)})},a.renderPast=function(){if(a.state.pastBooking){var e=a.state.pastBooking;return e.sort(function(e,t){return e.startDate<t.startDate?1:e.startDate>t.startDate?-1:0}),e.map(function(e){var t=new Date(e.startDate),n=t.getDate(),r=t.getMonth()+1,l=t.getFullYear();t=n+"/"+r+"/"+l;var i=new Date(e.endDate),c=i.getDate(),s=i.getMonth()+1,m=i.getFullYear();return i=c+"/"+s+"/"+m,o.a.createElement("div",{key:e.bookingID,className:"mybooking-each-box","data-toggle":"modal","data-target":"#exampleModal",onClick:function(){return a.handleToggle("past",e.bookingID)}},o.a.createElement("img",{className:"mybooking-icon",key:e.id,src:e.hotelIconPath,alt:"hotel"}),o.a.createElement("div",{className:"mybooking-each-box-text",style:{display:"flex"}},o.a.createElement("div",null,o.a.createElement(G.a,{icon:"hotel",style:{marginRight:"12px",marginLeft:"2px",color:"#50b5a9"}})," "),o.a.createElement("div",null,e.hotelName)),o.a.createElement("div",{className:"mybooking-each-box-text",style:{display:"flex"}},o.a.createElement("div",null,o.a.createElement(G.a,{icon:"calendar-alt",style:{marginRight:"12px",marginLeft:"2px",color:"#50b5a9"}})," "),o.a.createElement("div",null,t," - ",i)))})}},a.renderUpcoming=function(){if(a.state.upcomingBooking){var e=a.state.upcomingBooking;return e.sort(function(e,t){return e.startDate<t.startDate?-1:e.startDate>t.startDate?1:0}),e.map(function(e){var t=new Date(e.startDate),n=t.getDate(),r=t.getMonth()+1,l=t.getFullYear();t=n+"/"+r+"/"+l;var i=new Date(e.endDate),c=i.getDate(),s=i.getMonth()+1,m=i.getFullYear();return i=c+"/"+s+"/"+m,o.a.createElement("div",{key:e.bookingID,className:"mybooking-each-box","data-toggle":"modal","data-target":"#exampleModal",onClick:function(){return a.handleToggle("upcoming",e.bookingID)}},o.a.createElement("img",{className:"mybooking-icon",key:e.id,src:e.hotelIconPath,alt:"hotel"}),o.a.createElement("div",{className:"mybooking-each-box-text",style:{display:"flex"}},o.a.createElement("div",null,o.a.createElement(G.a,{icon:"hotel",style:{marginRight:"12px",marginLeft:"2px",color:"#50b5a9"}})," "),o.a.createElement("div",null,e.hotelName)),o.a.createElement("div",{className:"mybooking-each-box-text",style:{display:"flex"}},o.a.createElement("div",null,o.a.createElement(G.a,{icon:"calendar-alt",style:{marginRight:"12px",marginLeft:"2px",color:"#50b5a9"}})," "),o.a.createElement("div",null,t," - ",i)))})}},a.state={username:null,telephone:null,email:null,pastBooking:null,upcomingBooking:null,modal:null,bookingID:null,orderDate:null,ownerName:null,hotelName:null,ownerPhone:null,petName:null,petWeight:null,petType:null,hotelID:null,vaccineRequirement:null,service:null,totalPrice:null,startDate:null,endDate:null,roomType:null,modalBody:null,review:null,rating:0,reviewArray:null},a}return Object(S.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("petvago-token");t||this.props.history.push("/login"),M.a.get("https://petvago.site/api/userprofile",{headers:{Authorization:"Bearer ".concat(t)}}).then(function(t){e.setState({username:t.data[0].username,telephone:t.data[0].telephone,email:t.data[0].email})}).catch(function(e){return console.log(e)}),M.a.get("https://petvago.site/api/booking/user",{headers:{Authorization:"Bearer ".concat(t)}}).then(function(t){console.log("result",t),e.setState({pastBooking:t.data[0].pastBooking,upcomingBooking:t.data[0].upcomingBooking})}).catch(function(e){return console.log(e)}),this.getReview()}},{key:"render",value:function(){return o.a.createElement("div",{className:"myBooking "},o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-md-8 col-12"},o.a.createElement("h1",{style:{marginBottom:"20px"}},"Upcoming Booking"),o.a.createElement("div",{className:"myBooking-wrap"},this.renderUpcoming()),o.a.createElement("div",{className:"booking-line",style:{marginBottom:"20px"}}),o.a.createElement("h1",{style:{marginBottom:"20px",marginTop:"20px"}},"History"),o.a.createElement("div",{className:"myBooking-wrap"},this.renderPast())),o.a.createElement("div",{className:"col-md-4 myBooking-info col-12"},o.a.createElement("h1",{style:{marginBottom:"20px",marginTop:"20px"}}," My information"),o.a.createElement("div",{className:"booking-line",style:{marginBottom:"20px"}}),o.a.createElement("p",null,o.a.createElement(G.a,{icon:"user",style:{marginRight:"10px",color:"#50b5a9"}})," ",this.state.username),o.a.createElement("p",null,o.a.createElement(G.a,{icon:"envelope",style:{marginRight:"10px",color:"#50b5a9"}})," ",this.state.email),o.a.createElement("p",null,o.a.createElement(G.a,{icon:"phone",style:{marginRight:"10px",color:"#50b5a9"}}),this.state.telephone)),o.a.createElement("div",{className:"modal fade",id:"exampleModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("div",{className:"modal-header"},o.a.createElement("h5",{className:"modal-title mybooking-modal-title",id:"exampleModalLabel"},o.a.createElement(G.a,{icon:"receipt",style:{marginRight:"10px",color:"#50b5a9"}}),"Booking detail"),o.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},o.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),this.state.modalBody)))))}}]),t}(n.Component),Be=Object(B.a)(Me),Ae=(a(316),a(318),function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(T.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(o)))).districts=["Central and Western","Eastern","Islands","Kowloon City","Kwai Tsing","Kwun Tong","North","Sai Kung","Sha Tin","Sham Shui Po","Southern","Tai Po","Tsuen Wan","Tuen Mun","Wan Chai","Wong Tai Sin","Yau Tsim Mong","Yuen Long"],a.districtChange=function(e){e.preventDefault(),a.props.SearchResult.district=e.target.value,M.a.post("https://petvago.site/api/search/",{startDate:a.props.SearchResult.startDate,endDate:a.props.SearchResult.endDate,district:a.props.SearchResult.district||"all",petType:a.props.SearchResult.petType||"all"}).then(function(e){null===e?console.log("you are living failure"):(console.log(e.data),a.props.afterSearch(e.data)),a.props.onSearch(a.props.SearchResult)}).catch(function(e){console.log(e)})},a.petTypeChange=function(e){e.preventDefault(),a.props.SearchResult.petType=e.target.value,console.log(a.props.SearchResult.petType),M.a.post("https://petvago.site/api/search/",{startDate:a.props.SearchResult.startDate,endDate:a.props.SearchResult.endDate,district:a.props.SearchResult.district||"all",petType:a.props.SearchResult.petType||"all"}).then(function(e){null===e?console.log("you are living failure"):(console.log(e.data),a.props.afterSearch(e.data)),a.props.onSearch(a.props.SearchResult)}).catch(function(e){console.log(e)})},a.dateChange=function(e,t){e.preventDefault(),console.log(a.props.SearchResult.startDate),console.log(t.startDate._d),a.props.SearchResult.startDate=h()(new Date(t.startDate._d)).format("YYYY-MM-DD"),a.props.SearchResult.endDate=h()(new Date(t.endDate._d)).format("YYYY-MM-DD"),M.a.post("https://petvago.site/api/search/",{startDate:a.props.SearchResult.startDate,endDate:a.props.SearchResult.endDate,district:a.props.SearchResult.district||"all",petType:a.props.SearchResult.petType||"all"}).then(function(e){null===e?console.log("you are living failure"):(console.log(e.data),a.props.afterSearch(e.data)),a.props.onSearch(a.props.SearchResult)}).catch(function(e){console.log(e)})},a}return Object(S.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=(new Date).toISOString().split("T")[0],t=new Date;return t.setDate(t.getDate()+84),t=t.toISOString().split("T")[0],o.a.createElement("div",{className:"filter"},o.a.createElement("div",{className:"filter-box"},o.a.createElement(Q.a,{minDate:h()(new Date(e)),maxDate:h()(new Date(t)),startDate:h()(new Date(this.props.SearchResult.startDate||e)),endDate:h()(new Date(this.props.SearchResult.endDate||e)),onApply:this.dateChange,props:this.props},o.a.createElement("button",{className:"filterDate"},"Date : ",h()(this.props.SearchResult.startDate).format("l"),"- ",h()(this.props.SearchResult.endDate).format("l")," ")),o.a.createElement("div",{className:"filterDistrict"},o.a.createElement("select",{name:"district",defaultValue:this.props.SearchResult.district||"all",onChange:this.districtChange,required:!0},o.a.createElement("option",{value:"all",disabled:!0,selected:!0,hidden:!0},"District"),o.a.createElement("option",{value:"all"},"- All district -"),this.districts.map(function(e,t){return o.a.createElement("option",{value:e,key:t},e)}))),o.a.createElement("div",{className:"filterPet"},o.a.createElement("select",{name:"petType",defaultValue:this.props.SearchResult.petType||"all",onChange:this.petTypeChange,required:!0},o.a.createElement("option",{value:"all",disabled:!0,hidden:!0},"Type of Pet"),o.a.createElement("option",{value:"all"},"- All pet type -"),o.a.createElement("option",{value:"dog"},"Dog"),o.a.createElement("option",{value:"cat"},"Cat")))))}}]),t}(o.a.Component)),Le=Object(i.b)(function(e){return{SearchResult:e.search}},function(e){return{onSearch:function(t){return e({type:"SEARCHHOTEL",history:t})},afterSearch:function(t){return e({type:"SEARCHRESULT",result:t})}}})(Ae);a(320);V.b.add($.a),V.b.add($.b),V.b.add($.h),V.b.add($.w);var Ye=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(T.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(o)))).onSort=function(e){console.log(e),a.props.SortToReducer(e)},a}return Object(S.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e,t,a,n=this;return e="NameAscending"===this.props.SearchResult.sortPeference?o.a.createElement("button",{className:"btn sort-button",style:{color:"#fff",backgroundColor:"#50b5a9"},onClick:function(){return n.onSort("NameDescending")}},"Name ",o.a.createElement(G.a,{icon:"angle-up",style:{marginLeft:"5px"}})," "):"NameDescending"===this.props.SearchResult.sortPeference?o.a.createElement("button",{className:"btn sort-button",style:{color:"#fff",backgroundColor:"#50b5a9"},onClick:function(){return n.onSort("NameAscending")}},"Name ",o.a.createElement(G.a,{icon:"angle-down",style:{marginLeft:"5px"}})):o.a.createElement("button",{className:"btn sort-button-grey sort-button",onClick:function(){return n.onSort("NameAscending")}},"Name"),t="PriceAscending"===this.props.SearchResult.sortPeference?o.a.createElement("button",{className:"btn sort-button",style:{color:"#fff",backgroundColor:"#50b5a9"},onClick:function(){return n.onSort("PriceDescending")}},o.a.createElement(G.a,{icon:"dollar-sign",style:{marginRight:"5px"}}),"Price ",o.a.createElement(G.a,{icon:"angle-up",style:{marginLeft:"5px"}})):"PriceDescending"===this.props.SearchResult.sortPeference?o.a.createElement("button",{className:"btn sort-button",style:{color:"#fff",backgroundColor:"#50b5a9"},onClick:function(){return n.onSort("PriceAscending")}},o.a.createElement(G.a,{icon:"dollar-sign",style:{marginRight:"5px"}}),"Price ",o.a.createElement(G.a,{icon:"angle-down",style:{marginLeft:"5px"}})):o.a.createElement("button",{className:"btn sort-button-grey sort-button",onClick:function(){return n.onSort("PriceAscending")}},o.a.createElement(G.a,{icon:"dollar-sign",style:{marginRight:"5px",color:"#50b5a9"}}),"Price"),a="RatingAscending"===this.props.SearchResult.sortPeference?o.a.createElement("button",{className:"btn sort-button",style:{color:"#fff",backgroundColor:"#50b5a9"},onClick:function(){return n.onSort("RatingDescending")}},o.a.createElement(G.a,{icon:"star",style:{marginRight:"5px"}}),"Rating ",o.a.createElement(G.a,{icon:"angle-up",style:{marginLeft:"5px"}})," "):"RatingDescending"===this.props.SearchResult.sortPeference?o.a.createElement("button",{className:"btn sort-button ",style:{color:"#fff",backgroundColor:"#50b5a9"},onClick:function(){return n.onSort("RatingAscending")}},o.a.createElement(G.a,{icon:"star",style:{marginRight:"5px"}}),"Rating ",o.a.createElement(G.a,{icon:"angle-down",style:{marginLeft:"5px"}})):o.a.createElement("button",{className:"btn sort-button-grey sort-button",onClick:function(){return n.onSort("RatingDescending")}},o.a.createElement(G.a,{icon:"star",style:{marginRight:"5px",color:"#50b5a9"}}),"Rating"),o.a.createElement("div",{className:"sort"},e,t,a)}}]),t}(o.a.Component),We=Object(i.b)(function(e){return{SearchResult:e.search}},function(e){return{SortToReducer:function(t){return e({type:"SORTRESULT",sort:t})}}})(Ye),He=a(85),Fe=a.n(He),qe=function(e){function t(){return Object(k.a)(this,t),Object(T.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return console.log(typeof Number(this.props.rating)+this.props.rating),o.a.createElement(ye.a,{rating:Number(this.props.rating),widgetDimensions:"18px",widgetSpacings:"2px"},o.a.createElement(ye.a.Widget,{widgetRatedColor:"rgb(252, 184, 40)"}),o.a.createElement(ye.a.Widget,{widgetRatedColor:"rgb(252, 184, 40)"}),o.a.createElement(ye.a.Widget,{widgetRatedColor:"rgb(252, 184, 40)"}),o.a.createElement(ye.a.Widget,{widgetRatedColor:"rgb(252, 184, 40)"}),o.a.createElement(ye.a.Widget,{widgetRatedColor:"rgb(252, 184, 40)"}))}}]),t}(o.a.Component),ze=function(e){function t(){return Object(k.a)(this,t),Object(T.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(N.a)(t,[{key:"onClickHotelInfo",value:function(e){console.log(Number(e.target.parentElement.id.replace("hotel-result-id-","")));var t=Number(e.target.parentElement.id.replace("hotel-result-id-",""));this.props.changeHotelId(t),this.props.history.push("./hotel/")}},{key:"render",value:function(){var e=this;this.props.SearchAuthenticate||this.props.history.push("./");for(var t=[],a=Fe.a.toArray(this.props.SearchResult),n=0;n<a.length;n++)"searchResult"===a[n].key&&(t=Fe.a.toArray(a[n].value));t=t.map(function(e){return e.value}).sort(function(e,t){return e.hotelID===t.hotelID?e.price<t.price?-1:e.price>t.price?1:0:0});var r,l,i,c=(l="hotelID",(r=t).map(function(e){return e[l]}).map(function(e,t,a){return a.indexOf(e)===t&&t}).filter(function(e){return r[e]}).map(function(e){return r[e]}));switch(this.props.SearchResult.sortPeference){case"NameAscending":c.sort(function(e,t){var a=e.name.toUpperCase(),n=t.name.toUpperCase();return a<n?-1:a>n?1:0});break;case"NameDescending":c.sort(function(e,t){var a=e.name.toUpperCase(),n=t.name.toUpperCase();return a>n?-1:a<n?1:0});break;case"PriceDescending":c.sort(function(e,t){return e.price>t.price?-1:e.price<t.price?1:0});break;case"PriceAscending":c.sort(function(e,t){return e.price<t.price?-1:e.price>t.price?1:0});break;case"RatingAscending":c.sort(function(e,t){return e.averageRating<t.averageRating?-1:e.averageRating>t.averageRating?1:0});break;case"RatingDescending":c.sort(function(e,t){return console.log(e.averageRating),e.averageRating>t.averageRating?-1:e.averageRating<t.averageRating?1:0});break;default:console.log("default")}return i=0!==c.length?c.map(function(t){return o.a.createElement("div",{id:"hotel-result-id-".concat(t.hotelID.toString()),key:t.hotelID.toString(),className:"hotel-info-2"},o.a.createElement("img",{className:"hotel-icon-2",src:t.photo,onClick:function(t){e.onClickHotelInfo(t)},alt:"NA"}),o.a.createElement("div",{className:"hotel-detail-2"},o.a.createElement("div",{className:"hotel-row-2"},o.a.createElement("div",{className:"hotel-name-2"},t.name),o.a.createElement(qe,{rating:t.averageRating})),o.a.createElement("div",{className:"hotel-row2-2"},o.a.createElement("div",{className:"hotel-address-2"},t.district),o.a.createElement("div",{className:"hotel-price-2"}," starting $",t.price))))}):o.a.createElement("h3",null,"No available hotel is found. Refine your search with above filters."),o.a.createElement("div",{className:"result-body"},o.a.createElement("div",{className:"filter-container"},o.a.createElement(Le,null),"  ",o.a.createElement(We,null)),o.a.createElement("div",{className:"hotel-container-2"},i))}}]),t}(o.a.Component),_e=Object(B.a)(Object(i.b)(function(e){return console.log(e.search.haveSearch),{SearchResult:e.search,SearchAuthenticate:e.search.haveSearch}},function(e){return{changeHotelId:function(t){return e({type:"CHANGEHOTELID",hotelId:t})}}})(ze)),Ue=function(e){function t(){return Object(k.a)(this,t),Object(T.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return console.log(typeof Number(this.props.rating)+this.props.rating),o.a.createElement(ye.a,{rating:Number(this.props.rating),widgetDimensions:"20px",widgetSpacings:"2px"},o.a.createElement(ye.a.Widget,{widgetRatedColor:"rgb(252, 184, 40)"}),o.a.createElement(ye.a.Widget,{widgetRatedColor:"rgb(252, 184, 40)"}),o.a.createElement(ye.a.Widget,{widgetRatedColor:"rgb(252, 184, 40)"}),o.a.createElement(ye.a.Widget,{widgetRatedColor:"rgb(252, 184, 40)"}),o.a.createElement(ye.a.Widget,{widgetRatedColor:"rgb(252, 184, 40)"}))}}]),t}(o.a.Component),Ke=a(139),Ve=a.n(Ke),Ge=function(e){function t(){return Object(k.a)(this,t),Object(T.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return o.a.createElement(Ve.a,{images:this.props.urlArray,width:"80vh",imagesWidth:"70vh",imagesHeight:"50vh",imagesHeightMobile:"80vw",thumbnailsWidth:"70vh",thumbnailsHeight:"12vw",indicators:!0,thumbnails:!0,fixedImagesHeight:!0})}}]),t}(o.a.Component);a(322);V.b.add($.f),V.b.add($.p);var $e=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(T.a)(this,Object(w.a)(t).call(this,e))).onLoadDateChange=Object(K.a)(U.a.mark(function e(){return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.props.SearchResult.startDate=h()(new Date).format("YYYY-MM-DD"),a.props.SearchResult.endDate=h()(new Date).format("YYYY-MM-DD"),a.props.onSearch(a.props.SearchResult),e.next=5,a.setState({startDate:h()(new Date).format("YYYY-MM-DD"),endDate:h()(new Date).format("YYYY-MM-DD")});case 5:M.a.post("https://petvago.site/api/search/",{startDate:a.props.SearchResult.startDate,endDate:a.props.SearchResult.endDate,district:a.props.SearchResult.district||"all",petType:a.props.SearchResult.petType||"all"}).then(function(e){null===e||a.props.afterSearch(e.data)}).catch(function(e){console.log(e)});case 6:case"end":return e.stop()}},e,this)})),a.dateChange=function(){var e=Object(K.a)(U.a.mark(function e(t,n){return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.props.SearchResult.startDate=h()(new Date(n.startDate._d)).format("YYYY-MM-DD"),a.props.SearchResult.endDate=h()(new Date(n.endDate._d)).format("YYYY-MM-DD"),a.props.onSearch(a.props.SearchResult),e.next=6,a.setState({startDate:h()(new Date(n.startDate._d)).format("YYYY-MM-DD"),endDate:h()(new Date(n.endDate._d)).format("YYYY-MM-DD")});case 6:M.a.post("https://petvago.site/api/search/",{startDate:a.props.SearchResult.startDate,endDate:a.props.SearchResult.endDate,district:a.props.SearchResult.district||"all",petType:a.props.SearchResult.petType||"all"}).then(function(e){null===e?console.log("you are living failure"):(console.log(e.data),a.props.afterSearch(e.data))}).catch(function(e){console.log(e)});case 7:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),a.handleBookingRoomType=function(){var e=Object(K.a)(U.a.mark(function e(t){var n,o,r,l,i,c,s,m,p,u,h,d,g;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Number(t.currentTarget.parentElement.id.replace("roomType-id-","")),o=t.currentTarget.parentElement.children[1].id.replace("roomType-",""),r=t.currentTarget.parentElement.children[3].id.replace("roomType-price-",""),e.next=5,a.setState({roomTypeID:n,roomType:o,roomPrice:r});case 5:l={hotelID:a.state.hotelID,roomTypeID:a.state.roomTypeID,startDate:a.state.startDate,endDate:a.state.endDate},i=a.state.hotelID,c=a.state.hotelName,s=a.state.hotelIcon,m=a.state.roomTypeID,p=a.state.roomType,u=a.state.roomPrice,h=a.state.vaccineRequirement,d=a.props.history,(g=localStorage.getItem("petvago-token"))||a.props.history.push("/login"),M.a.post("https://petvago.site/api/booking/create-booking",l,{headers:{Authorization:"Bearer ".concat(g)}}).then(function(e){var t={bookingStartDate:l.startDate,bookingEndDate:l.endDate,hotelID:i,expiryTime:e.data.expiryTime,bookingID:e.data.bookingID,hotelName:c,hotelIcon:s,roomTypeID:m,roomType:p,roomPrice:u,vaccineRequirement:h};a.props.chooseHotel(t)}).then(function(){d.push("/booking")}).catch(function(e){return console.log(e)});case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.contactHotel=function(e){var t=a.props.history,n=localStorage.getItem("petvago-token");if(n){var o=JSON.parse(window.atob(localStorage.getItem("petvago-token").split(".")[1]));console.log(o),o.isHotel?alert("only customers are able to contact hotel"):M.a.post("https://petvago.site/api/chatroom/addchat",{hotelID:e},{headers:{Authorization:"Bearer ".concat(n)}}).then(function(e){console.log("contact",e.data.conversationID),t.push({pathname:"/chatroom",state:{conversationID:e.data.conversationID}})}).catch(function(e){return console.log(e)})}else alert("please login before you contact hotel")},a.state={hotelID:a.props.HotelID.hotelId,hotelName:"Fake Hotel & Spa",hotelIcon:"",hotelAddress:"1 Downing Street, London",hotelAverageRating:1,hotelDescription:"I am Descripiton",hotelEmail:"dafdw!@email.com",hotelPhone:"2180000",hotelLatitude:22.320188,hotelLongitude:114.175812,roomTypeArr:[],roomTypeID:0,roomType:"",roomPrice:100,reviewArr:[],gallery:[],vaccineRequirement:{vaccine:["DHPPiL","Rabies"]},startDate:"DD-MM-YYYY",endDate:"DD-MM-YYYY"},0===a.state.hotelID&&a.props.history.push("/"),a.props.SearchResult.searchResult||a.onLoadDateChange(),a}return Object(S.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=Object(K.a)(U.a.mark(function e(){var t,a,n,o,r,l,i,c;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("https://petvago.site/api/hotel/"+this.state.hotelID);case 3:return t=e.sent,e.next=6,M.a.get("https://petvago.site/api/review/hotel/"+this.state.hotelID);case 6:for(a=e.sent,n=t.data[0],console.log(n),o=a.data,r=n.hotelPhoto.map(function(e){return e.path}),l=r.filter(function(e){return!!e}),i=0;i<n.roomType.length;i++)if("undefined"===typeof n.roomType[i].photo.length)!0===n.roomType[i].photo.icon&&(n.roomType[i].icon=n.roomType[i].photo.path);else for(c=0;c<n.roomType[i].photo.length;c++)!0===n.roomType[i].photo[c].icon&&(n.roomType[i].icon=n.roomType[i].photo[c].path);return e.next=15,this.setState({hotelID:n.id,hotelName:n.name,hotelIcon:l[0],hotelAddress:n.address,hotelAverageRating:n.averageRating,hotelDescription:n.hotelDescription,hotelEmail:n.email,hotelPhone:n.telephone,hotelLatitude:n.latitude,hotelLongitude:n.longitude,roomTypeArr:n.roomType,reviewArr:o,gallery:l,vaccineRequirement:n.vaccineRequirement,startDate:this.props.SearchResult.startDate,endDate:this.props.SearchResult.endDate});case 15:window.scrollTo(0,0),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}},e,this,[[0,18]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=(new Date).toISOString().split("T")[0],a=new Date;a.setDate(a.getDate()+84),a=a.toISOString().split("T")[0];var n=this.state.vaccineRequirement.vaccine.map(function(e,t){return o.a.createElement("li",{key:t,className:"hotel-vaccine-list-3"}," ",e," ")}),r=this.state.roomTypeArr.map(function(t){var a=e.props.SearchResult.searchResult,n=o.a.createElement("button",null,"NULL");a&&(n=a.map(function(e){return e.roomTypeID}).indexOf(t.roomTypeID)>-1?o.a.createElement("button",{className:"btn btn-outline-info hotel-room-data-card-booking",onClick:e.handleBookingRoomType},"Book"):o.a.createElement("button",{className:"btn btn-danger hotel-room-data-card-booking disabled"}," Full "));return o.a.createElement("div",{key:t.roomTypeID,id:"roomType-id-".concat(t.roomTypeID),className:"hotel-room-data-card"},o.a.createElement("img",{className:"hotel-room-data-card-icon",src:t.icon,alt:"NA"}),o.a.createElement("div",{id:"roomType-".concat(t.roomType),className:"hotel-room-data-card-type"},t.roomType),o.a.createElement("div",{className:"hotel-room-data-card-description"},t.description),o.a.createElement("div",{id:"roomType-price-".concat(t.price),className:"hotel-room-data-card-price"},"$",t.price),n)}),l=this.state.reviewArr.map(function(e){return o.a.createElement("div",{key:e.bookingID,className:"hotel-review-box card"},o.a.createElement("p",{className:"hotel-review-user-name"}," ",e.username," "),o.a.createElement(Ue,{rating:e.rating}),o.a.createElement("div",{className:"hotel-review-text"},e.comment))}),i=o.a.createElement("div",{className:"hotel-body"},this.state.chosenHotel,o.a.createElement("div",{className:"hotel-row-3"},o.a.createElement("div",{className:"hotel-row-3-a card"},o.a.createElement("div",{className:"hotel-name-3"},this.state.hotelName),o.a.createElement("div",{className:"hotel-rate-3"},o.a.createElement(Ue,{rating:this.state.hotelAverageRating})),o.a.createElement("div",null,o.a.createElement("button",{onClick:function(){return e.contactHotel(e.state.hotelID)},type:"button",className:"btn mybooking-button","data-dismiss":"modal"},o.a.createElement(G.a,{icon:"comments",style:{marginRight:"10px",color:"#fff"}}),"Contact Hotel")),o.a.createElement("div",{className:"hotel-telephone-3"},o.a.createElement(G.a,{icon:"phone-square"}),this.state.hotelPhone),o.a.createElement("p",{className:"hotel-address-3"},this.state.hotelAddress),o.a.createElement("div",{className:"hotel-map-container"},o.a.createElement(he,{markerArray:[{coords:{lat:this.state.hotelLatitude,lng:this.state.hotelLongitude},content:"<h1>Dogotel & Spa</h1>"}],zoom:17,height:"30vh",width:"45vh"}))),o.a.createElement("div",{className:"hotel-row-3-b"},o.a.createElement("div",{className:"hotel-photo-3"},o.a.createElement(Ge,{urlArray:this.state.gallery})))),o.a.createElement("div",{className:"hotel-description-3 card"},this.state.hotelDescription),o.a.createElement("div",{className:"hotel-room-type-3"},o.a.createElement("p",{className:"align-left room-type-title"}," Room type"),o.a.createElement(Q.a,{minDate:h()(new Date(t)),maxDate:h()(new Date(a)),startDate:h()(new Date(this.props.SearchResult.startDate||t)),endDate:h()(new Date(this.props.SearchResult.endDate||t)),onApply:this.dateChange,props:this.props},o.a.createElement("button",{className:"searchDate btn btn-outline-secondary"},"From ",this.props.SearchResult.startDate||t," to ",this.props.SearchResult.endDate||t," ")),o.a.createElement("div",{className:"hotel-room-data-card-container"},r)),o.a.createElement("div",{className:"hotel-vaccine-3"},o.a.createElement("p",{className:"align-left"}," Vaccine Requirement"),o.a.createElement("ul",{className:"hotel-vaccine-list-3"},n)),o.a.createElement("div",{className:"hotel-review-3"},o.a.createElement("p",{className:"align-left"}," Review"),o.a.createElement("div",{className:"hotel-review-panel-3"},l)));return o.a.createElement("div",{className:"hotel-upper-body",id:"hotelPage"},o.a.createElement("div",{className:"hotel-border"},i))}}]),t}(n.Component),Je=Object(i.b)(function(e){return{SearchResult:e.search,HotelID:e.hotelId}},function(e){return{chooseHotel:function(t){e(function(e){return{type:"CHOOSE_HOTEL_TO_BOOK",payload:e}}(t))},onSearch:function(t){return e({type:"SEARCHHOTEL",history:t})},afterSearch:function(t){return e({type:"SEARCHRESULT",result:t})}}})(Object(B.a)($e)),Qe=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(T.a)(this,Object(w.a)(t).call(this,e))).home=function(){a.props.history.push("/")},a.state={},a}return Object(S.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"20vh",fontFamily:"Sarabun"}},o.a.createElement("h2",{style:{fontSize:"30px"}},"Seems like this page does not exist!"),o.a.createElement("img",{style:{borderRadius:"50%",marginTop:"30px"},src:"./image/testamonial1.jpg",alt:"dog"}),o.a.createElement("button",{className:"booking-button",style:{width:"200px"},onClick:this.home},"Go to homepage"))}}]),t}(n.Component),Ze=Object(B.a)(Qe),Xe=a(47),et=(a(324),a(140));a(402);V.b.add($.v);var tt=function(e){function t(){return Object(k.a)(this,t),Object(T.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(N.a)(t,[{key:"convertYMD",value:function(e){var t=e.getMonth()+1,a=e.getDate();return[e.getFullYear(),(t>9?"":"0")+t,(a>9?"":"0")+a].join("-")}},{key:"render",value:function(){var e=this,t=this.props.orderBookingContent.map(function(t){var a={display:t.display},n=Object.keys(t.service).map(function(e){return o.a.createElement("li",null,e,": ",t.service[e])}),r=null;null!==t.vaccineRequirement&&(r=t.vaccineRequirement.vaccine.map(function(e){return o.a.createElement("li",null,e)}));var l=null;null!==r&&(l=o.a.createElement("div",null,o.a.createElement("br",null),o.a.createElement("h3",null,"Vaccine Requirement:"),o.a.createElement("ul",null,r)));var i=null;null!==t.totalPrice&&(i=o.a.createElement("div",null,o.a.createElement("h3",null,"Total Price:"),t.totalPrice,o.a.createElement("br",null),o.a.createElement("br",null)));var c=null;null!==t.petName&&(c=o.a.createElement("div",null,o.a.createElement("h3",null,"Pet:"),"Pet Name:   ",t.petName,o.a.createElement("br",null),"Pet Type:   ",t.petType,o.a.createElement("br",null),"Pet Weight: ",t.petWeight,o.a.createElement("br",null),o.a.createElement("br",null)));var s=null;return s=void 0===t.service.reference?o.a.createElement("div",null,o.a.createElement("h3",null,"Service:"),o.a.createElement("ul",null,n)):o.a.createElement("div",null,o.a.createElement("h3",null,"Reference:"),o.a.createElement("ul",null,t.service.reference)),o.a.createElement("tbody",{key:t.id,id:"Order-".concat(t.id)},o.a.createElement("tr",null,o.a.createElement("td",null,t.id),o.a.createElement("td",null,t.ownerName),o.a.createElement("td",null,t.ownerPhone),o.a.createElement("td",null,"outside"===t.status?"offline":t.status),o.a.createElement("td",null,o.a.createElement(G.a,{icon:"sort-down",onClick:e.props.openOrder}))),o.a.createElement("tr",{style:a},o.a.createElement("td",{colSpan:5},o.a.createElement("h1",null,"Detail:"),o.a.createElement("br",null),o.a.createElement("p",null,o.a.createElement("h3",null,"Booking Date:"),"Start Date: ",e.convertYMD(new Date(t.startDate)),o.a.createElement("br",null),"End Date:   ",e.convertYMD(new Date(t.endDate)),o.a.createElement("br",null),"Duration:   ",t.duration," days",o.a.createElement("br",null),o.a.createElement("br",null),i,c,s,l))))});return o.a.createElement("div",{className:"modal fade",id:"OrderModal",tabIndex:"-1",role:"dialog","aria-labelledby":"OrderModalLabel","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("div",{className:"modal-header"},o.a.createElement("h5",{className:"modal-title",id:"OrderModalLabel"},"List of Order"),o.a.createElement("h6",null,"Room Type:   ",this.props.orderRoomType),o.a.createElement("h6",null,"Search Date: ",this.props.orderRoomDate),o.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},o.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),o.a.createElement("div",{className:"order-list"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",null,o.a.createElement("th",null,"Order ID"),o.a.createElement("th",null,"Owner Name"),o.a.createElement("th",null,"Owner Tel"),o.a.createElement("th",null,"Booking Type"),o.a.createElement("th",null,"Detail")),t)))))}}]),t}(o.a.Component),at=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(T.a)(this,Object(w.a)(t).call(this,e))).handleDateChange=function(){var e=Object(K.a)(U.a.mark(function e(t,n){var o;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),o=a.findfirstDOW(new Date(n.startDate._d))>new Date?a.findfirstDOW(new Date(n.startDate._d)):new Date,e.next=4,a.setState({startDOW:a.convertYMD(a.findfirstDOW(new Date(n.startDate._d))),startDate:a.convertYMD(o),endDate:a.convertYMD(a.findLastDOW(new Date(n.startDate._d)))});case 4:a.searchBookingRecord(a.state.startDate,a.state.endDate);case 5:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),a.handleBookingDateChange=function(e,t){e.preventDefault(),a.setState({bookingStartDate:a.convertYMD(new Date(t.startDate._d)),bookingEndDate:a.convertYMD(new Date(t.endDate._d))})},a.handleInputChange=function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;a.setState(Object(I.a)({},e.target.name,t))},a.handleRoomType=function(e){a.setState({bookingRoomType:e.target.value})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.booking.find(function(e){return e.roomType===a.state.bookingRoomType}).roomTypeID;M.a.post("https://petvago.site/api/booking/offline-booking",{startDate:new Date(a.state.bookingStartDate),endDate:new Date(a.state.bookingEndDate),roomTypeID:t,service:{reference:a.state.bookingReference}},{headers:{Authorization:"Bearer ".concat(a.jwt)}}).then(function(){var e=Object(K.a)(U.a.mark(function e(t){return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({isUpdateSuccessful:!0,bookingReference:""}),setTimeout(function(){this.setState({isUpdateSuccessful:!1})}.bind(Object(Xe.a)(Object(Xe.a)(a))),2e3),a.searchBookingRecord(a.state.startDate,a.state.endDate);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.log(e)})},a.handleAccidentalSubmit=function(e){e.preventDefault()},a.handleReset=function(e){a.setState({bookingStartDate:a.convertYMD(new Date),bookingEndDate:a.convertYMD(new Date),bookingRoomType:"",bookingReference:""})},a.handleEditDetail=function(){a.props.history.push("/edit-hotel-info")},a.handleChartClick=function(e){void 0!==e[0]._chart&&M.a.put("https://petvago.site/api/booking/hotel-by-day",{roomTypeID:e[0]._chart.titleBlock.options.text.replace("roomType-",""),date:a.convertYMDFromDM(e[0]._model.label)},{headers:{Authorization:"Bearer ".concat(a.jwt)}}).then(function(t){var n=a.state.booking.find(function(t){return t.roomTypeID.toString()===e[0]._chart.titleBlock.options.text.replace("roomType-","")}).roomType;void 0===n&&(n="");var o=t.data.map(function(e){return Object(p.a)({},e,{display:"none"})});a.setState({orderBookingContent:o,orderRoomDate:e[0]._model.label,orderRoomType:n})}).catch(function(e){console.log("error: ",e)})},a.openOrder=function(e){var t=e.currentTarget.parentElement.parentElement.parentElement.id.replace("Order-",""),n=a.state.orderBookingContent,o=n.find(function(e){return e.id.toString()===t}),r=n.findIndex(function(e){return e.id.toString()===t});"none"===o.display?o.display="":o.display="none",n[r]=o,a.setState({orderBookingContent:n})},a.mm=(new Date).getMonth()+1,a.dd=(new Date).getDate(),a.state={hotelName:"",minDate:a.convertYMD(a.addDay(new Date,-1)),startDOW:a.convertYMD(a.findfirstDOW(new Date)),startDate:a.convertYMD(new Date),endDate:a.convertYMD(a.findLastDOW(new Date)),booking:[],isDataReceived:!1,bookingStartDate:a.convertYMD(new Date),bookingEndDate:a.convertYMD(new Date),bookingRoomType:"",bookingReference:"",isUpdateSuccessful:!1,orderBookingContent:[],orderRoomType:"",orderRoomDate:""},a.rooms=null,a.options=null,a.updateSuccess=null,a.jwt=localStorage.getItem("petvago-token"),a}return Object(S.a)(t,e),Object(N.a)(t,[{key:"addDay",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Date(e.setTime(e.getTime()+864e5*t))}},{key:"convertYMD",value:function(e){var t=e.getMonth()+1,a=e.getDate();return[e.getFullYear(),(t>9?"":"0")+t,(a>9?"":"0")+a].join("-")}},{key:"convertYMDFromDM",value:function(e){var t=e.split("/")[1],a=e.split("/")[0];return[(new Date).getFullYear(),(t>9?"":"0")+t,(a>9?"":"0")+a].join("-")}},{key:"findLastDOW",value:function(e){for(;e.getDay()<6;)e=this.addDay(e);return e}},{key:"findfirstDOW",value:function(e){for(;e.getDay()>0;)e=this.addDay(e,-1);return e}}]),Object(N.a)(t,[{key:"convertDM",value:function(e){var t=e.getMonth()+1;return[e.getDate(),t].join("/")}},{key:"searchBookingRecord",value:function(e,t){var a=this;return new Promise(function(n,o){M.a.put("https://petvago.site/api/booking/hotel-with-date",{startDate:e,endDate:t},{headers:{Authorization:"Bearer ".concat(a.jwt)}}).then(function(){var e=Object(K.a)(U.a.mark(function e(t){var o;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.data.sort(function(e,t){return e.roomType<t.roomType?-1:e.roomType>t.roomType?1:0}),e.next=3,a.setState({booking:o,isDataReceived:!0});case 3:n();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.log(e),o(e)})})}},{key:"componentDidMount",value:function(){var e=Object(K.a)(U.a.mark(function e(){var t=this;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.searchBookingRecord(this.state.startDate,this.state.endDate);case 2:return e.next=4,this.setState({bookingRoomType:this.state.booking[0].roomType});case 4:return e.next=6,M.a.get("https://petvago.site/api/hotel/edit/info",{headers:{Authorization:"Bearer ".concat(this.jwt)}}).then(function(){var e=Object(K.a)(U.a.mark(function e(a){return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({hotelName:a.data[0].name});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());case 6:window.scrollTo(0,0);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;this.state.isDataReceived&&(this.rooms=this.state.booking.map(function(t){for(var a=[],n=0;n<7;n++)a.push(e.convertDM(e.addDay(new Date(e.state.startDOW),n)));var r={tooltips:{mode:"index",intersect:!1},responsive:!0,scales:{yAxes:[{stacked:!0}],xAxes:[{stacked:!0}]},title:{text:"roomType-".concat(t.roomTypeID)}},l=[],i=[],c=[],s=[],m=function(n){var o=t.dateArr.find(function(t){return e.convertDM(new Date(t.date))===e.convertDM(new Date([a[n].split("/")[1],a[n].split("/")[0]].join("/")))});void 0===o?(l.push(0),i.push(0),c.push(0),s.push(t.quantity)):(l.push(o.availability.available),i.push(o.availability.confirmed),c.push(o.availability.outside),s.push(0))};for(var p in a)m(p);var u={labels:a,datasets:[{label:"available",backgroundColor:"#8DCF8A",data:l},{label:"confirmed",backgroundColor:"#FFB0AA",data:i},{label:"outside",backgroundColor:"#D4996A",data:c},{label:"past",backgroundColor:"#777777",data:s}]};return o.a.createElement("tr",{key:t.roomTypeID},o.a.createElement("td",null,t.roomType),o.a.createElement("td",{colSpan:7,"data-toggle":"modal","data-target":"#OrderModal"},o.a.createElement(et.a,{data:u,options:r,onElementsClick:function(t){return e.handleChartClick(t)}})))}));var t=0;return this.options=this.state.booking.map(function(e){return t++,o.a.createElement("option",{key:t},e.roomType)}),this.state.isUpdateSuccessful?this.updateSuccess=o.a.createElement("h6",{className:"update-success"},"Booking updated successfully"):this.updateSuccess=null,o.a.createElement("div",{id:"HostManagement"},o.a.createElement("div",{className:"bg-image"}),o.a.createElement("section",null,o.a.createElement("h2",{className:"h2Title"},"Hotel Name: ",o.a.createElement("span",{className:"hotel-name"},this.state.hotelName)),o.a.createElement("button",{type:"button",className:"btn btn-outline-secondary edit-detail",onClick:this.handleEditDetail},"Edit Detail"),o.a.createElement("div",{className:"booking-management"},o.a.createElement(Q.a,{singleDatePicker:!0,minDate:h()(new Date(this.state.minDate)),startDate:h()(new Date(this.state.startDOW)),endDate:h()(new Date(this.state.endDate)),onApply:this.handleDateChange},o.a.createElement("button",{className:"date-picker btn btn-lg btn-outline-secondary"},"From ",this.state.startDOW," to ",this.state.endDate," ")),o.a.createElement("table",{className:"table table-hover table-bordered"},o.a.createElement("thead",{className:"thead-dark"},o.a.createElement("tr",null,o.a.createElement("th",{className:""}),o.a.createElement("th",{className:"th-dow"},this.convertDM(new Date(this.state.startDOW))),o.a.createElement("th",{className:"th-dow"},this.convertDM(this.addDay(new Date(this.state.startDOW)))),o.a.createElement("th",{className:"th-dow"},this.convertDM(this.addDay(new Date(this.state.startDOW),2))),o.a.createElement("th",{className:"th-dow"},this.convertDM(this.addDay(new Date(this.state.startDOW),3))),o.a.createElement("th",{className:"th-dow"},this.convertDM(this.addDay(new Date(this.state.startDOW),4))),o.a.createElement("th",{className:"th-dow"},this.convertDM(this.addDay(new Date(this.state.startDOW),5))),o.a.createElement("th",{className:"th-dow"},this.convertDM(this.addDay(new Date(this.state.startDOW),6)))),o.a.createElement("tr",null,o.a.createElement("th",{className:""}),o.a.createElement("th",{className:"th-dow"},"Sun"),o.a.createElement("th",{className:"th-dow"},"Mon"),o.a.createElement("th",{className:"th-dow"},"Tue"),o.a.createElement("th",{className:"th-dow"},"Wed"),o.a.createElement("th",{className:"th-dow"},"Thu"),o.a.createElement("th",{className:"th-dow"},"Fri"),o.a.createElement("th",{className:"th-dow"},"Sat"))),o.a.createElement("tbody",null,this.rooms))),o.a.createElement("div",{id:"OfflineBooking"},o.a.createElement("h2",null,"Offline Booking:"),this.updateSuccess,o.a.createElement("form",{onSubmit:this.handleAccidentalSubmit},o.a.createElement("table",{className:"table"},o.a.createElement("tr",{className:"table-light"},o.a.createElement("td",null,o.a.createElement("label",null,"Date: ")),o.a.createElement("td",null,o.a.createElement(Q.a,{minDate:h()(new Date(this.state.minDate)),startDate:h()(new Date(this.state.bookingStartDate)),endDate:h()(new Date(this.state.bookingEndDate)),onApply:this.handleBookingDateChange},o.a.createElement("button",{className:"date-picker btn btn-info"},"From ",this.state.bookingStartDate," to ",this.state.bookingEndDate," ")))),o.a.createElement("tr",{className:"table-light"},o.a.createElement("td",null,o.a.createElement("label",null,"Room Type: ")),o.a.createElement("td",null,o.a.createElement("div",null,o.a.createElement("select",{className:"form-control",id:"sel1",onChange:this.handleRoomType},this.options)))),o.a.createElement("tr",{className:"table-light"},o.a.createElement("td",null,o.a.createElement("label",null,"Reference: ")),o.a.createElement("td",null,o.a.createElement("textarea",{type:"text",name:"bookingReference",value:this.state.bookingReference,onChange:this.handleInputChange,className:"inputField"})))),o.a.createElement("div",{class:"form-footer"},o.a.createElement("input",{type:"submit",value:"Submit",className:"btn btn-success btn-lg px-5",onClick:this.handleSubmit}),o.a.createElement("button",{onClick:this.handleReset,className:"btn btn-lg px-5"},"Reset"))))),o.a.createElement(tt,{orderBookingContent:this.state.orderBookingContent,orderRoomDate:this.state.orderRoomDate,orderRoomType:this.state.orderRoomType,openOrder:this.openOrder}))}}]),t}(o.a.Component),nt=function(e){return o.a.createElement("div",null,o.a.createElement("h1",null,"You are logged in as ",e.username),o.a.createElement(he,{markerArray:[{coords:{lat:22.320188,lng:114.175812},content:"<h1>Dogotel & Spa</h1>"}],zoom:13,height:300,width:400}),o.a.createElement("img",{src:"https://firebasestorage.googleapis.com/v0/b/petvago-6b2c9.appspot.com/o/lich.png?alt=media&token=cec2bd70-bbf9-4d9b-8ade-0404d537973f",alt:"testing lich"}),o.a.createElement(Te,null))},ot=function(e){function t(){return Object(k.a)(this,t),Object(T.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(ge,null),o.a.createElement("div",{className:"main-body"},o.a.createElement(x.a,null,o.a.createElement(R.a,null,o.a.createElement(C.a,{exact:!0,path:"/test_home",component:nt}),o.a.createElement(C.a,{exact:!0,path:"/",component:Ne}),o.a.createElement(C.a,{exact:!0,path:"/search",component:X}),o.a.createElement(C.a,{exact:!0,path:"/search_result",component:_e}),o.a.createElement(C.a,{exact:!0,path:"/login",component:z}),o.a.createElement(C.a,{exact:!0,path:"/user",component:te}),o.a.createElement(C.a,{exact:!0,path:"/message",component:ne}),o.a.createElement(C.a,{exact:!0,path:"/chatroom",component:me}),o.a.createElement(C.a,{exact:!0,path:"/edit-hotel-info",component:Re}),o.a.createElement(C.a,{exact:!0,path:"/host-management",component:at}),o.a.createElement(C.a,{exact:!0,path:"/booking",component:Ie}),o.a.createElement(C.a,{exact:!0,path:"/hotel",component:Je}),o.a.createElement(C.a,{exact:!0,path:"/confirmation",component:Pe}),o.a.createElement(C.a,{exact:!0,path:"/mybooking",component:Be}),o.a.createElement(C.a,{component:Ze}),o.a.createElement(ue,null))),o.a.createElement("div",{className:"push"})),o.a.createElement(fe,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var rt=Object(c.c)({search:g,hotel:f,hotelId:E,login:D}),lt=Object(c.d)(rt,Object(c.a)(m.a));l.a.render(o.a.createElement(i.a,{store:lt},o.a.createElement(ot,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},94:function(e,t,a){}},[[142,2,1]]]);
//# sourceMappingURL=main.854c66ac.chunk.js.map